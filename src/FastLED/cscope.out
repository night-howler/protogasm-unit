cscope 15 $HOME/Arduino/libraries/FastLED               0000716660
	@src/FastLED.cpp

1 
	#FASTLED_INTERNAL


	)

2 
	~"Fa¡LED.h
"

5 #ià
defšed
(
__SAM3X8E__
)

6 vŞ©
ušt32_t
 
	gfuck™
;

9 
FASTLED_NAMESPACE_BEGIN


11 *
	gpSm¬tM©rix
 = 
NULL
;

13 
CFa¡LED
 
	gFa¡LED
;

15 
CLEDCÚŒŞËr
 *
	gCLEDCÚŒŞËr
::
m_pH—d
 = 
NULL
;

16 
CLEDCÚŒŞËr
 *
	gCLEDCÚŒŞËr
::
m_pTa
 = 
NULL
;

17 
ušt32_t
 
	gÏ¡show
 = 0;

19 
ušt32_t
 
	g_äame_út
=0;

20 
ušt32_t
 
	g_»Œy_út
=0;

24 
	gCFa¡LED
::
	$CFa¡LED
() {

27 
m_SÿË
 = 255;

28 
m_nFPS
 = 0;

29 
m_pPow”Func
 = 
NULL
;

30 
m_nPow”D©a
 = 0xFFFFFFFF;

31 
	}
}

33 
	gCLEDCÚŒŞËr
 &
	gCFa¡LED
::
	$addLeds
(
CLEDCÚŒŞËr
 *
pLed
,

34 
CRGB
 *
d©a
,

35 
nLedsOrOff£t
, 
nLedsIfOff£t
) {

36 
nOff£t
 = (
nLedsIfOff£t
 > 0è? 
nLedsOrOff£t
 : 0;

37 
nLeds
 = (
nLedsIfOff£t
 > 0è?‚LedsIfOff£ˆ: 
nLedsOrOff£t
;

39 
pLed
->
	`š™
();

40 
pLed
->
	`£tLeds
(
d©a
 + 
nOff£t
, 
nLeds
);

41 
Fa¡LED
.
	`£tMaxReäeshR©e
(
pLed
->
	`g‘MaxReäeshR©e
(),
Œue
);

42  *
pLed
;

43 
	}
}

45 
	gCFa¡LED
::
	$show
(
ušt8_t
 
sÿË
) {

47 
m_nMšMiüos
 && ((
	`miüos
()-
Ï¡show
) < m_nMinMicros));

48 
Ï¡show
 = 
	`miüos
();

51 if(
m_pPow”Func
) {

52 
sÿË
 = (*
m_pPow”Func
)(sÿË, 
m_nPow”D©a
);

55 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
	`h—d
();

56 
pCur
) {

57 
ušt8_t
 
d
 = 
pCur
->
	`g‘D™h”
();

58 if(
m_nFPS
 < 100è{ 
pCur
->
	`£tD™h”
(0); }

59 
pCur
->
	`showLeds
(
sÿË
);

60 
pCur
->
	`£tD™h”
(
d
);

61 
pCur
 =…Cur->
	`Ãxt
();

63 
	`couÁFPS
();

64 
	}
}

66 
	gCFa¡LED
::
	$couÁ
() {

67 
x
 = 0;

68 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
	`h—d
();

69  
pCur
) {

70 ++
x
;

71 
pCur
 =…Cur->
	`Ãxt
();

73  
x
;

74 
	}
}

76 
	gCLEDCÚŒŞËr
 & 
	gCFa¡LED
::
İ”©Ü
[](
x
) {

77 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
h—d
();

78 
	gx
-- && 
	gpCur
) {

79 
	gpCur
 = 
pCur
->
Ãxt
();

81 if(
	gpCur
 =ğ
NULL
) {

82  *(
CLEDCÚŒŞËr
::
h—d
());

84  *
	gpCur
;

88 
	gCFa¡LED
::
	$showCŞÜ
(cÚ¡ 
CRGB
 & 
cŞÜ
, 
ušt8_t
 
sÿË
) {

89 
m_nMšMiüos
 && ((
	`miüos
()-
Ï¡show
) < m_nMinMicros));

90 
Ï¡show
 = 
	`miüos
();

93 if(
m_pPow”Func
) {

94 
sÿË
 = (*
m_pPow”Func
)(sÿË, 
m_nPow”D©a
);

97 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
	`h—d
();

98 
pCur
) {

99 
ušt8_t
 
d
 = 
pCur
->
	`g‘D™h”
();

100 if(
m_nFPS
 < 100è{ 
pCur
->
	`£tD™h”
(0); }

101 
pCur
->
	`showCŞÜ
(
cŞÜ
, 
sÿË
);

102 
pCur
->
	`£tD™h”
(
d
);

103 
pCur
 =…Cur->
	`Ãxt
();

105 
	`couÁFPS
();

106 
	}
}

108 
	gCFa¡LED
::
	$ş—r
(
boŞ
 
wr™eD©a
) {

109 if(
wr™eD©a
) {

110 
	`showCŞÜ
(
	`CRGB
(0,0,0), 0);

112 
	`ş—rD©a
();

113 
	}
}

115 
	gCFa¡LED
::
	$ş—rD©a
() {

116 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
	`h—d
();

117 
pCur
) {

118 
pCur
->
	`ş—rLedD©a
();

119 
pCur
 =…Cur->
	`Ãxt
();

121 
	}
}

123 
	gCFa¡LED
::
	$d–ay
(
ms
) {

124 
¡¬t
 = 
	`mlis
();

126 #iâdeà
FASTLED_ACCURATE_CLOCK


129 ::
	`d–ay
(1);

131 
	`show
();

132 
	`y›ld
();

134 (
	`mlis
()-
¡¬t
è< 
ms
);

135 
	}
}

137 
	gCFa¡LED
::
	$£tTem³¿tu»
(cÚ¡ 
CRGB
 & 
‹mp
) {

138 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
	`h—d
();

139 
pCur
) {

140 
pCur
->
	`£tTem³¿tu»
(
‹mp
);

141 
pCur
 =…Cur->
	`Ãxt
();

143 
	}
}

145 
	gCFa¡LED
::
	$£tCÜ»ùiÚ
(cÚ¡ 
CRGB
 & 
cÜ»ùiÚ
) {

146 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
	`h—d
();

147 
pCur
) {

148 
pCur
->
	`£tCÜ»ùiÚ
(
cÜ»ùiÚ
);

149 
pCur
 =…Cur->
	`Ãxt
();

151 
	}
}

153 
	gCFa¡LED
::
	$£tD™h”
(
ušt8_t
 
d™h”Mode
) {

154 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
	`h—d
();

155 
pCur
) {

156 
pCur
->
	`£tD™h”
(
d™h”Mode
);

157 
pCur
 =…Cur->
	`Ãxt
();

159 
	}
}

203 
noi£_mš
;

204 
noi£_max
;

206 
	gCFa¡LED
::
	$couÁFPS
(
nF¿mes
) {

207 
br
 = 0;

208 
ušt32_t
 
Ï¡äame
 = 0;

210 if(
br
++ >ğ
nF¿mes
) {

211 
ušt32_t
 
now
 = 
	`mlis
();

212 
now
 -ğ
Ï¡äame
;

213 if(
now
 == 0) {

214 
now
 = 1;

216 
m_nFPS
 = (
br
 * 1000è/ 
now
;

217 
br
 = 0;

218 
Ï¡äame
 = 
	`mlis
();

220 
	}
}

222 
	gCFa¡LED
::
	$£tMaxReäeshR©e
(
ušt16_t
 
»äesh
, 
boŞ
 
cÚ¡¿š
) {

223 if(
cÚ¡¿š
) {

226 if(
»äesh
 > 0) {

227 
m_nMšMiüos
 = ((1000000 / 
»äesh
) > m_nMinMicros) ? (1000000 /„efresh) : m_nMinMicros;

229 } if(
»äesh
 > 0) {

230 
m_nMšMiüos
 = 1000000 / 
»äesh
;

232 
m_nMšMiüos
 = 0;

234 
	}
}

236 "C" 
©ex™
((* )()è{  0; 
	}
}

238 #ifdeà
FASTLED_NEEDS_YIELD


239 "C" 
	$y›ld
(è{ 
	}
}

242 #ifdeà
NEED_CXX_BITS


243 
Çme¥aû
 
__cxxabiv1


245 #ià!
defšed
(
ESP8266
è&& !defšed(
ESP32
)

246 "C" 
__cxa_pu»_vœtu®
 () {}

252 
__ex‹nsiÚ__
 
	t__gu¬d
 
	t__©Œibu‹__
((
	tmode
(
	t__DI__
)));

254 "C" 
__cxa_gu¬d_acquœe
 (
__gu¬d
 *è
__©Œibu‹__
((
w—k
));

255 "C" 
__cxa_gu¬d_»Ëa£
 (
__gu¬d
 *è
__©Œibu‹__
((
w—k
));

256 "C" 
__cxa_gu¬d_abÜt
 (
__gu¬d
 *è
__©Œibu‹__
((
w—k
));

258 "C" 
__cxa_gu¬d_acquœe
 (
__gu¬d
 *
g
)

260  !*(*)(
g
);

263 "C" 
__cxa_gu¬d_»Ëa£
 (
__gu¬d
 *
g
)

265 *(*)
g
 = 1;

268 "C" 
__cxa_gu¬d_abÜt
 (
__gu¬d
 *)

275 
FASTLED_NAMESPACE_END


	@src/FastLED.h

1 #iâdeà
__INC_FASTSPI_LED2_H


2 
	#__INC_FASTSPI_LED2_H


	)

7 #ià(
__GNUC__
 > 4è|| (__GNUC__ =ğ4 && 
__GNUC_MINOR__
 >= 4)

8 
	#FASTLED_HAS_PRAGMA_MESSAGE


	)

11 
	#FASTLED_VERSION
 3004000

	)

12 #iâdeà
FASTLED_INTERNAL


13 #ifdeà
FASTLED_HAS_PRAGMA_MESSAGE


14 #´agm¨
mes§ge
 "FastLED version 3.004.000"

16 #w¬nšg 
Fa¡LED
 
v”siÚ
 3.004.000 (
NÙ
 
»®ly
 
a
 
w¬nšg
, 
ju¡
 
‹Îšg
 
you
 
h”e
.)

20 #iâdeà
__PROG_TYPES_COMPAT__


21 
	#__PROG_TYPES_COMPAT__


	)

24 #ifdeà
Sm¬tM©rix_h


25 
	~<Sm¬tM©rix.h
>

28 #ifdeà
DmxSim¶e_h


29 
	~<DmxSim¶e.h
>

32 #ifdeà
DmxS”Ÿl_h


33 
	~<DMXS”Ÿl.h
>

36 
	~<¡dšt.h
>

38 
	~"ıp_com·t.h
"

40 
	~"ç¡Ëd_cÚfig.h
"

41 
	~"Ëd_sysdefs.h
"

44 
	~"ç¡Ëd_d–ay.h
"

45 
	~"b™sw­.h
"

47 
	~"cÚŒŞËr.h
"

48 
	~"ç¡pš.h
"

49 
	~"ç¡¥i_ty³s.h
"

50 
	~"dmx.h
"

52 
	~"¶©fÜms.h
"

53 
	~"ç¡Ëd_´ogmem.h
"

55 
	~"lib8tiÚ.h
"

56 
	~"pix–ty³s.h
"

57 
	~"hsv2rgb.h
"

58 
	~"cŞÜuts.h
"

59 
	~"pix–£t.h
"

60 
	~"cŞÜ·Ë‰es.h
"

62 
	~"noi£.h
"

63 
	~"pow”_mgt.h
"

65 
	~"ç¡¥i.h
"

66 
	~"ch£ts.h
"

68 
FASTLED_NAMESPACE_BEGIN


71 
	eESPICh£ts
 {

72 
	mLPD6803
,

73 
	mLPD8806
,

74 
	mWS2801
,

75 
	mWS2803
,

76 
	mSM16716
,

77 
	mP9813
,

78 
	mAPA102
,

79 
	mSK9822
,

80 
	mDOTSTAR


83 
	eESM
 { 
	mSMART_MATRIX
 };

84 
	eOWS2811
 { 
	mOCTOWS2811
,
	mOCTOWS2811_400
, 
	mOCTOWS2813
};

85 
	eSWS2812
 { 
	mWS2812SERIAL
 };

87 #ifdeà
HAS_PIXIE


88 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gPIXIE
 : 
public
 
Pix›CÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

91 #ifdeà
FASTLED_HAS_CLOCKLESS


92 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
> 
şass
 
	gNEOPIXEL
 : 
public
 
WS2812CÚŒŞËr800Khz
<
DATA_PIN
, 
	gGRB
> {};

93 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gSM16703
 : 
public
 
SM16703CÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

94 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gTM1829
 : 
public
 
TM1829CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

95 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gTM1812
 : 
public
 
TM1809CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

96 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gTM1809
 : 
public
 
TM1809CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

97 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gTM1804
 : 
public
 
TM1809CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

98 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gTM1803
 : 
public
 
TM1803CÚŒŞËr400Khz
<
DATA_PIN
, RGB_ORDER> {};

99 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gUCS1903
 : 
public
 
UCS1903CÚŒŞËr400Khz
<
DATA_PIN
, RGB_ORDER> {};

100 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gUCS1903B
 : 
public
 
UCS1903BCÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

101 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gUCS1904
 : 
public
 
UCS1904CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

102 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gUCS2903
 : 
public
 
UCS2903CÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

103 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gWS2812
 : 
public
 
WS2812CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

104 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gWS2852
 : 
public
 
WS2812CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

105 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gWS2812B
 : 
public
 
WS2812CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

106 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gGS1903
 : 
public
 
WS2812CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

107 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gSK6812
 : 
public
 
SK6812CÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

108 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gSK6822
 : 
public
 
SK6822CÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

109 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gAPA106
 : 
public
 
SK6822CÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

110 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gPL9823
 : 
public
 
PL9823CÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

111 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gWS2811
 : 
public
 
WS2811CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

112 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gWS2813
 : 
public
 
WS2813CÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

113 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gAPA104
 : 
public
 
WS2811CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

114 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gWS2811_400
 : 
public
 
WS2811CÚŒŞËr400Khz
<
DATA_PIN
, RGB_ORDER> {};

115 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gGE8822
 : 
public
 
GE8822CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

116 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gGW6205
 : 
public
 
GW6205CÚŒŞËr800Khz
<
DATA_PIN
, RGB_ORDER> {};

117 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gGW6205_400
 : 
public
 
GW6205CÚŒŞËr400Khz
<
DATA_PIN
, RGB_ORDER> {};

118 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gLPD1886
 : 
public
 
LPD1886CÚŒŞËr1250Khz
<
DATA_PIN
, RGB_ORDER> {};

119 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gLPD1886_8BIT
 : 
public
 
LPD1886CÚŒŞËr1250Khz_8b™
<
DATA_PIN
, RGB_ORDER> {};

120 #ifdeà
DmxSim¶e_h


121 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gDMXSIMPLE
 : 
public
 
DMXSim¶eCÚŒŞËr
<
DATA_PIN
, RGB_ORDER> {};

123 #ifdeà
DmxS”Ÿl_h


124 
	g‹m¶©e
<
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gDMXSERIAL
 : 
public
 
DMXS”ŸlCÚŒŞËr
<
RGB_ORDER
> {};

128 
	eEBlockCh£ts
 {

129 #ifdeà
PORTA_FIRST_PIN


130 
	mWS2811_PORTA
,

131 
	mWS2813_PORTA
,

132 
	mWS2811_400_PORTA
,

133 
	mTM1803_PORTA
,

134 
	mUCS1903_PORTA
,

136 #ifdeà
PORTB_FIRST_PIN


137 
	mWS2811_PORTB
,

138 
	mWS2813_PORTB
,

139 
	mWS2811_400_PORTB
,

140 
	mTM1803_PORTB
,

141 
	mUCS1903_PORTB
,

143 #ifdeà
PORTC_FIRST_PIN


144 
	mWS2811_PORTC
,

145 
	mWS2813_PORTC
,

146 
	mWS2811_400_PORTC
,

147 
	mTM1803_PORTC
,

148 
	mUCS1903_PORTC
,

150 #ifdeà
PORTD_FIRST_PIN


151 
	mWS2811_PORTD
,

152 
	mWS2813_PORTD
,

153 
	mWS2811_400_PORTD
,

154 
	mTM1803_PORTD
,

155 
	mUCS1903_PORTD
,

157 #ifdeà
HAS_PORTDC


158 
	mWS2811_PORTDC
,

159 
	mWS2813_PORTDC
,

160 
	mWS2811_400_PORTDC
,

161 
	mTM1803_PORTDC
,

162 
	mUCS1903_PORTDC
,

166 #ià
defšed
(
LIB8_ATTINY
)

167 
	#NUM_CONTROLLERS
 2

	)

169 
	#NUM_CONTROLLERS
 8

	)

172 
	$ušt8_t
 (*
	tpow”_func
)(
	tušt8_t
 
	tsÿË
, 
	tušt32_t
 
	td©a
);

178 şas 
	cCFa¡LED
 {

180 
ušt8_t
 
m_SÿË
;

181 
ušt16_t
 
m_nFPS
;

182 
ušt32_t
 
m_nMšMiüos
;

183 
ušt32_t
 
m_nPow”D©a
;

184 
pow”_func
 
m_pPow”Func
;

186 
public
:

187 
	`CFa¡LED
();

201 
CLEDCÚŒŞËr
 &
	`addLeds
(CLEDCÚŒŞË¸*
pLed
, 
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0);

223 
‹m¶©e
<
ESPICh£ts
 
CHIPSET
, 
ušt8_t
 
DATA_PIN
, ušt8_ˆ
CLOCK_PIN
, 
EOrd”
 
RGB_ORDER
, 
ušt32_t
 
SPI_DATA_RATE
 > 
CLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

224 
CHIPSET
) {

225 
LPD6803
: { 
LPD6803CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
, 
SPI_DATA_RATE
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

226 
LPD8806
: { 
LPD8806CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
, 
SPI_DATA_RATE
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

227 
WS2801
: { 
WS2801CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
, 
SPI_DATA_RATE
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

228 
WS2803
: { 
WS2803CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
, 
SPI_DATA_RATE
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

229 
SM16716
: { 
SM16716CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
, 
SPI_DATA_RATE
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

230 
P9813
: { 
P9813CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
, 
SPI_DATA_RATE
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

231 
DOTSTAR
:

232 
APA102
: { 
APA102CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
, 
SPI_DATA_RATE
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

233 
SK9822
: { 
SK9822CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
, 
SPI_DATA_RATE
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

237 
‹m¶©e
<
ESPICh£ts
 
CHIPSET
, 
ušt8_t
 
DATA_PIN
, ušt8_ˆ
CLOCK_PIN
 > 
CLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

238 
CHIPSET
) {

239 
LPD6803
: { 
LPD6803CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

240 
LPD8806
: { 
LPD8806CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

241 
WS2801
: { 
WS2801CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

242 
WS2803
: { 
WS2803CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

243 
SM16716
: { 
SM16716CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

244 
P9813
: { 
P9813CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

245 
DOTSTAR
:

246 
APA102
: { 
APA102CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

247 
SK9822
: { 
SK9822CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

249 
	}
}

251 
	g‹m¶©e
<
ESPICh£ts
 
	gCHIPSET
, 
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 > 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

252 
CHIPSET
) {

253 
LPD6803
: { 
LPD6803CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

254 
LPD8806
: { 
LPD8806CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

255 
WS2801
: { 
WS2801CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

256 
WS2803
: { 
WS2803CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

257 
SM16716
: { 
SM16716CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

258 
P9813
: { 
P9813CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

259 
DOTSTAR
:

260 
APA102
: { 
APA102CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

261 
SK9822
: { 
SK9822CÚŒŞËr
<
DATA_PIN
, 
CLOCK_PIN
, 
RGB_ORDER
> 
c
;  
	`addLeds
(&c, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

263 
	}
}

265 #ifdeà
SPI_DATA


266 
	g‹m¶©e
<
ESPICh£ts
 
	gCHIPSET
> 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

267  
addLeds
<
CHIPSET
, 
SPI_DATA
, 
SPI_CLOCK
, 
RGB
>(
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

268 
	}
}

270 
	g‹m¶©e
<
ESPICh£ts
 
	gCHIPSET
, 
EOrd”
 
	gRGB_ORDER
> 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

271  
addLeds
<
CHIPSET
, 
SPI_DATA
, 
SPI_CLOCK
, 
RGB_ORDER
>(
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

272 
	}
}

274 
	g‹m¶©e
<
ESPICh£ts
 
	gCHIPSET
, 
EOrd”
 
	gRGB_ORDER
, 
ušt32_t
 
	gSPI_DATA_RATE
> 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

275  
addLeds
<
CHIPSET
, 
SPI_DATA
, 
SPI_CLOCK
, 
RGB_ORDER
, 
SPI_DATA_RATE
>(
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

276 
	}
}

281 #ifdeà
FASTLED_HAS_CLOCKLESS


300 
	g‹m¶©e
<‹m¶©e<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gCHIPSET
, uint8_t DATA_PIN, EOrder RGB_ORDER>

301 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

302 
CHIPSET
<
DATA_PIN
, 
RGB_ORDER
> 
c
;

303  
	`addLeds
(&
c
, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

304 
	}
}

306 
	g‹m¶©e
<‹m¶©e<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gCHIPSET
, uint8_t DATA_PIN>

307 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

308 
CHIPSET
<
DATA_PIN
, 
RGB
> 
c
;

309  
	`addLeds
(&
c
, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

310 
	}
}

312 
	g‹m¶©e
<‹m¶©e<
ušt8_t
 
	gDATA_PIN
> 
şass
 
	gCHIPSET
, uint8_t DATA_PIN>

313 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

314 
CHIPSET
<
DATA_PIN
> 
c
;

315  
	`addLeds
(&
c
, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

316 
	}
}

318 #ià
defšed
(
__FASTLED_HAS_FIBCC
) && (__FASTLED_HAS_FIBCC == 1)

319 
	g‹m¶©e
<
ušt8_t
 
	gNUM_LANES
,em¶©e<ušt8_ˆ
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gCHIPSET
, ušt8_ˆDATA_PIN, EOrd” RGB_ORDER=
RGB
>

320 
CLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLeds
) {

321 
__FIBCC
<
CHIPSET
, 
DATA_PIN
, 
NUM_LANES
, 
RGB_ORDER
> 
c
;

322  
	`addLeds
(&
c
, 
d©a
, 
nLeds
);

323 
	}
}

326 #ifdeà
FASTSPI_USE_DMX_SIMPLE


327 
	g‹m¶©e
<
EClockËssCh£ts
 
	gCHIPSET
, 
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
=
RGB
>

328 
CLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0)

330 
CHIPSET
) {

331 
DMX
: { 
DMXCÚŒŞËr
<
DATA_PIN
> 
cÚŒŞËr
;  
	`addLeds
(&cÚŒŞËr, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

333 
	}
}

356 
	g‹m¶©e
<‹m¶©e<
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gCHIPSET
, EOrder RGB_ORDER>

357 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

358 
CHIPSET
<
RGB_ORDER
> 
c
;

359  
	`addLeds
(&
c
, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

360 
	}
}

362 
	g‹m¶©e
<‹m¶©e<
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gCHIPSET
>

363 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

364 
CHIPSET
<
RGB
> 
c
;

365  
	`addLeds
(&
c
, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

366 
	}
}

368 #ifdeà
USE_OCTOWS2811


369 
	g‹m¶©e
<
OWS2811
 
	gCHIPSET
, 
EOrd”
 
	gRGB_ORDER
>

370 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0)

372 
CHIPSET
) {

373 
OCTOWS2811
: { 
COùoWS2811CÚŒŞËr
<
RGB_ORDER
,
WS2811_800kHz
> 
cÚŒŞËr
;  
	`addLeds
(&cÚŒŞËr, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

374 
OCTOWS2811_400
: { 
COùoWS2811CÚŒŞËr
<
RGB_ORDER
,
WS2811_400kHz
> 
cÚŒŞËr
;  
	`addLeds
(&cÚŒŞËr, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

375 #ifdeà
WS2813_800kHz


376 
OCTOWS2813
: { 
COùoWS2811CÚŒŞËr
<
RGB_ORDER
,
WS2813_800kHz
> 
cÚŒŞËr
;  
	`addLeds
(&cÚŒŞËr, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

379 
	}
}

381 
	g‹m¶©e
<
OWS2811
 
	gCHIPSET
>

382 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0)

384  
addLeds
<
CHIPSET
,
GRB
>(
d©a
,
nLedsOrOff£t
,
nLedsIfOff£t
);

385 
	}
}

389 #ifdeà
USE_WS2812SERIAL


390 
	g‹m¶©e
<
SWS2812
 
	gCHIPSET
, 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
>

391 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0)

393 
CWS2812S”ŸlCÚŒŞËr
<
DATA_PIN
,
RGB_ORDER
> 
cÚŒŞËr
;

394  
	`addLeds
(&
cÚŒŞËr
, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

395 
	}
}

398 #ifdeà
Sm¬tM©rix_h


399 
	g‹m¶©e
<
ESM
 
	gCHIPSET
>

400 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0)

402 
CHIPSET
) {

403 
SMART_MATRIX
: { 
CSm¬tM©rixCÚŒŞËr
 
cÚŒŞËr
;  
	`addLeds
(&cÚŒŞËr, 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
); }

405 
	}
}

410 #ifdeà
FASTLED_HAS_BLOCKLESS


430 
	g‹m¶©e
<
EBlockCh£ts
 
	gCHIPSET
, 
	gNUM_LANES
, 
EOrd”
 
	gRGB_ORDER
>

431 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

432 
CHIPSET
) {

433 #ifdeà
PORTA_FIRST_PIN


434 
WS2811_PORTA
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTA_FIRST_PIN
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

435 
WS2811_400_PORTA
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTA_FIRST_PIN
, 
	`NS
(800), NS(800), NS(900), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

436 
WS2813_PORTA
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTA_FIRST_PIN
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
, 0, 
çl£
, 300>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

437 
TM1803_PORTA
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTA_FIRST_PIN
, 
	`NS
(700), NS(1100), NS(700), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

438 
UCS1903_PORTA
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTA_FIRST_PIN
, 
	`NS
(500), NS(1500), NS(500), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

440 #ifdeà
PORTB_FIRST_PIN


441 
WS2811_PORTB
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTB_FIRST_PIN
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

442 
WS2811_400_PORTB
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTB_FIRST_PIN
, 
	`NS
(800), NS(800), NS(900), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

443 
WS2813_PORTB
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTB_FIRST_PIN
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
, 0, 
çl£
, 300>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

444 
TM1803_PORTB
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTB_FIRST_PIN
, 
	`NS
(700), NS(1100), NS(700), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

445 
UCS1903_PORTB
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTB_FIRST_PIN
, 
	`NS
(500), NS(1500), NS(500), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

447 #ifdeà
PORTC_FIRST_PIN


448 
WS2811_PORTC
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTC_FIRST_PIN
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

449 
WS2811_400_PORTC
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTC_FIRST_PIN
, 
	`NS
(800), NS(800), NS(900), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

450 
WS2813_PORTC
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTC_FIRST_PIN
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
, 0, 
çl£
, 300>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

451 
TM1803_PORTC
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTC_FIRST_PIN
, 
	`NS
(700), NS(1100), NS(700), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

452 
UCS1903_PORTC
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTC_FIRST_PIN
, 
	`NS
(500), NS(1500), NS(500), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

454 #ifdeà
PORTD_FIRST_PIN


455 
WS2811_PORTD
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTD_FIRST_PIN
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

456 
WS2811_400_PORTD
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTD_FIRST_PIN
, 
	`NS
(800), NS(800), NS(900), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

457 
WS2813_PORTD
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTD_FIRST_PIN
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
, 0, 
çl£
, 300>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

458 
TM1803_PORTD
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTD_FIRST_PIN
, 
	`NS
(700), NS(1100), NS(700), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

459 
UCS1903_PORTD
:  
	`addLeds
(
Ãw
 
IÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
PORTD_FIRST_PIN
, 
	`NS
(500), NS(1500), NS(500), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

461 #ifdeà
HAS_PORTDC


462 
WS2811_PORTDC
:  
	`addLeds
(
Ãw
 
Six‹’WayIÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
,
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

463 
WS2811_400_PORTDC
:  
	`addLeds
(
Ãw
 
Six‹’WayIÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
,
	`NS
(800), NS(800), NS(900), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

464 
WS2813_PORTDC
:  
	`addLeds
(
Ãw
 
Six‹’WayIÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
	`NS
(320), NS(320), NS(640), 
RGB_ORDER
, 0, 
çl£
, 300>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

465 
TM1803_PORTDC
:  
	`addLeds
(
Ãw
 
Six‹’WayIÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
	`NS
(700), NS(1100), NS(700), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

466 
UCS1903_PORTDC
:  
	`addLeds
(
Ãw
 
Six‹’WayIÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
, 
	`NS
(500), NS(1500), NS(500), 
RGB_ORDER
>(), 
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
);

469 
	}
}

471 
	g‹m¶©e
<
EBlockCh£ts
 
	gCHIPSET
, 
	gNUM_LANES
>

472 
	gCLEDCÚŒŞËr
 &
	$addLeds
(
CRGB
 *
d©a
, 
nLedsOrOff£t
, 
nLedsIfOff£t
 = 0) {

473  
addLeds
<
CHIPSET
,
NUM_LANES
,
GRB
>(
d©a
,
nLedsOrOff£t
,
nLedsIfOff£t
);

474 
	}
}

480 
	$£tBrighŠess
(
ušt8_t
 
sÿË
è{ 
m_SÿË
 = sÿË; 
	}
}

484 
ušt8_t
 
	$g‘BrighŠess
(è{  
m_SÿË
; 
	}
}

489 
šlše
 
	$£tMaxPow”InVŞtsAndMlŸmps
(
ušt8_t
 
vŞts
, 
ušt32_t
 
mlŸmps
è{ 
	`£tMaxPow”InMliW©ts
(vŞt * mlŸmps); 
	}
}

493 
šlše
 
	$£tMaxPow”InMliW©ts
(
ušt32_t
 
mliw©ts
è{ 
m_pPow”Func
 = &
ÿlcuÏ‹_max_brighŠess_fÜ_pow”_mW
; 
m_nPow”D©a
 = mliw©ts; 
	}
}

497 
show
(
ušt8_t
 
sÿË
);

500 
	$show
(è{ 
	`show
(
m_SÿË
); 
	}
}

504 
ş—r
(
boŞ
 
wr™eD©a
 = 
çl£
);

507 
ş—rD©a
();

512 
showCŞÜ
(cÚ¡ 
CRGB
 & 
cŞÜ
, 
ušt8_t
 
sÿË
);

516 
	$showCŞÜ
(cÚ¡ 
CRGB
 & 
cŞÜ
è{ 
	`showCŞÜ
(cŞÜ, 
m_SÿË
); 
	}
}

522 
d–ay
(
ms
);

527 
£tTem³¿tu»
(cÚ¡ 
CRGB
 & 
‹mp
);

532 
£tCÜ»ùiÚ
(cÚ¡ 
CRGB
 & 
cÜ»ùiÚ
);

537 
£tD™h”
(
ušt8_t
 
d™h”Mode
 = 
BINARY_DITHER
);

546 
£tMaxReäeshR©e
(
ušt16_t
 
»äesh
, 
boŞ
 
cÚ¡¿š
=
çl£
);

552 
couÁFPS
(
nF¿mes
=25);

556 
ušt16_t
 
	$g‘FPS
(è{  
m_nFPS
; 
	}
}

560 
couÁ
();

564 
	gCLEDCÚŒŞËr
 & 
	gİ”©Ü
[](
	gx
);

568 
	$size
(è{  (*
this
)[0].
	`size
(); 
	}
}

572 
CRGB
 *
	$Ëds
(è{  (*
this
)[0].
	`Ëds
(); 
	}
}

575 
	#Fa¡SPI_LED
 
Fa¡LED


	)

576 
	#Fa¡SPI_LED2
 
Fa¡LED


	)

577 #iâdeà
LEDS


578 
	#LEDS
 
Fa¡LED


	)

581 
CFa¡LED
 
Fa¡LED
;

584 #iâdeà
HAS_HARDWARE_PIN_SUPPORT


586 
	#NO_HARDWARE_PIN_SUPPORT


	)

590 
	gFASTLED_NAMESPACE_END


	@src/bitswap.cpp

1 
	#FASTLED_INTERNAL


	)

2 
	~"Fa¡LED.h
"

6 
	$Œª¥o£8x1_nošlše
(*
A
, *
B
) {

7 
ušt32_t
 
x
, 
y
, 
t
;

10 
y
 = *(*)(
A
);

11 
x
 = *(*)(
A
+4);

14 
t
 = (
x
 ^ (x >> 7)) & 0x00AA00AA; x = x ^ ^ (t << 7);

15 
t
 = (
x
 ^ (x >>14)) & 0x0000CCCC; x = x ^ ^ (t <<14);

18 
t
 = (
y
 ^ (y >> 7)) & 0x00AA00AA; y = y ^ ^ (t << 7);

19 
t
 = (
y
 ^ (y >>14)) & 0x0000CCCC; y = y ^ ^ (t <<14);

22 
t
 = (
x
 & 0xF0F0F0F0è| ((
y
 >> 4) & 0x0F0F0F0F);

23 
y
 = ((
x
 << 4) & 0xF0F0F0F0) | (y & 0x0F0F0F0F);

24 
x
 = 
t
;

26 *((
ušt32_t
*)
B
èğ
y
;

27 *((
ušt32_t
*)(
B
+4)èğ
x
;

28 
	}
}

	@src/bitswap.h

1 #iâdeà
__INC_BITSWAP_H


2 
	#__INC_BITSWAP_H


	)

4 
	~"Fa¡LED.h
"

6 
	gFASTLED_NAMESPACE_BEGIN


14 #ià
defšed
(
FASTLED_ARM
è|| defšed(
FASTLED_ESP8266
)

17 
ušt8_t
 
	m¿w
;

19 
ušt32_t
 
	ma0
:1;

20 
ušt32_t
 
	ma1
:1;

21 
ušt32_t
 
	ma2
:1;

22 
ušt32_t
 
	ma3
:1;

23 
ušt32_t
 
	ma4
:1;

24 
ušt32_t
 
	ma5
:1;

25 
ušt32_t
 
	ma6
:1;

26 
ušt32_t
 
	ma7
:1;

28 } 
	tju¡8b™s
;

32 
ušt32_t
 
	ma0
:1;

33 
ušt32_t
 
	ma1
:1;

34 
ušt32_t
 
	ma2
:1;

35 
ušt32_t
 
	ma3
:1;

36 
ušt32_t
 
	ma4
:1;

37 
ušt32_t
 
	ma5
:1;

38 
ušt32_t
 
	ma6
:1;

39 
ušt32_t
 
	ma7
:1;

40 
ušt32_t
 
	mb0
:1;

41 
ušt32_t
 
	mb1
:1;

42 
ušt32_t
 
	mb2
:1;

43 
ušt32_t
 
	mb3
:1;

44 
ušt32_t
 
	mb4
:1;

45 
ušt32_t
 
	mb5
:1;

46 
ušt32_t
 
	mb6
:1;

47 
ušt32_t
 
	mb7
:1;

48 
ušt32_t
 
	mc0
:1;

49 
ušt32_t
 
	mc1
:1;

50 
ušt32_t
 
	mc2
:1;

51 
ušt32_t
 
	mc3
:1;

52 
ušt32_t
 
	mc4
:1;

53 
ušt32_t
 
	mc5
:1;

54 
ušt32_t
 
	mc6
:1;

55 
ušt32_t
 
	mc7
:1;

56 
ušt32_t
 
	md0
:1;

57 
ušt32_t
 
	md1
:1;

58 
ušt32_t
 
	md2
:1;

59 
ušt32_t
 
	md3
:1;

60 
ušt32_t
 
	md4
:1;

61 
ušt32_t
 
	md5
:1;

62 
ušt32_t
 
	md6
:1;

63 
ušt32_t
 
	md7
:1;

64 } 
	tsub4
;

68 
ušt32_t
 
	mwÜd
[2];

69 
ušt8_t
 
	mby‹s
[8];

71 
sub4
 
	ma
;

72 
sub4
 
	mb
;

74 } 
	tb™sw­_ty³
;

77 
	#SWAPSA
(
X
,
N
è
out
. X ## 0 = 
š
.
a
.a ## N; \

78 
out
. 
X
 ## 1 = 
š
.
a
.
b
 ## 
N
; \

79 
out
. 
X
 ## 2 = 
š
.
a
.
c
 ## 
N
; \

80 
out
. 
X
 ## 3 = 
š
.
a
.
d
 ## 
N
;

	)

82 
	#SWAPSB
(
X
,
N
è
out
. X ## 0 = 
š
.
b
.
a
 ## N; \

83 
out
. 
X
 ## 1 = 
š
.
b
.b ## 
N
; \

84 
out
. 
X
 ## 2 = 
š
.
b
.
c
 ## 
N
; \

85 
out
. 
X
 ## 3 = 
š
.
b
.
d
 ## 
N
;

	)

87 
	#SWAPS
(
X
,
N
è
out
. X ## 0 = 
š
.
a
.a ## N; \

88 
out
. 
X
 ## 1 = 
š
.
a
.
b
 ## 
N
; \

89 
out
. 
X
 ## 2 = 
š
.
a
.
c
 ## 
N
; \

90 
out
. 
X
 ## 3 = 
š
.
a
.
d
 ## 
N
; \

91 
out
. 
X
 ## 4 = 
š
.
b
.
a
 ## 
N
; \

92 
out
. 
X
 ## 5 = 
š
.
b
.b ## 
N
; \

93 
out
. 
X
 ## 6 = 
š
.
b
.
c
 ## 
N
; \

94 
out
. 
X
 ## 7 = 
š
.
b
.
d
 ## 
N
;

	)

98 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$sw­b™s8
(
b™sw­_ty³
 
š
, b™sw­_ty³ & 
out
) {

129 
i
 = 0; i < 8; ++i) {

130 
ju¡8b™s
 
wÜk
;

131 
wÜk
.
a3
 = 
š
.
wÜd
[0] >> 31;

132 
wÜk
.
a2
 = 
š
.
wÜd
[0] >> 23;

133 
wÜk
.
a1
 = 
š
.
wÜd
[0] >> 15;

134 
wÜk
.
a0
 = 
š
.
wÜd
[0] >> 7;

135 
š
.
wÜd
[0] <<= 1;

136 
wÜk
.
a7
 = 
š
.
wÜd
[1] >> 31;

137 
wÜk
.
a6
 = 
š
.
wÜd
[1] >> 23;

138 
wÜk
.
a5
 = 
š
.
wÜd
[1] >> 15;

139 
wÜk
.
a4
 = 
š
.
wÜd
[1] >> 7;

140 
š
.
wÜd
[1] <<= 1;

141 
out
.
by‹s
[
i
] = 
wÜk
.
¿w
;

143 
	}
}

146 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$¦owsw­
(*
A
, *
B
) {

148 
row
 = 0;„ow < 7; ++row) {

149 
ušt8_t
 
x
 = 
A
[
row
];

151 
ušt8_t
 
b™
 = (1<<
row
);

152 *
p
 = 
B
;

153 
ušt32_t
 
mask
 = 1<<7 ; mask ; mask >>= 1) {

154 if(
x
 & 
mask
) {

155 *
p
++ |ğ
b™
;

157 *
p
++ &ğ~
b™
;

169 
	}
}

171 
Œª¥o£8x1_nošlše
(*
A
, *
B
);

175 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$Œª¥o£8x1
(*
A
, *
B
) {

176 
ušt32_t
 
x
, 
y
, 
t
;

179 
y
 = *(*)(
A
);

180 
x
 = *(*)(
A
+4);

183 
t
 = (
x
 ^ (x >> 7)) & 0x00AA00AA; x = x ^ ^ (t << 7);

184 
t
 = (
x
 ^ (x >>14)) & 0x0000CCCC; x = x ^ ^ (t <<14);

187 
t
 = (
y
 ^ (y >> 7)) & 0x00AA00AA; y = y ^ ^ (t << 7);

188 
t
 = (
y
 ^ (y >>14)) & 0x0000CCCC; y = y ^ ^ (t <<14);

191 
t
 = (
x
 & 0xF0F0F0F0è| ((
y
 >> 4) & 0x0F0F0F0F);

192 
y
 = ((
x
 << 4) & 0xF0F0F0F0) | (y & 0x0F0F0F0F);

193 
x
 = 
t
;

195 *((
ušt32_t
*)
B
èğ
y
;

196 *((
ušt32_t
*)(
B
+4)èğ
x
;

197 
	}
}

200 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$Œª¥o£8x1_MSB
(*
A
, *
B
) {

201 
ušt32_t
 
x
, 
y
, 
t
;

204 
y
 = *(*)(
A
);

205 
x
 = *(*)(
A
+4);

208 
t
 = (
x
 ^ (x >> 7)) & 0x00AA00AA; x = x ^ ^ (t << 7);

209 
t
 = (
x
 ^ (x >>14)) & 0x0000CCCC; x = x ^ ^ (t <<14);

212 
t
 = (
y
 ^ (y >> 7)) & 0x00AA00AA; y = y ^ ^ (t << 7);

213 
t
 = (
y
 ^ (y >>14)) & 0x0000CCCC; y = y ^ ^ (t <<14);

216 
t
 = (
x
 & 0xF0F0F0F0è| ((
y
 >> 4) & 0x0F0F0F0F);

217 
y
 = ((
x
 << 4) & 0xF0F0F0F0) | (y & 0x0F0F0F0F);

218 
x
 = 
t
;

220 
B
[7] = 
y
; y >>= 8;

221 
B
[6] = 
y
; y >>= 8;

222 
B
[5] = 
y
; y >>= 8;

223 
B
[4] = 
y
;

225 
B
[3] = 
x
; x >>= 8;

226 
B
[2] = 
x
; x >>= 8;

227 
B
[1] = 
x
; x >>= 8;

228 
B
[0] = 
x
;

229 
	}
}

232 
	g‹m¶©e
<
	gm
, 
	gn
>

233 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$Œª¥o£8
(*
A
, *
B
) {

234 
ušt32_t
 
x
, 
y
, 
t
;

237 if(
m
 == 1) {

238 
y
 = *(*)(
A
);

239 
x
 = *(*)(
A
+4);

241 
x
 = (
A
[0]<<24è| (A[
m
]<<16) | (A[2*m]<<8) | A[3*m];

242 
y
 = (
A
[4*
m
]<<24) | (A[5*m]<<16) | (A[6*m]<<8) | A[7*m];

246 
t
 = (
x
 ^ (x >> 7)) & 0x00AA00AA; x = x ^ ^ (t << 7);

247 
t
 = (
x
 ^ (x >>14)) & 0x0000CCCC; x = x ^ ^ (t <<14);

250 
t
 = (
y
 ^ (y >> 7)) & 0x00AA00AA; y = y ^ ^ (t << 7);

251 
t
 = (
y
 ^ (y >>14)) & 0x0000CCCC; y = y ^ ^ (t <<14);

254 
t
 = (
x
 & 0xF0F0F0F0è| ((
y
 >> 4) & 0x0F0F0F0F);

255 
y
 = ((
x
 << 4) & 0xF0F0F0F0) | (y & 0x0F0F0F0F);

256 
x
 = 
t
;

258 
B
[7*
n
] = 
y
; y >>= 8;

259 
B
[6*
n
] = 
y
; y >>= 8;

260 
B
[5*
n
] = 
y
; y >>= 8;

261 
B
[4*
n
] = 
y
;

263 
B
[3*
n
] = 
x
; x >>= 8;

264 
B
[2*
n
] = 
x
; x >>= 8;

265 
B
[
n
] = 
x
; x >>= 8;

266 
B
[0] = 
x
;

269 
	}
}

273 
	gFASTLED_NAMESPACE_END


	@src/chipsets.h

1 #iâdeà
__INC_CHIPSETS_H


2 
	#__INC_CHIPSETS_H


	)

4 
	~"Fa¡LED.h
"

5 
	~"pix–ty³s.h
"

10 
	gFASTLED_NAMESPACE_BEGIN


16 #ià
defšed
(
ARDUINO
)

19 #ià
defšed
(
Soáw¬eS”Ÿl_h
è|| defšed(
__Soáw¬eS”Ÿl_h
)

20 
	~<Soáw¬eS”Ÿl.h
>

22 
	#HAS_PIXIE


	)

27 
	g‹m¶©e
<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

28 
şass
 
Pix›CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

29 
Soáw¬eS”Ÿl
 
S”Ÿl
;

30 
	gCMšWa™
<2000> 
	gmWa™
;

32 
	gpublic
:

33 
Pix›CÚŒŞËr
(è: 
S”Ÿl
(-1, 
DATA_PIN
) {}

35 
	g´Ùeùed
:

36 
vœtu®
 
š™
() {

37 
S”Ÿl
.
begš
(115200);

38 
	gmWa™
.
m¬k
();

41 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

42 
	gmWa™
.
wa™
();

43 
	gpix–s
.
has
(1)) {

44 
ušt8_t
 
	gr
 = 
pix–s
.
lßdAndSÿË0
();

45 
	gS”Ÿl
.
wr™e
(
r
);

46 
ušt8_t
 
	gg
 = 
pix–s
.
lßdAndSÿË1
();

47 
	gS”Ÿl
.
wr™e
(
g
);

48 
ušt8_t
 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

49 
	gS”Ÿl
.
wr™e
(
b
);

50 
	gpix–s
.
advªûD©a
();

51 
	gpix–s
.
¡•D™h”šg
();

53 
	gmWa™
.
m¬k
();

81 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
ušt32_t
 
	gSPI_SPEED
 = 
DATA_RATE_MHZ
(12) >

82 
şass
 
LPD8806CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

83 
SPIOuut
<
	tDATA_PIN
, 
	tCLOCK_PIN
, 
	tSPI_SPEED
> 
	tSPI
;

85 şas 
	cLPD8806_ADJUST
 {

86 
	gpublic
:

88 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
adju¡
(ušt8_ˆ
d©a
) {  ((data>>1) | 0x80) + ((data && (data<254)) & 0x01); }

89 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
po¡Block
(
Ën
) {

90 
	gSPI
::
wr™eBy‹sV®ueRaw
(0, ((
Ën
*3+63)>>6));

95 
SPI
 
	gmSPI
;

97 
	gpublic
:

98 
	$LPD8806CÚŒŞËr
(è{
	}
}

99 
vœtu®
 
	$š™
() {

100 
mSPI
.
	`š™
();

101 
	}
}

103 
	g´Ùeùed
:

105 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

106 
mSPI
.
‹m¶©e
 
wr™ePix–s
<0, 
	gLPD8806_ADJUST
, 
	gRGB_ORDER
>(
	gpix–s
);

122 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
ušt32_t
 
	gSPI_SPEED
 = 
DATA_RATE_MHZ
(1)>

123 
şass
 
WS2801CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

124 
SPIOuut
<
	tDATA_PIN
, 
	tCLOCK_PIN
, 
	tSPI_SPEED
> 
	tSPI
;

125 
SPI
 
	gmSPI
;

126 
	gCMšWa™
<1000> 
	gmWa™D–ay
;

128 
	gpublic
:

129 
WS2801CÚŒŞËr
() {}

131 
vœtu®
 
š™
() {

132 
mSPI
.
š™
();

133 
	gmWa™D–ay
.
m¬k
();

136 
	g´Ùeùed
:

137 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

138 
mWa™D–ay
.
wa™
();

139 
	gmSPI
.
‹m¶©e
 
	gwr™ePix–s
<0, 
	gDATA_NOP
, 
	gRGB_ORDER
>(
	gpix–s
);

140 
	gmWa™D–ay
.
m¬k
();

144 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
ušt32_t
 
	gSPI_SPEED
 = 
DATA_RATE_MHZ
(25)>

145 
şass
 
WS2803CÚŒŞËr
 : 
public
 
WS2801CÚŒŞËr
<
DATA_PIN
, 
	gCLOCK_PIN
, 
	gRGB_ORDER
, 
	gSPI_SPEED
> {};

155 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
ušt32_t
 
	gSPI_SPEED
 = 
DATA_RATE_MHZ
(12)>

156 
şass
 
LPD6803CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

157 
SPIOuut
<
	tDATA_PIN
, 
	tCLOCK_PIN
, 
	tSPI_SPEED
> 
	tSPI
;

158 
SPI
 
	gmSPI
;

160 
¡¬tBound¬y
(è{ 
	gmSPI
.
wr™eBy‹
(0); mSPI.writeByte(0); mSPI.writeByte(0); mSPI.writeByte(0); }

162 
	gpublic
:

163 
LPD6803CÚŒŞËr
() {}

165 
vœtu®
 
š™
() {

166 
mSPI
.
š™
();

169 
	g´Ùeùed
:

170 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

171 
mSPI
.
£Ëù
();

173 
¡¬tBound¬y
();

174 
	gpix–s
.
has
(1)) {

175 
ušt16_t
 
	gcommªd
;

176 
	gcommªd
 = 0x8000;

177 
	gcommªd
 |ğ(
pix–s
.
lßdAndSÿË0
() & 0xF8) << 7;

178 
	gcommªd
 |ğ(
pix–s
.
lßdAndSÿË1
() & 0xF8) << 2;

179 
	gmSPI
.
wr™eBy‹
((
commªd
 >> 8) & 0xFF);

180 
	gcommªd
 |ğ
pix–s
.
lßdAndSÿË2
() >> 3 ;

181 
	gmSPI
.
wr™eBy‹
(
commªd
 & 0xFF);

183 
	gpix–s
.
¡•D™h”šg
();

184 
	gpix–s
.
advªûD©a
();

187 
	gmSPI
.
wa™FuÎy
();

188 
	gmSPI
.
»Ëa£
();

204 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
ušt32_t
 
	gSPI_SPEED
 = 
DATA_RATE_MHZ
(12)>

205 
şass
 
APA102CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

206 
SPIOuut
<
	tDATA_PIN
, 
	tCLOCK_PIN
, 
	tSPI_SPEED
> 
	tSPI
;

207 
SPI
 
	gmSPI
;

209 
¡¬tBound¬y
(è{ 
	gmSPI
.
wr™eWÜd
(0); mSPI.writeWord(0); }

210 
’dBound¬y
(
nLeds
è{ 
	gnDWÜds
 = (nLeds/32); dØ{ 
	gmSPI
.
wr™eBy‹
(0xFF); mSPI.writeByte(0x00); mSPI.writeByte(0x00); mSPI.writeByte(0x00); } nDWords--); }

212 
šlše
 
wr™eLed
(
ušt8_t
 
brighŠess
, ušt8_ˆ
b0
, ušt8_ˆ
b1
, ušt8_ˆ
b2
è
__©Œibu‹__
((
®ways_šlše
)) {

213 #ifdeà
FASTLED_SPI_BYTE_ONLY


214 
	gmSPI
.
wr™eBy‹
(0xE0 | 
brighŠess
);

215 
	gmSPI
.
wr™eBy‹
(
b0
);

216 
	gmSPI
.
wr™eBy‹
(
b1
);

217 
	gmSPI
.
wr™eBy‹
(
b2
);

219 
ušt16_t
 
	gb
 = 0xE000 | (
brighŠess
 << 8è| (ušt16_t)
b0
;

220 
	gmSPI
.
wr™eWÜd
(
b
);

221 
ušt16_t
 
	gw
 = 
b1
 << 8;

222 
	gw
 |ğ
b2
;

223 
	gmSPI
.
wr™eWÜd
(
w
);

227 
	gpublic
:

228 
APA102CÚŒŞËr
() {}

230 
vœtu®
 
š™
() {

231 
mSPI
.
š™
();

234 
	g´Ùeùed
:

235 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

236 
mSPI
.
£Ëù
();

238 
ušt8_t
 
	gs0
 = 
pix–s
.
g‘SÿË0
(), 
	gs1
 =…ix–s.
g‘SÿË1
(), 
	gs2
 =…ix–s.
g‘SÿË2
();

239 #ià
FASTLED_USE_GLOBAL_BRIGHTNESS
 == 1

240 cÚ¡ 
ušt16_t
 
	gmaxBrighŠess
 = 0x1F;

241 
ušt16_t
 
	gbrighŠess
 = ((((ušt16_t)
max
(max(
s0
, 
s1
), 
s2
è+ 1è* 
	gmaxBrighŠess
 - 1) >> 8) + 1;

242 
	gs0
 = (
maxBrighŠess
 * 
s0
 + (
brighŠess
 >> 1)) / brightness;

243 
	gs1
 = (
maxBrighŠess
 * 
s1
 + (
brighŠess
 >> 1)) / brightness;

244 
	gs2
 = (
maxBrighŠess
 * 
s2
 + (
brighŠess
 >> 1)) / brightness;

246 cÚ¡ 
ušt8_t
 
	gbrighŠess
 = 0x1F;

249 
¡¬tBound¬y
();

250 
	gpix–s
.
has
(1)) {

251 
wr™eLed
(
brighŠess
, 
pix–s
.
lßdAndSÿË0
(0, 
s0
),…ix–s.
lßdAndSÿË1
(0, 
s1
),…ix–s.
lßdAndSÿË2
(0, 
s2
));

252 
	gpix–s
.
¡•D™h”šg
();

253 
	gpix–s
.
advªûD©a
();

255 
’dBound¬y
(
pix–s
.
size
());

257 
	gmSPI
.
wa™FuÎy
();

258 
	gmSPI
.
»Ëa£
();

268 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
ušt32_t
 
	gSPI_SPEED
 = 
DATA_RATE_MHZ
(24)>

269 
şass
 
SK9822CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

270 
SPIOuut
<
	tDATA_PIN
, 
	tCLOCK_PIN
, 
	tSPI_SPEED
> 
	tSPI
;

271 
SPI
 
	gmSPI
;

273 
¡¬tBound¬y
(è{ 
	gmSPI
.
wr™eWÜd
(0); mSPI.writeWord(0); }

274 
’dBound¬y
(
nLeds
è{ 
	gnLÚgWÜds
 = (nLeds/32); dØ{ 
	gmSPI
.
wr™eBy‹
(0x00); mSPI.writeByte(0x00); mSPI.writeByte(0x00); mSPI.writeByte(0x00); } nLongWords--); }

276 
šlše
 
wr™eLed
(
ušt8_t
 
brighŠess
, ušt8_ˆ
b0
, ušt8_ˆ
b1
, ušt8_ˆ
b2
è
__©Œibu‹__
((
®ways_šlše
)) {

277 #ifdeà
FASTLED_SPI_BYTE_ONLY


278 
	gmSPI
.
wr™eBy‹
(0xE0 | 
brighŠess
);

279 
	gmSPI
.
wr™eBy‹
(
b0
);

280 
	gmSPI
.
wr™eBy‹
(
b1
);

281 
	gmSPI
.
wr™eBy‹
(
b2
);

283 
ušt16_t
 
	gb
 = 0xE000 | (
brighŠess
 << 8è| (ušt16_t)
b0
;

284 
	gmSPI
.
wr™eWÜd
(
b
);

285 
ušt16_t
 
	gw
 = 
b1
 << 8;

286 
	gw
 |ğ
b2
;

287 
	gmSPI
.
wr™eWÜd
(
w
);

291 
	gpublic
:

292 
SK9822CÚŒŞËr
() {}

294 
vœtu®
 
š™
() {

295 
mSPI
.
š™
();

298 
	g´Ùeùed
:

299 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

300 
mSPI
.
£Ëù
();

302 
ušt8_t
 
	gs0
 = 
pix–s
.
g‘SÿË0
(), 
	gs1
 =…ix–s.
g‘SÿË1
(), 
	gs2
 =…ix–s.
g‘SÿË2
();

303 #ià
FASTLED_USE_GLOBAL_BRIGHTNESS
 == 1

304 cÚ¡ 
ušt16_t
 
	gmaxBrighŠess
 = 0x1F;

305 
ušt16_t
 
	gbrighŠess
 = ((((ušt16_t)
max
(max(
s0
, 
s1
), 
s2
è+ 1è* 
	gmaxBrighŠess
 - 1) >> 8) + 1;

306 
	gs0
 = (
maxBrighŠess
 * 
s0
 + (
brighŠess
 >> 1)) / brightness;

307 
	gs1
 = (
maxBrighŠess
 * 
s1
 + (
brighŠess
 >> 1)) / brightness;

308 
	gs2
 = (
maxBrighŠess
 * 
s2
 + (
brighŠess
 >> 1)) / brightness;

310 cÚ¡ 
ušt8_t
 
	gbrighŠess
 = 0x1F;

313 
¡¬tBound¬y
();

314 
	gpix–s
.
has
(1)) {

315 
wr™eLed
(
brighŠess
, 
pix–s
.
lßdAndSÿË0
(0, 
s0
),…ix–s.
lßdAndSÿË1
(0, 
s1
),…ix–s.
lßdAndSÿË2
(0, 
s2
));

316 
	gpix–s
.
¡•D™h”šg
();

317 
	gpix–s
.
advªûD©a
();

320 
’dBound¬y
(
pix–s
.
size
());

322 
	gmSPI
.
wa™FuÎy
();

323 
	gmSPI
.
»Ëa£
();

341 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
ušt32_t
 
	gSPI_SPEED
 = 
DATA_RATE_MHZ
(10)>

342 
şass
 
P9813CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

343 
SPIOuut
<
	tDATA_PIN
, 
	tCLOCK_PIN
, 
	tSPI_SPEED
> 
	tSPI
;

344 
SPI
 
	gmSPI
;

346 
wr™eBound¬y
(è{ 
	gmSPI
.
wr™eWÜd
(0); mSPI.writeWord(0); }

348 
šlše
 
wr™eLed
(
ušt8_t
 
r
, ušt8_ˆ
g
, ušt8_ˆ
b
è
__©Œibu‹__
((
®ways_šlše
)) {

349 
ušt8_t
 
	gtİ
 = 0xC0 | ((~
b
 & 0xC0è>> 2è| ((~
g
 & 0xC0è>> 4è| ((~
r
 & 0xC0) >> 6);

350 
	gmSPI
.
wr™eBy‹
(
tİ
); mSPI.wr™eBy‹(
b
); mSPI.wr™eBy‹(
g
); mSPI.wr™eBy‹(
r
);

353 
	gpublic
:

354 
P9813CÚŒŞËr
() {}

356 
vœtu®
 
š™
() {

357 
mSPI
.
š™
();

360 
	g´Ùeùed
:

361 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

362 
mSPI
.
£Ëù
();

364 
wr™eBound¬y
();

365 
	gpix–s
.
has
(1)) {

366 
wr™eLed
(
pix–s
.
lßdAndSÿË0
(),…ix–s.
lßdAndSÿË1
(),…ix–s.
lßdAndSÿË2
());

367 
	gpix–s
.
advªûD©a
();

368 
	gpix–s
.
¡•D™h”šg
();

370 
wr™eBound¬y
();

371 
	gmSPI
.
wa™FuÎy
();

373 
	gmSPI
.
»Ëa£
();

390 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
ušt32_t
 
	gSPI_SPEED
 = 
DATA_RATE_MHZ
(16)>

391 
şass
 
SM16716CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

392 
SPIOuut
<
	tDATA_PIN
, 
	tCLOCK_PIN
, 
	tSPI_SPEED
> 
	tSPI
;

393 
SPI
 
	gmSPI
;

395 
wr™eH—d”
() {

397 
	gmSPI
.
£Ëù
();

398 
	gmSPI
.
‹m¶©e
 
	gwr™eB™
<0>(0);

399 
	gmSPI
.
wr™eBy‹
(0);

400 
	gmSPI
.
wr™eBy‹
(0);

401 
	gmSPI
.
wr™eBy‹
(0);

402 
	gmSPI
.
‹m¶©e
 
	gwr™eB™
<0>(0);

403 
	gmSPI
.
wr™eBy‹
(0);

404 
	gmSPI
.
wr™eBy‹
(0);

405 
	gmSPI
.
wr™eBy‹
(0);

406 
	gmSPI
.
wa™FuÎy
();

407 
	gmSPI
.
»Ëa£
();

410 
	gpublic
:

411 
SM16716CÚŒŞËr
() {}

413 
vœtu®
 
š™
() {

414 
mSPI
.
š™
();

417 
	g´Ùeùed
:

418 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

422 
mSPI
.
‹m¶©e
 
wr™ePix–s
<
FLAG_START_BIT
, 
	gDATA_NOP
, 
	gRGB_ORDER
>Ğ
	gpix–s
 );

423 
wr™eH—d”
();

444 #ifdeà
FASTLED_HAS_CLOCKLESS


451 #ià!
defšed
(
CLOCKLESS_FREQUENCY
)

452 
	#CLOCKLESS_FREQUENCY
 
F_CPU


	)

457 #ià
defšed
(
__LGT8F__
è|| (
CLOCKLESS_FREQUENCY
 == 8000000 || CLOCKLESS_FREQUENCY == 16000000 || CLOCKLESS_FREQUENCY == 24000000)

458 
	#FMUL
 (
CLOCKLESS_FREQUENCY
/8000000)

	)

461 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

462 
şass
 
GE8822CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 3 * 
	gFMUL
, 5 * FMUL, 3 * FMUL, 
	gRGB_ORDER
, 4> {};

465 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

466 
şass
 
LPD1886CÚŒŞËr1250Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 2 * 
	gFMUL
, 3 * FMUL, 2 * FMUL, 
	gRGB_ORDER
, 4> {};

469 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

470 
şass
 
LPD1886CÚŒŞËr1250Khz_8b™
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 2 * 
	gFMUL
, 3 * FMUL, 2 * FMUL, 
	gRGB_ORDER
> {};

473 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

474 
şass
 
WS2812CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 2 * 
	gFMUL
, 5 * FMUL, 3 * FMUL, 
	gRGB_ORDER
> {};

476 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

477 
şass
 
WS2811CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 3 * 
	gFMUL
, 4 * FMUL, 3 * FMUL, 
	gRGB_ORDER
> {};

479 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

480 
şass
 
WS2813CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 3 * 
	gFMUL
, 4 * FMUL, 3 * FMUL, 
	gRGB_ORDER
> {};

482 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

483 
şass
 
WS2811CÚŒŞËr400Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 4 * 
	gFMUL
, 10 * FMUL, 6 * FMUL, 
	gRGB_ORDER
> {};

485 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

486 
şass
 
SK6822CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 3 * 
	gFMUL
, 8 * FMUL, 3 * FMUL, 
	gRGB_ORDER
> {};

488 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

489 
şass
 
SM16703CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 3 * 
	gFMUL
, 4 * FMUL, 3 * FMUL, 
	gRGB_ORDER
> {};

491 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

492 
şass
 
SK6812CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 3 * 
	gFMUL
, 3 * FMUL, 4 * FMUL, 
	gRGB_ORDER
> {};

494 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

495 
şass
 
UCS1903CÚŒŞËr400Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 4 * 
	gFMUL
, 12 * FMUL, 4 * FMUL, 
	gRGB_ORDER
> {};

497 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

498 
şass
 
UCS1903BCÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 2 * 
	gFMUL
, 4 * FMUL, 4 * FMUL, 
	gRGB_ORDER
> {};

500 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

501 
şass
 
UCS1904CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 3 * 
	gFMUL
, 3 * FMUL, 4 * FMUL, 
	gRGB_ORDER
> {};

503 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

504 
şass
 
UCS2903CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 2 * 
	gFMUL
, 6 * FMUL, 2 * FMUL, 
	gRGB_ORDER
> {};

506 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

507 
şass
 
TM1809CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 2 * 
	gFMUL
, 5 * FMUL, 3 * FMUL, 
	gRGB_ORDER
> {};

509 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

510 
şass
 
TM1803CÚŒŞËr400Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 6 * 
	gFMUL
, 9 * FMUL, 6 * FMUL, 
	gRGB_ORDER
> {};

512 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

513 
şass
 
TM1829CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 2 * 
	gFMUL
, 5 * FMUL, 3 * FMUL, 
	gRGB_ORDER
, 0, 
	gŒue
, 500> {};

515 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

516 
şass
 
GW6205CÚŒŞËr400Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 6 * 
	gFMUL
, 7 * FMUL, 6 * FMUL, 
	gRGB_ORDER
, 4> {};

518 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

519 
şass
 
GW6205CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 2 * 
	gFMUL
, 4 * FMUL, 4 * FMUL, 
	gRGB_ORDER
, 4> {};

521 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

522 
şass
 
PL9823CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 3 * 
	gFMUL
, 8 * FMUL, 3 * FMUL, 
	gRGB_ORDER
> {};

529 #ifdeà
FASTLED_TEENSY4


531 
	#C_NS
(
_NS
è
	)
_NS

533 
	#C_NS
(
_NS
è(((_NS * ((
CLOCKLESS_FREQUENCY
 / 1000000L)è+ 999)è/ 1000)

	)

537 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

538 
şass
 
GE8822CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(350), C_NS(660), C_NS(350), 
	gRGB_ORDER
, 4> {};

541 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

542 
şass
 
GW6205CÚŒŞËr400Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(800), C_NS(800), C_NS(800), 
	gRGB_ORDER
, 4> {};

545 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

546 
şass
 
GW6205CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(400), C_NS(400), C_NS(400), 
	gRGB_ORDER
, 4> {};

549 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

550 
şass
 
UCS1903CÚŒŞËr400Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(500), C_NS(1500), C_NS(500), 
	gRGB_ORDER
> {};

553 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

554 
şass
 
UCS1903BCÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(400), C_NS(450), C_NS(450), 
	gRGB_ORDER
> {};

557 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

558 
şass
 
UCS1904CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(400), C_NS(400), C_NS(450), 
	gRGB_ORDER
> {};

561 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

562 
şass
 
UCS2903CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(250), C_NS(750), C_NS(250), 
	gRGB_ORDER
> {};

565 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

566 
şass
 
TM1809CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(350), C_NS(350), C_NS(450), 
	gRGB_ORDER
> {};

569 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

570 
şass
 
WS2811CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(320), C_NS(320), C_NS(640), 
	gRGB_ORDER
> {};

573 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

574 
şass
 
WS2813CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(320), C_NS(320), C_NS(640), 
	gRGB_ORDER
> {};

577 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

578 
şass
 
WS2812CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(250), C_NS(625), C_NS(375), 
	gRGB_ORDER
> {};

581 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

582 
şass
 
WS2811CÚŒŞËr400Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(800), C_NS(800), C_NS(900), 
	gRGB_ORDER
> {};

585 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

586 
şass
 
TM1803CÚŒŞËr400Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(700), C_NS(1100), C_NS(700), 
	gRGB_ORDER
> {};

588 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

589 
şass
 
TM1829CÚŒŞËr800Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(340), C_NS(340), C_NS(550), 
	gRGB_ORDER
, 0, 
	gŒue
, 500> {};

591 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

592 
şass
 
TM1829CÚŒŞËr1600Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(100), C_NS(300), C_NS(200), 
	gRGB_ORDER
, 0, 
	gŒue
, 500> {};

594 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

595 
şass
 
LPD1886CÚŒŞËr1250Khz
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(200), C_NS(400), C_NS(200), 
	gRGB_ORDER
, 4> {};

597 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

598 
şass
 
LPD1886CÚŒŞËr1250Khz_8b™
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(200), C_NS(400), C_NS(200), 
	gRGB_ORDER
> {};

601 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

602 
şass
 
SK6822CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(375), C_NS(1000), C_NS(375), 
	gRGB_ORDER
> {};

604 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

605 
şass
 
SK6812CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(300), C_NS(300), C_NS(600), 
	gRGB_ORDER
> {};

607 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

608 
şass
 
SM16703CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(300), C_NS(600), C_NS(300), 
	gRGB_ORDER
> {};

610 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
>

611 
şass
 
PL9823CÚŒŞËr
 : 
public
 
ClockËssCÚŒŞËr
<
DATA_PIN
, 
C_NS
(350), C_NS(1010), C_NS(350), 
	gRGB_ORDER
> {};

617 
	gFASTLED_NAMESPACE_END


	@src/color.h

1 #iâdeà
__INC_COLOR_H


2 
	#__INC_COLOR_H


	)

4 
	~"Fa¡LED.h
"

6 
FASTLED_NAMESPACE_BEGIN


18 
	mTypiÿlSMD5050
=0xFFB0F0 ,

19 
	mTypiÿlLEDSŒ
=0xFFB0F0 ,

25 
	mTypiÿl8mmPix–
=0xFFE08C ,

26 
	mTypiÿlPix–SŒšg
=0xFFE08C ,

30 
	mUncÜ»ùedCŞÜ
=0xFFFFFF

32 } 
	tLEDCŞÜCÜ»ùiÚ
;

41 
	mCªdË
=0xFF9329 ,

43 
	mTung¡’40W
=0xFFC58F ,

45 
	mTung¡’100W
=0xFFD6AA ,

47 
	mH®og’
=0xFFF1E0 ,

49 
	mC¬bÚArc
=0xFFFAF4 ,

51 
	mHighNoÚSun
=0xFFFFFB ,

53 
	mDœeùSuÆight
=0xFFFFFF ,

55 
	mOv”ÿ¡Sky
=0xC9E2FF ,

57 
	mCË¬BlueSky
=0x409CFF ,

65 
	mW¬mFluÜesûÁ
=0xFFF4E5 ,

66 
	mSnd¬dFluÜesûÁ
=0xF4FFFA ,

67 
	mCoŞWh™eFluÜesûÁ
=0xD4EBFF ,

68 
	mFuÎS³ùrumFluÜesûÁ
=0xFFF4F2 ,

69 
	mGrowLightFluÜesûÁ
=0xFFEFF7 ,

70 
	mBÏckLightFluÜesûÁ
=0xA700FF ,

71 
	mM”curyV­Ü
=0xD8F7FF ,

72 
	mSodiumV­Ü
=0xFFD1B2 ,

73 
	mM‘®H®ide
=0xF2FCFF ,

74 
	mHighP»ssu»Sodium
=0xFFB74C ,

78 
	mUncÜ»ùedTem³¿tu»
=0xFFFFFF

79 } 
	tCŞÜTem³¿tu»
;

81 
	gFASTLED_NAMESPACE_END


	@src/colorpalettes.cpp

1 #iâdeà
__INC_COLORPALETTES_H


2 
	#__INC_COLORPALETTES_H


	)

3 
	#FASTLED_INTERNAL


	)

4 
	~"Fa¡LED.h
"

5 
	~"cŞÜuts.h
"

6 
	~"cŞÜ·Ë‰es.h
"

8 
FASTLED_USING_NAMESPACE


20 cÚ¡ 
TProgmemRGBP®‘‹16
 
CloudCŞÜs_p
 
FL_PROGMEM
 =

22 
CRGB
::
Blue
,

23 
CRGB
::
D¬kBlue
,

24 
CRGB
::
D¬kBlue
,

25 
CRGB
::
D¬kBlue
,

27 
CRGB
::
D¬kBlue
,

28 
CRGB
::
D¬kBlue
,

29 
CRGB
::
D¬kBlue
,

30 
CRGB
::
D¬kBlue
,

32 
CRGB
::
Blue
,

33 
CRGB
::
D¬kBlue
,

34 
CRGB
::
SkyBlue
,

35 
CRGB
::
SkyBlue
,

37 
CRGB
::
LightBlue
,

38 
CRGB
::
Wh™e
,

39 
CRGB
::
LightBlue
,

40 
CRGB
::
SkyBlue


43 cÚ¡ 
TProgmemRGBP®‘‹16
 
LavaCŞÜs_p
 
FL_PROGMEM
 =

45 
CRGB
::
BÏck
,

46 
CRGB
::
M¬oÚ
,

47 
CRGB
::
BÏck
,

48 
CRGB
::
M¬oÚ
,

50 
CRGB
::
D¬kRed
,

51 
CRGB
::
M¬oÚ
,

52 
CRGB
::
D¬kRed
,

54 
CRGB
::
D¬kRed
,

55 
CRGB
::
D¬kRed
,

56 
CRGB
::
Red
,

57 
CRGB
::
O¿nge
,

59 
CRGB
::
Wh™e
,

60 
CRGB
::
O¿nge
,

61 
CRGB
::
Red
,

62 
CRGB
::
D¬kRed


66 cÚ¡ 
TProgmemRGBP®‘‹16
 
OûªCŞÜs_p
 
FL_PROGMEM
 =

68 
CRGB
::
MidnightBlue
,

69 
CRGB
::
D¬kBlue
,

70 
CRGB
::
MidnightBlue
,

71 
CRGB
::
Navy
,

73 
CRGB
::
D¬kBlue
,

74 
CRGB
::
MediumBlue
,

75 
CRGB
::
S—G»’
,

76 
CRGB
::
T—l
,

78 
CRGB
::
Cad‘Blue
,

79 
CRGB
::
Blue
,

80 
CRGB
::
D¬kCyª
,

81 
CRGB
::
CÜnæow”Blue
,

83 
CRGB
::
Aquam¬še
,

84 
CRGB
::
S—G»’
,

85 
CRGB
::
Aqua
,

86 
CRGB
::
LightSkyBlue


89 cÚ¡ 
TProgmemRGBP®‘‹16
 
FÜe¡CŞÜs_p
 
FL_PROGMEM
 =

91 
CRGB
::
D¬kG»’
,

92 
CRGB
::
D¬kG»’
,

93 
CRGB
::
D¬kOliveG»’
,

94 
CRGB
::
D¬kG»’
,

96 
CRGB
::
G»’
,

97 
CRGB
::
FÜe¡G»’
,

98 
CRGB
::
OliveD¿b
,

99 
CRGB
::
G»’
,

101 
CRGB
::
S—G»’
,

102 
CRGB
::
MediumAquam¬še
,

103 
CRGB
::
LimeG»’
,

104 
CRGB
::
Y–lowG»’
,

106 
CRGB
::
LightG»’
,

107 
CRGB
::
LawnG»’
,

108 
CRGB
::
MediumAquam¬še
,

109 
CRGB
::
FÜe¡G»’


113 cÚ¡ 
TProgmemRGBP®‘‹16
 
RašbowCŞÜs_p
 
FL_PROGMEM
 =

122 
	#RašbowSŒesCŞÜs_p
 
RašbowSŒeCŞÜs_p


	)

123 cÚ¡ 
TProgmemRGBP®‘‹16
 
RašbowSŒeCŞÜs_p
 
FL_PROGMEM
 =

135 cÚ¡ 
TProgmemRGBP®‘‹16
 
P¬tyCŞÜs_p
 
FL_PROGMEM
 =

149 cÚ¡ 
TProgmemRGBP®‘‹16
 
H—tCŞÜs_p
 
FL_PROGMEM
 =

163 
	$DEFINE_GRADIENT_PALETTE
Ğ
Rašbow_gp
 ) {

172 255, 255, 0, 0
	}
};

	@src/colorpalettes.h

1 #iâdeà
__INC_COLORPALETTES_H


2 
	#__INC_COLORPALETTES_H


	)

4 
	~"Fa¡LED.h
"

5 
	~"cŞÜuts.h
"

10 
FASTLED_NAMESPACE_BEGIN


22 cÚ¡ 
TProgmemRGBP®‘‹16
 
CloudCŞÜs_p
 
FL_PROGMEM
;

24 cÚ¡ 
TProgmemRGBP®‘‹16
 
LavaCŞÜs_p
 
FL_PROGMEM
;

26 cÚ¡ 
TProgmemRGBP®‘‹16
 
OûªCŞÜs_p
 
FL_PROGMEM
;

28 cÚ¡ 
TProgmemRGBP®‘‹16
 
FÜe¡CŞÜs_p
 
FL_PROGMEM
;

31 cÚ¡ 
TProgmemRGBP®‘‹16
 
RašbowCŞÜs_p
 
FL_PROGMEM
;

33 
	#RašbowSŒesCŞÜs_p
 
RašbowSŒeCŞÜs_p


	)

35 cÚ¡ 
TProgmemRGBP®‘‹16
 
RašbowSŒeCŞÜs_p
 
FL_PROGMEM
;

41 cÚ¡ 
TProgmemRGBP®‘‹16
 
P¬tyCŞÜs_p
 
FL_PROGMEM
;

49 cÚ¡ 
TProgmemRGBP®‘‹16
 
H—tCŞÜs_p
 
FL_PROGMEM
;

52 
DECLARE_GRADIENT_PALETTE
Ğ
Rašbow_gp
);

54 
	gFASTLED_NAMESPACE_END


	@src/colorutils.cpp

1 
	#FASTLED_INTERNAL


	)

2 
	#__PROG_TYPES_COMPAT__


	)

4 
	~<¡dšt.h
>

5 
	~<m©h.h
>

7 
	~"Fa¡LED.h
"

9 
FASTLED_NAMESPACE_BEGIN


13 
	$fl_sŞid
Ğ
CRGB
 * 
Ëds
, 
numToFl
,

14 cÚ¡ 
CRGB
& 
cŞÜ
)

16  
i
 = 0; i < 
numToFl
; ++i) {

17 
Ëds
[
i
] = 
cŞÜ
;

19 
	}
}

21 
	$fl_sŞid
Ğ
CHSV
 * 
rg‘A¼ay
, 
numToFl
,

22 cÚ¡ 
CHSV
& 
hsvCŞÜ
)

24  
i
 = 0; i < 
numToFl
; ++i) {

25 
rg‘A¼ay
[
i
] = 
hsvCŞÜ
;

27 
	}
}

36 
	$fl_¿šbow
Ğ
CRGB
 * 
pFœ¡LED
, 
numToFl
,

37 
ušt8_t
 
š™Ÿlhue
,

38 
ušt8_t
 
d–hue
 )

40 
CHSV
 
hsv
;

41 
hsv
.
hue
 = 
š™Ÿlhue
;

42 
hsv
.
v®
 = 255;

43 
hsv
.
§t
 = 240;

44  
i
 = 0; i < 
numToFl
; ++i) {

45 
pFœ¡LED
[
i
] = 
hsv
;

46 
hsv
.
hue
 +ğ
d–hue
;

48 
	}
}

50 
	$fl_¿šbow
Ğ
CHSV
 * 
rg‘A¼ay
, 
numToFl
,

51 
ušt8_t
 
š™Ÿlhue
,

52 
ušt8_t
 
d–hue
 )

54 
CHSV
 
hsv
;

55 
hsv
.
hue
 = 
š™Ÿlhue
;

56 
hsv
.
v®
 = 255;

57 
hsv
.
§t
 = 240;

58  
i
 = 0; i < 
numToFl
; ++i) {

59 
rg‘A¼ay
[
i
] = 
hsv
;

60 
hsv
.
hue
 +ğ
d–hue
;

62 
	}
}

65 
	$fl_g¿d›Á_RGB
Ğ
CRGB
* 
Ëds
,

66 
ušt16_t
 
¡¬os
, 
CRGB
 
¡¬tcŞÜ
,

67 
ušt16_t
 
’dpos
, 
CRGB
 
’dcŞÜ
 )

70 ifĞ
’dpos
 < 
¡¬os
 ) {

71 
ušt16_t
 
t
 = 
’dpos
;

72 
CRGB
 
tc
 = 
’dcŞÜ
;

73 
’dcŞÜ
 = 
¡¬tcŞÜ
;

74 
’dpos
 = 
¡¬os
;

75 
¡¬os
 = 
t
;

76 
¡¬tcŞÜ
 = 
tc
;

79 
§ccum87
 
rdi¡ªû87
;

80 
§ccum87
 
gdi¡ªû87
;

81 
§ccum87
 
bdi¡ªû87
;

83 
rdi¡ªû87
 = (
’dcŞÜ
.
r
 - 
¡¬tcŞÜ
.r) << 7;

84 
gdi¡ªû87
 = (
’dcŞÜ
.
g
 - 
¡¬tcŞÜ
.g) << 7;

85 
bdi¡ªû87
 = (
’dcŞÜ
.
b
 - 
¡¬tcŞÜ
.b) << 7;

87 
ušt16_t
 
pix–di¡ªû
 = 
’dpos
 - 
¡¬os
;

88 
št16_t
 
divisÜ
 = 
pix–di¡ªû
 ?…ixeldistance : 1;

90 
§ccum87
 
rd–87
 = 
rdi¡ªû87
 / 
divisÜ
;

91 
§ccum87
 
gd–87
 = 
gdi¡ªû87
 / 
divisÜ
;

92 
§ccum87
 
bd–87
 = 
bdi¡ªû87
 / 
divisÜ
;

94 
rd–87
 *= 2;

95 
gd–87
 *= 2;

96 
bd–87
 *= 2;

98 
accum88
 
r88
 = 
¡¬tcŞÜ
.
r
 << 8;

99 
accum88
 
g88
 = 
¡¬tcŞÜ
.
g
 << 8;

100 
accum88
 
b88
 = 
¡¬tcŞÜ
.
b
 << 8;

101  
ušt16_t
 
i
 = 
¡¬os
; i <ğ
’dpos
; ++i) {

102 
Ëds
[
i
] = 
	`CRGB
Ğ
r88
 >> 8, 
g88
 >> 8, 
b88
 >> 8);

103 
r88
 +ğ
rd–87
;

104 
g88
 +ğ
gd–87
;

105 
b88
 +ğ
bd–87
;

107 
	}
}

110 
	$fl_g¿d›Á
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
)

112 
	`fl_g¿d›Á
Ğ
Fa¡LED
[0].
	`Ëds
(), Fa¡LED[0].
	`size
(), 
c1
, 
c2
);

113 
	}
}

115 
	$fl_g¿d›Á
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
)

117 
	`fl_g¿d›Á
Ğ
Fa¡LED
[0].
	`Ëds
(), Fa¡LED[0].
	`size
(), 
c1
, 
c2
, 
c3
);

118 
	}
}

120 
	$fl_g¿d›Á
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
, cÚ¡ CHSV& 
c4
)

122 
	`fl_g¿d›Á
Ğ
Fa¡LED
[0].
	`Ëds
(), Fa¡LED[0].
	`size
(), 
c1
, 
c2
, 
c3
, 
c4
);

123 
	}
}

125 
	$fl_g¿d›Á_RGB
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
)

127 
	`fl_g¿d›Á_RGB
Ğ
Fa¡LED
[0].
	`Ëds
(), Fa¡LED[0].
	`size
(), 
c1
, 
c2
);

128 
	}
}

130 
	$fl_g¿d›Á_RGB
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
)

132 
	`fl_g¿d›Á_RGB
Ğ
Fa¡LED
[0].
	`Ëds
(), Fa¡LED[0].
	`size
(), 
c1
, 
c2
, 
c3
);

133 
	}
}

135 
	$fl_g¿d›Á_RGB
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
, cÚ¡ CRGB& 
c4
)

137 
	`fl_g¿d›Á_RGB
Ğ
Fa¡LED
[0].
	`Ëds
(), Fa¡LED[0].
	`size
(), 
c1
, 
c2
, 
c3
, 
c4
);

138 
	}
}

144 
	$fl_g¿d›Á_RGB
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, cÚ¡ CRGB& 
c1
, cÚ¡ CRGB& 
c2
)

146 
ušt16_t
 
Ï¡
 = 
numLeds
 - 1;

147 
	`fl_g¿d›Á_RGB
Ğ
Ëds
, 0, 
c1
, 
Ï¡
, 
c2
);

148 
	}
}

151 
	$fl_g¿d›Á_RGB
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, cÚ¡ CRGB& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
)

153 
ušt16_t
 
h®f
 = (
numLeds
 / 2);

154 
ušt16_t
 
Ï¡
 = 
numLeds
 - 1;

155 
	`fl_g¿d›Á_RGB
Ğ
Ëds
, 0, 
c1
, 
h®f
, 
c2
);

156 
	`fl_g¿d›Á_RGB
Ğ
Ëds
, 
h®f
, 
c2
, 
Ï¡
, 
c3
);

157 
	}
}

159 
	$fl_g¿d›Á_RGB
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, cÚ¡ CRGB& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
, cÚ¡ CRGB& 
c4
)

161 
ušt16_t
 
Ú‘hœd
 = (
numLeds
 / 3);

162 
ušt16_t
 
twÙhœds
 = ((
numLeds
 * 2) / 3);

163 
ušt16_t
 
Ï¡
 = 
numLeds
 - 1;

164 
	`fl_g¿d›Á_RGB
Ğ
Ëds
, 0, 
c1
, 
Ú‘hœd
, 
c2
);

165 
	`fl_g¿d›Á_RGB
Ğ
Ëds
, 
Ú‘hœd
, 
c2
, 
twÙhœds
, 
c3
);

166 
	`fl_g¿d›Á_RGB
Ğ
Ëds
, 
twÙhœds
, 
c3
, 
Ï¡
, 
c4
);

167 
	}
}

172 
	$nsÿË8_video
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
sÿË
)

174  
ušt16_t
 
i
 = 0; i < 
num_Ëds
; ++i) {

175 
Ëds
[
i
].
	`nsÿË8_video
Ğ
sÿË
);

177 
	}
}

179 
	$çde_video
(
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
çdeBy
)

181 
	`nsÿË8_video
Ğ
Ëds
, 
num_Ëds
, 255 - 
çdeBy
);

182 
	}
}

184 
	$çdeLightBy
(
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
çdeBy
)

186 
	`nsÿË8_video
Ğ
Ëds
, 
num_Ëds
, 255 - 
çdeBy
);

187 
	}
}

190 
	$çdeToBÏckBy
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
çdeBy
)

192 
	`nsÿË8
Ğ
Ëds
, 
num_Ëds
, 255 - 
çdeBy
);

193 
	}
}

195 
	$çde_¿w
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
çdeBy
)

197 
	`nsÿË8
Ğ
Ëds
, 
num_Ëds
, 255 - 
çdeBy
);

198 
	}
}

200 
	$nsÿË8_¿w
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
sÿË
)

202 
	`nsÿË8
Ğ
Ëds
, 
num_Ëds
, 
sÿË
);

203 
	}
}

205 
	$nsÿË8
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
sÿË
)

207  
ušt16_t
 
i
 = 0; i < 
num_Ëds
; ++i) {

208 
Ëds
[
i
].
	`nsÿË8
Ğ
sÿË
);

210 
	}
}

212 
	$çdeUsšgCŞÜ
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, cÚ¡ CRGB& 
cŞÜmask
)

214 
ušt8_t
 
ä
, 
fg
, 
fb
;

215 
ä
 = 
cŞÜmask
.
r
;

216 
fg
 = 
cŞÜmask
.
g
;

217 
fb
 = 
cŞÜmask
.
b
;

219  
ušt16_t
 
i
 = 0; i < 
numLeds
; ++i) {

220 
Ëds
[
i
].
r
 = 
	`sÿË8_LEAVING_R1_DIRTY
ĞËds[i].r, 
ä
);

221 
Ëds
[
i
].
g
 = 
	`sÿË8_LEAVING_R1_DIRTY
ĞËds[i].g, 
fg
);

222 
Ëds
[
i
].
b
 = 
	`sÿË8
 (†eds[i].b, 
fb
);

224 
	}
}

227 
	gCRGB
& 
	$nbËnd
Ğ
CRGB
& 
exi¡šg
, cÚ¡ CRGB& 
ov”Ïy
, 
äaù8
 
amouÁOfOv”Ïy
 )

229 ifĞ
amouÁOfOv”Ïy
 == 0) {

230  
exi¡šg
;

233 ifĞ
amouÁOfOv”Ïy
 == 255) {

234 
exi¡šg
 = 
ov”Ïy
;

235  
exi¡šg
;

240 
äaù8
 
amouÁOfK“p
 = 255 - 
amouÁOfOv”Ïy
;

242 
exi¡šg
.
»d
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğexi¡šg.»d, 
amouÁOfK“p
)

243 + 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
ov”Ïy
.
»d
, 
amouÁOfOv”Ïy
);

244 
exi¡šg
.
g»’
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğexi¡šg.g»’, 
amouÁOfK“p
)

245 + 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
ov”Ïy
.
g»’
, 
amouÁOfOv”Ïy
);

246 
exi¡šg
.
blue
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğexi¡šg.blue, 
amouÁOfK“p
)

247 + 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
ov”Ïy
.
blue
, 
amouÁOfOv”Ïy
);

249 
	`ş—nup_R1
();

252 
exi¡šg
.
»d
 = 
	`bËnd8
Ğexi¡šg.»d, 
ov”Ïy
.»d, 
amouÁOfOv”Ïy
);

253 
exi¡šg
.
g»’
 = 
	`bËnd8
Ğexi¡šg.g»’, 
ov”Ïy
.g»’, 
amouÁOfOv”Ïy
);

254 
exi¡šg
.
blue
 = 
	`bËnd8
Ğexi¡šg.blue, 
ov”Ïy
.blue, 
amouÁOfOv”Ïy
);

257  
exi¡šg
;

258 
	}
}

262 
	$nbËnd
Ğ
CRGB
* 
exi¡šg
, CRGB* 
ov”Ïy
, 
ušt16_t
 
couÁ
, 
äaù8
 
amouÁOfOv”Ïy
)

264  
ušt16_t
 
i
 = 
couÁ
; i; --i) {

265 
	`nbËnd
Ğ*
exi¡šg
, *
ov”Ïy
, 
amouÁOfOv”Ïy
);

266 ++
exi¡šg
;

267 ++
ov”Ïy
;

269 
	}
}

271 
CRGB
 
	$bËnd
ĞcÚ¡ 
CRGB
& 
p1
, cÚ¡ CRGB& 
p2
, 
äaù8
 
amouÁOfP2
 )

273 
CRGB
 
	`nu
(
p1
);

274 
	`nbËnd
Ğ
nu
, 
p2
, 
amouÁOfP2
);

275  
nu
;

276 
	}
}

278 
CRGB
* 
	$bËnd
ĞcÚ¡ 
CRGB
* 
¤c1
, cÚ¡ CRGB* 
¤c2
, CRGB* 
de¡
, 
ušt16_t
 
couÁ
, 
äaù8
 
amouÁOf¤c2
 )

280  
ušt16_t
 
i
 = 0; i < 
couÁ
; ++i) {

281 
de¡
[
i
] = 
	`bËnd
(
¤c1
[i], 
¤c2
[i], 
amouÁOf¤c2
);

283  
de¡
;

284 
	}
}

288 
	gCHSV
& 
	$nbËnd
Ğ
CHSV
& 
exi¡šg
, cÚ¡ CHSV& 
ov”Ïy
, 
äaù8
 
amouÁOfOv”Ïy
, 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
)

290 ifĞ
amouÁOfOv”Ïy
 == 0) {

291  
exi¡šg
;

294 ifĞ
amouÁOfOv”Ïy
 == 255) {

295 
exi¡šg
 = 
ov”Ïy
;

296  
exi¡šg
;

299 
äaù8
 
amouÁOfK“p
 = 255 - 
amouÁOfOv”Ïy
;

301 
ušt8_t
 
hued–8
 = 
ov”Ïy
.
hue
 - 
exi¡šg
.hue;

303 ifĞ
dœeùiÚCode
 =ğ
SHORTEST_HUES
 ) {

304 
dœeùiÚCode
 = 
FORWARD_HUES
;

305 ifĞ
hued–8
 > 127) {

306 
dœeùiÚCode
 = 
BACKWARD_HUES
;

310 ifĞ
dœeùiÚCode
 =ğ
LONGEST_HUES
 ) {

311 
dœeùiÚCode
 = 
FORWARD_HUES
;

312 ifĞ
hued–8
 < 128) {

313 
dœeùiÚCode
 = 
BACKWARD_HUES
;

317 ifĞ
dœeùiÚCode
 =ğ
FORWARD_HUES
) {

318 
exi¡šg
.
hue
 =ƒxi¡šg.hu+ 
	`sÿË8
Ğ
hued–8
, 
amouÁOfOv”Ïy
);

322 
hued–8
 = -huedelta8;

323 
exi¡šg
.
hue
 =ƒxi¡šg.hu- 
	`sÿË8
Ğ
hued–8
, 
amouÁOfOv”Ïy
);

326 
exi¡šg
.
§t
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğexi¡šg.§t, 
amouÁOfK“p
)

327 + 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
ov”Ïy
.
§t
, 
amouÁOfOv”Ïy
);

328 
exi¡šg
.
v®
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğexi¡šg.v®, 
amouÁOfK“p
)

329 + 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
ov”Ïy
.
v®
, 
amouÁOfOv”Ïy
);

331 
	`ş—nup_R1
();

333  
exi¡šg
;

334 
	}
}

338 
	$nbËnd
Ğ
CHSV
* 
exi¡šg
, CHSV* 
ov”Ïy
, 
ušt16_t
 
couÁ
, 
äaù8
 
amouÁOfOv”Ïy
, 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 )

340 if(
exi¡šg
 =ğ
ov”Ïy
) ;

341  
ušt16_t
 
i
 = 
couÁ
; i; --i) {

342 
	`nbËnd
Ğ*
exi¡šg
, *
ov”Ïy
, 
amouÁOfOv”Ïy
, 
dœeùiÚCode
);

343 ++
exi¡šg
;

344 ++
ov”Ïy
;

346 
	}
}

348 
CHSV
 
	$bËnd
ĞcÚ¡ 
CHSV
& 
p1
, cÚ¡ CHSV& 
p2
, 
äaù8
 
amouÁOfP2
, 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 )

350 
CHSV
 
	`nu
(
p1
);

351 
	`nbËnd
Ğ
nu
, 
p2
, 
amouÁOfP2
, 
dœeùiÚCode
);

352  
nu
;

353 
	}
}

355 
CHSV
* 
	$bËnd
ĞcÚ¡ 
CHSV
* 
¤c1
, cÚ¡ CHSV* 
¤c2
, CHSV* 
de¡
, 
ušt16_t
 
couÁ
, 
äaù8
 
amouÁOf¤c2
, 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 )

357  
ušt16_t
 
i
 = 0; i < 
couÁ
; ++i) {

358 
de¡
[
i
] = 
	`bËnd
(
¤c1
[i], 
¤c2
[i], 
amouÁOf¤c2
, 
dœeùiÚCode
);

360  
de¡
;

361 
	}
}

367 
ušt16_t
 
XY
Ğ
ušt8_t
, uint8_t);

383 
	$blur1d
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, 
äaù8
 
blur_amouÁ
)

385 
ušt8_t
 
k“p
 = 255 - 
blur_amouÁ
;

386 
ušt8_t
 
£•
 = 
blur_amouÁ
 >> 1;

387 
CRGB
 
ÿ¼yov”
 = CRGB::
BÏck
;

388  
ušt16_t
 
i
 = 0; i < 
numLeds
; ++i) {

389 
CRGB
 
cur
 = 
Ëds
[
i
];

390 
CRGB
 
·¹
 = 
cur
;

391 
·¹
.
	`nsÿË8
Ğ
£•
);

392 
cur
.
	`nsÿË8
Ğ
k“p
);

393 
cur
 +ğ
ÿ¼yov”
;

394 ifĞ
i
è
Ëds
[i-1] +ğ
·¹
;

395 
Ëds
[
i
] = 
cur
;

396 
ÿ¼yov”
 = 
·¹
;

398 
	}
}

400 
	$blur2d
Ğ
CRGB
* 
Ëds
, 
ušt8_t
 
width
, ušt8_ˆ
height
, 
äaù8
 
blur_amouÁ
)

402 
	`blurRows
(
Ëds
, 
width
, 
height
, 
blur_amouÁ
);

403 
	`blurCŞumns
(
Ëds
, 
width
, 
height
, 
blur_amouÁ
);

404 
	}
}

407 
	$blurRows
Ğ
CRGB
* 
Ëds
, 
ušt8_t
 
width
, ušt8_ˆ
height
, 
äaù8
 
blur_amouÁ
)

409  
ušt8_t
 
row
 = 0;„ow < 
height
; ++row) {

410 
CRGB
* 
rowba£
 = 
Ëds
 + (
row
 * 
width
);

411 
	`blur1d
Ğ
rowba£
, 
width
, 
blur_amouÁ
);

413 
	}
}

416 
	$blurCŞumns
(
CRGB
* 
Ëds
, 
ušt8_t
 
width
, ušt8_ˆ
height
, 
äaù8
 
blur_amouÁ
)

419 
ušt8_t
 
k“p
 = 255 - 
blur_amouÁ
;

420 
ušt8_t
 
£•
 = 
blur_amouÁ
 >> 1;

421  
ušt8_t
 
cŞ
 = 0; cŞ < 
width
; ++col) {

422 
CRGB
 
ÿ¼yov”
 = CRGB::
BÏck
;

423  
ušt8_t
 
i
 = 0; i < 
height
; ++i) {

424 
CRGB
 
cur
 = 
Ëds
[
	`XY
(
cŞ
,
i
)];

425 
CRGB
 
·¹
 = 
cur
;

426 
·¹
.
	`nsÿË8
Ğ
£•
);

427 
cur
.
	`nsÿË8
Ğ
k“p
);

428 
cur
 +ğ
ÿ¼yov”
;

429 ifĞ
i
è
Ëds
[
	`XY
(
cŞ
,i-1)] +ğ
·¹
;

430 
Ëds
[
	`XY
(
cŞ
,
i
)] = 
cur
;

431 
ÿ¼yov”
 = 
·¹
;

434 
	}
}

449 
CRGB
 
	$H—tCŞÜ
Ğ
ušt8_t
 
‹m³¿tu»
)

451 
CRGB
 
h—tcŞÜ
;

456 
ušt8_t
 
t192
 = 
	`sÿË8_video
Ğ
‹m³¿tu»
, 191);

460 
ušt8_t
 
h—Œamp
 = 
t192
 & 0x3F;

461 
h—Œamp
 <<= 2;

464 ifĞ
t192
 & 0x80) {

466 
h—tcŞÜ
.
r
 = 255;

467 
h—tcŞÜ
.
g
 = 255;

468 
h—tcŞÜ
.
b
 = 
h—Œamp
;

470 } ifĞ
t192
 & 0x40 ) {

472 
h—tcŞÜ
.
r
 = 255;

473 
h—tcŞÜ
.
g
 = 
h—Œamp
;

474 
h—tcŞÜ
.
b
 = 0;

478 
h—tcŞÜ
.
r
 = 
h—Œamp
;

479 
h—tcŞÜ
.
g
 = 0;

480 
h—tcŞÜ
.
b
 = 0;

483  
h—tcŞÜ
;

484 
	}
}

491 
šlše
 
ušt8_t
 
	$l¤X4
Ğ
ušt8_t
 
divid’d
è
	`__©Œibu‹__
((
®ways_šlše
));

492 
šlše
 
ušt8_t
 
	$l¤X4
Ğ
ušt8_t
 
divid’d
)

494 #ià
	`defšed
(
__AVR__
)

495 
divid’d
 /= 2;

496 
divid’d
 /= 2;

497 
divid’d
 /= 2;

498 
divid’d
 /= 2;

500 
divid’d
 >>= 4;

502  
divid’d
;

503 
	}
}

506 
CRGB
 
	$CŞÜFromP®‘‹
ĞcÚ¡ 
CRGBP®‘‹16
& 
·l
, 
ušt8_t
 
šdex
, ušt8_ˆ
brighŠess
, 
TBËndTy³
 
bËndTy³
)

509 
ušt8_t
 
hi4
 = 
	`l¤X4
(
šdex
);

510 
ušt8_t
 
lo4
 = 
šdex
 & 0x0F;

516 
ušt8_t
 
hi4XsizeofCRGB
 = 
hi4
 * (
CRGB
);

518 cÚ¡ 
CRGB
* 
’Œy
 = (CRGB*)Ğ(
ušt8_t
*)(&(
·l
[0])è+ 
hi4XsizeofCRGB
);

520 
ušt8_t
 
bËnd
 = 
lo4
 && (
bËndTy³
 !ğ
NOBLEND
);

522 
ušt8_t
 
»d1
 = 
’Œy
->
»d
;

523 
ušt8_t
 
g»’1
 = 
’Œy
->
g»’
;

524 
ušt8_t
 
blue1
 = 
’Œy
->
blue
;

527 ifĞ
bËnd
 ) {

529 ifĞ
hi4
 == 15 ) {

530 
’Œy
 = &(
·l
[0]);

532 ++
’Œy
;

535 
ušt8_t
 
f2
 = 
lo4
 << 4;

536 
ušt8_t
 
f1
 = 255 - 
f2
;

539 
ušt8_t
 
»d2
 = 
’Œy
->
»d
;

540 
»d1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d1, 
f1
);

541 
»d2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d2, 
f2
);

542 
»d1
 +ğ
»d2
;

544 
ušt8_t
 
g»’2
 = 
’Œy
->
g»’
;

545 
g»’1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’1, 
f1
);

546 
g»’2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’2, 
f2
);

547 
g»’1
 +ğ
g»’2
;

549 
ušt8_t
 
blue2
 = 
’Œy
->
blue
;

550 
blue1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue1, 
f1
);

551 
blue2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue2, 
f2
);

552 
blue1
 +ğ
blue2
;

554 
	`ş—nup_R1
();

557 ifĞ
brighŠess
 != 255) {

558 ifĞ
brighŠess
 ) {

559 ++
brighŠess
;

562 ifĞ
»d1
 ) {

563 
»d1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d1, 
brighŠess
);

564 #ià!(
FASTLED_SCALE8_FIXED
==1)

565 ++
»d1
;

568 ifĞ
g»’1
 ) {

569 
g»’1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’1, 
brighŠess
);

570 #ià!(
FASTLED_SCALE8_FIXED
==1)

571 ++
g»’1
;

574 ifĞ
blue1
 ) {

575 
blue1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue1, 
brighŠess
);

576 #ià!(
FASTLED_SCALE8_FIXED
==1)

577 ++
blue1
;

580 
	`ş—nup_R1
();

582 
»d1
 = 0;

583 
g»’1
 = 0;

584 
blue1
 = 0;

588  
	`CRGB
Ğ
»d1
, 
g»’1
, 
blue1
);

589 
	}
}

591 
CRGB
 
	$CŞÜFromP®‘‹
ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
·l
, 
ušt8_t
 
šdex
, ušt8_ˆ
brighŠess
, 
TBËndTy³
 
bËndTy³
)

594 
ušt8_t
 
hi4
 = 
	`l¤X4
(
šdex
);

595 
ušt8_t
 
lo4
 = 
šdex
 & 0x0F;

597 
CRGB
 
’Œy
 = 
	`FL_PGM_READ_DWORD_NEAR
Ğ&(
·l
[0]è+ 
hi4
 );

600 
ušt8_t
 
»d1
 = 
’Œy
.
»d
;

601 
ušt8_t
 
g»’1
 = 
’Œy
.
g»’
;

602 
ušt8_t
 
blue1
 = 
’Œy
.
blue
;

604 
ušt8_t
 
bËnd
 = 
lo4
 && (
bËndTy³
 !ğ
NOBLEND
);

606 ifĞ
bËnd
 ) {

608 ifĞ
hi4
 == 15 ) {

609 
’Œy
 = 
	`FL_PGM_READ_DWORD_NEAR
Ğ&(
·l
[0]) );

611 
’Œy
 = 
	`FL_PGM_READ_DWORD_NEAR
Ğ&(
·l
[1]è+ 
hi4
 );

614 
ušt8_t
 
f2
 = 
lo4
 << 4;

615 
ušt8_t
 
f1
 = 255 - 
f2
;

617 
ušt8_t
 
»d2
 = 
’Œy
.
»d
;

618 
»d1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d1, 
f1
);

619 
»d2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d2, 
f2
);

620 
»d1
 +ğ
»d2
;

622 
ušt8_t
 
g»’2
 = 
’Œy
.
g»’
;

623 
g»’1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’1, 
f1
);

624 
g»’2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’2, 
f2
);

625 
g»’1
 +ğ
g»’2
;

627 
ušt8_t
 
blue2
 = 
’Œy
.
blue
;

628 
blue1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue1, 
f1
);

629 
blue2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue2, 
f2
);

630 
blue1
 +ğ
blue2
;

632 
	`ş—nup_R1
();

635 ifĞ
brighŠess
 != 255) {

636 ifĞ
brighŠess
 ) {

637 ++
brighŠess
;

640 ifĞ
»d1
 ) {

641 
»d1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d1, 
brighŠess
);

642 #ià!(
FASTLED_SCALE8_FIXED
==1)

643 ++
»d1
;

646 ifĞ
g»’1
 ) {

647 
g»’1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’1, 
brighŠess
);

648 #ià!(
FASTLED_SCALE8_FIXED
==1)

649 ++
g»’1
;

652 ifĞ
blue1
 ) {

653 
blue1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue1, 
brighŠess
);

654 #ià!(
FASTLED_SCALE8_FIXED
==1)

655 ++
blue1
;

658 
	`ş—nup_R1
();

660 
»d1
 = 0;

661 
g»’1
 = 0;

662 
blue1
 = 0;

666  
	`CRGB
Ğ
»d1
, 
g»’1
, 
blue1
);

667 
	}
}

670 
CRGB
 
	$CŞÜFromP®‘‹
ĞcÚ¡ 
CRGBP®‘‹32
& 
·l
, 
ušt8_t
 
šdex
, ušt8_ˆ
brighŠess
, 
TBËndTy³
 
bËndTy³
)

672 
ušt8_t
 
hi5
 = 
šdex
;

673 #ià
	`defšed
(
__AVR__
)

674 
hi5
 /= 2;

675 
hi5
 /= 2;

676 
hi5
 /= 2;

678 
hi5
 >>= 3;

680 
ušt8_t
 
lo3
 = 
šdex
 & 0x07;

686 
ušt8_t
 
hi5XsizeofCRGB
 = 
hi5
 * (
CRGB
);

688 cÚ¡ 
CRGB
* 
’Œy
 = (CRGB*)Ğ(
ušt8_t
*)(&(
·l
[0])è+ 
hi5XsizeofCRGB
);

690 
ušt8_t
 
»d1
 = 
’Œy
->
»d
;

691 
ušt8_t
 
g»’1
 = 
’Œy
->
g»’
;

692 
ušt8_t
 
blue1
 = 
’Œy
->
blue
;

694 
ušt8_t
 
bËnd
 = 
lo3
 && (
bËndTy³
 !ğ
NOBLEND
);

696 ifĞ
bËnd
 ) {

698 ifĞ
hi5
 == 31 ) {

699 
’Œy
 = &(
·l
[0]);

701 ++
’Œy
;

704 
ušt8_t
 
f2
 = 
lo3
 << 5;

705 
ušt8_t
 
f1
 = 255 - 
f2
;

707 
ušt8_t
 
»d2
 = 
’Œy
->
»d
;

708 
»d1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d1, 
f1
);

709 
»d2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d2, 
f2
);

710 
»d1
 +ğ
»d2
;

712 
ušt8_t
 
g»’2
 = 
’Œy
->
g»’
;

713 
g»’1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’1, 
f1
);

714 
g»’2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’2, 
f2
);

715 
g»’1
 +ğ
g»’2
;

717 
ušt8_t
 
blue2
 = 
’Œy
->
blue
;

718 
blue1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue1, 
f1
);

719 
blue2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue2, 
f2
);

720 
blue1
 +ğ
blue2
;

722 
	`ş—nup_R1
();

726 ifĞ
brighŠess
 != 255) {

727 ifĞ
brighŠess
 ) {

728 ++
brighŠess
;

731 ifĞ
»d1
 ) {

732 
»d1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d1, 
brighŠess
);

733 #ià!(
FASTLED_SCALE8_FIXED
==1)

734 ++
»d1
;

737 ifĞ
g»’1
 ) {

738 
g»’1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’1, 
brighŠess
);

739 #ià!(
FASTLED_SCALE8_FIXED
==1)

740 ++
g»’1
;

743 ifĞ
blue1
 ) {

744 
blue1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue1, 
brighŠess
);

745 #ià!(
FASTLED_SCALE8_FIXED
==1)

746 ++
blue1
;

749 
	`ş—nup_R1
();

751 
»d1
 = 0;

752 
g»’1
 = 0;

753 
blue1
 = 0;

757  
	`CRGB
Ğ
»d1
, 
g»’1
, 
blue1
);

758 
	}
}

761 
CRGB
 
	$CŞÜFromP®‘‹
ĞcÚ¡ 
TProgmemRGBP®‘‹32
& 
·l
, 
ušt8_t
 
šdex
, ušt8_ˆ
brighŠess
, 
TBËndTy³
 
bËndTy³
)

763 
ušt8_t
 
hi5
 = 
šdex
;

764 #ià
	`defšed
(
__AVR__
)

765 
hi5
 /= 2;

766 
hi5
 /= 2;

767 
hi5
 /= 2;

769 
hi5
 >>= 3;

771 
ušt8_t
 
lo3
 = 
šdex
 & 0x07;

773 
CRGB
 
’Œy
 = 
	`FL_PGM_READ_DWORD_NEAR
Ğ&(
·l
[0]è+ 
hi5
);

775 
ušt8_t
 
»d1
 = 
’Œy
.
»d
;

776 
ušt8_t
 
g»’1
 = 
’Œy
.
g»’
;

777 
ušt8_t
 
blue1
 = 
’Œy
.
blue
;

779 
ušt8_t
 
bËnd
 = 
lo3
 && (
bËndTy³
 !ğ
NOBLEND
);

781 ifĞ
bËnd
 ) {

783 ifĞ
hi5
 == 31 ) {

784 
’Œy
 = 
	`FL_PGM_READ_DWORD_NEAR
Ğ&(
·l
[0]) );

786 
’Œy
 = 
	`FL_PGM_READ_DWORD_NEAR
Ğ&(
·l
[1]è+ 
hi5
 );

789 
ušt8_t
 
f2
 = 
lo3
 << 5;

790 
ušt8_t
 
f1
 = 255 - 
f2
;

792 
ušt8_t
 
»d2
 = 
’Œy
.
»d
;

793 
»d1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d1, 
f1
);

794 
»d2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d2, 
f2
);

795 
»d1
 +ğ
»d2
;

797 
ušt8_t
 
g»’2
 = 
’Œy
.
g»’
;

798 
g»’1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’1, 
f1
);

799 
g»’2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’2, 
f2
);

800 
g»’1
 +ğ
g»’2
;

802 
ušt8_t
 
blue2
 = 
’Œy
.
blue
;

803 
blue1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue1, 
f1
);

804 
blue2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue2, 
f2
);

805 
blue1
 +ğ
blue2
;

807 
	`ş—nup_R1
();

810 ifĞ
brighŠess
 != 255) {

811 ifĞ
brighŠess
 ) {

812 ++
brighŠess
;

815 ifĞ
»d1
 ) {

816 
»d1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ»d1, 
brighŠess
);

817 #ià!(
FASTLED_SCALE8_FIXED
==1)

818 ++
»d1
;

821 ifĞ
g»’1
 ) {

822 
g»’1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg»’1, 
brighŠess
);

823 #ià!(
FASTLED_SCALE8_FIXED
==1)

824 ++
g»’1
;

827 ifĞ
blue1
 ) {

828 
blue1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğblue1, 
brighŠess
);

829 #ià!(
FASTLED_SCALE8_FIXED
==1)

830 ++
blue1
;

833 
	`ş—nup_R1
();

835 
»d1
 = 0;

836 
g»’1
 = 0;

837 
blue1
 = 0;

841  
	`CRGB
Ğ
»d1
, 
g»’1
, 
blue1
);

842 
	}
}

846 
CRGB
 
	$CŞÜFromP®‘‹
ĞcÚ¡ 
CRGBP®‘‹256
& 
·l
, 
ušt8_t
 
šdex
, ušt8_ˆ
brighŠess
, 
TBËndTy³
)

848 cÚ¡ 
CRGB
* 
’Œy
 = &(
·l
[0]è+ 
šdex
;

850 
ušt8_t
 
»d
 = 
’Œy
->red;

851 
ušt8_t
 
g»’
 = 
’Œy
->green;

852 
ušt8_t
 
blue
 = 
’Œy
->blue;

854 ifĞ
brighŠess
 != 255) {

855 ++
brighŠess
;

856 
»d
 = 
	`sÿË8_video_LEAVING_R1_DIRTY
Ğ»d, 
brighŠess
);

857 
g»’
 = 
	`sÿË8_video_LEAVING_R1_DIRTY
Ğg»’, 
brighŠess
);

858 
blue
 = 
	`sÿË8_video_LEAVING_R1_DIRTY
Ğblue, 
brighŠess
);

859 
	`ş—nup_R1
();

862  
	`CRGB
Ğ
»d
, 
g»’
, 
blue
);

863 
	}
}

866 
CHSV
 
	$CŞÜFromP®‘‹
ĞcÚ¡ 
CHSVP®‘‹16
& 
·l
, 
ušt8_t
 
šdex
, ušt8_ˆ
brighŠess
, 
TBËndTy³
 
bËndTy³
)

869 
ušt8_t
 
hi4
 = 
	`l¤X4
(
šdex
);

870 
ušt8_t
 
lo4
 = 
šdex
 & 0x0F;

873 cÚ¡ 
CHSV
* 
’Œy
 = &(
·l
[0]è+ 
hi4
;

875 
ušt8_t
 
hue1
 = 
’Œy
->
hue
;

876 
ušt8_t
 
§t1
 = 
’Œy
->
§t
;

877 
ušt8_t
 
v®1
 = 
’Œy
->
v®
;

879 
ušt8_t
 
bËnd
 = 
lo4
 && (
bËndTy³
 !ğ
NOBLEND
);

881 ifĞ
bËnd
 ) {

883 ifĞ
hi4
 == 15 ) {

884 
’Œy
 = &(
·l
[0]);

886 ++
’Œy
;

889 
ušt8_t
 
f2
 = 
lo4
 << 4;

890 
ušt8_t
 
f1
 = 255 - 
f2
;

892 
ušt8_t
 
hue2
 = 
’Œy
->
hue
;

893 
ušt8_t
 
§t2
 = 
’Œy
->
§t
;

894 
ušt8_t
 
v®2
 = 
’Œy
->
v®
;

907 ifĞ
§t1
 =ğ0 || 
v®1
 == 0) {

908 
hue1
 = 
hue2
;

913 ifĞ
§t2
 =ğ0 || 
v®2
 == 0) {

914 
hue2
 = 
hue1
;

918 
§t1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ§t1, 
f1
);

919 
v®1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğv®1, 
f1
);

921 
§t2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ§t2, 
f2
);

922 
v®2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğv®2, 
f2
);

927 
§t1
 +ğ
§t2
;

928 
v®1
 +ğ
v®2
;

930 
ušt8_t
 
d–Hue
 = (ušt8_t)(
hue2
 - 
hue1
);

931 ifĞ
d–Hue
 & 0x80 ) {

933 
hue1
 -ğ
	`sÿË8
Ğ256 - 
d–Hue
, 
f2
);

936 
hue1
 +ğ
	`sÿË8
Ğ
d–Hue
, 
f2
);

939 
	`ş—nup_R1
();

942 ifĞ
brighŠess
 != 255) {

943 
v®1
 = 
	`sÿË8_video
Ğv®1, 
brighŠess
);

946  
	`CHSV
Ğ
hue1
, 
§t1
, 
v®1
);

947 
	}
}

950 
CHSV
 
	$CŞÜFromP®‘‹
ĞcÚ¡ 
CHSVP®‘‹32
& 
·l
, 
ušt8_t
 
šdex
, ušt8_ˆ
brighŠess
, 
TBËndTy³
 
bËndTy³
)

952 
ušt8_t
 
hi5
 = 
šdex
;

953 #ià
	`defšed
(
__AVR__
)

954 
hi5
 /= 2;

955 
hi5
 /= 2;

956 
hi5
 /= 2;

958 
hi5
 >>= 3;

960 
ušt8_t
 
lo3
 = 
šdex
 & 0x07;

962 
ušt8_t
 
hi5XsizeofCHSV
 = 
hi5
 * (
CHSV
);

963 cÚ¡ 
CHSV
* 
’Œy
 = (CHSV*)Ğ(
ušt8_t
*)(&(
·l
[0])è+ 
hi5XsizeofCHSV
);

965 
ušt8_t
 
hue1
 = 
’Œy
->
hue
;

966 
ušt8_t
 
§t1
 = 
’Œy
->
§t
;

967 
ušt8_t
 
v®1
 = 
’Œy
->
v®
;

969 
ušt8_t
 
bËnd
 = 
lo3
 && (
bËndTy³
 !ğ
NOBLEND
);

971 ifĞ
bËnd
 ) {

973 ifĞ
hi5
 == 31 ) {

974 
’Œy
 = &(
·l
[0]);

976 ++
’Œy
;

979 
ušt8_t
 
f2
 = 
lo3
 << 5;

980 
ušt8_t
 
f1
 = 255 - 
f2
;

982 
ušt8_t
 
hue2
 = 
’Œy
->
hue
;

983 
ušt8_t
 
§t2
 = 
’Œy
->
§t
;

984 
ušt8_t
 
v®2
 = 
’Œy
->
v®
;

997 ifĞ
§t1
 =ğ0 || 
v®1
 == 0) {

998 
hue1
 = 
hue2
;

1003 ifĞ
§t2
 =ğ0 || 
v®2
 == 0) {

1004 
hue2
 = 
hue1
;

1008 
§t1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ§t1, 
f1
);

1009 
v®1
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğv®1, 
f1
);

1011 
§t2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ§t2, 
f2
);

1012 
v®2
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğv®2, 
f2
);

1017 
§t1
 +ğ
§t2
;

1018 
v®1
 +ğ
v®2
;

1020 
ušt8_t
 
d–Hue
 = (ušt8_t)(
hue2
 - 
hue1
);

1021 ifĞ
d–Hue
 & 0x80 ) {

1023 
hue1
 -ğ
	`sÿË8
Ğ256 - 
d–Hue
, 
f2
);

1026 
hue1
 +ğ
	`sÿË8
Ğ
d–Hue
, 
f2
);

1029 
	`ş—nup_R1
();

1032 ifĞ
brighŠess
 != 255) {

1033 
v®1
 = 
	`sÿË8_video
Ğv®1, 
brighŠess
);

1036  
	`CHSV
Ğ
hue1
, 
§t1
, 
v®1
);

1037 
	}
}

1039 
CHSV
 
	$CŞÜFromP®‘‹
ĞcÚ¡ 
CHSVP®‘‹256
& 
·l
, 
ušt8_t
 
šdex
, ušt8_ˆ
brighŠess
, 
TBËndTy³
)

1041 
CHSV
 
hsv
 = *Ğ&(
·l
[0]è+ 
šdex
 );

1043 ifĞ
brighŠess
 != 255) {

1044 
hsv
.
v®ue
 = 
	`sÿË8_video
Ğhsv.v®ue, 
brighŠess
);

1047  
hsv
;

1048 
	}
}

1051 
	$UpsÿËP®‘‹
(cÚ¡ 
CRGBP®‘‹16
& 
¤ı®16
, 
CRGBP®‘‹256
& 
de¡·l256
)

1053  
i
 = 0; i < 256; ++i) {

1054 
de¡·l256
[(
ušt8_t
)(
i
)] = 
	`CŞÜFromP®‘‹
Ğ
¤ı®16
, i);

1056 
	}
}

1058 
	$UpsÿËP®‘‹
(cÚ¡ 
CHSVP®‘‹16
& 
¤ı®16
, 
CHSVP®‘‹256
& 
de¡·l256
)

1060  
i
 = 0; i < 256; ++i) {

1061 
de¡·l256
[(
ušt8_t
)(
i
)] = 
	`CŞÜFromP®‘‹
Ğ
¤ı®16
, i);

1063 
	}
}

1066 
	$UpsÿËP®‘‹
(cÚ¡ 
CRGBP®‘‹16
& 
¤ı®16
, 
CRGBP®‘‹32
& 
de¡·l32
)

1068  
ušt8_t
 
i
 = 0; i < 16; ++i) {

1069 
ušt8_t
 
j
 = 
i
 * 2;

1070 
de¡·l32
[
j
+0] = 
¤ı®16
[
i
];

1071 
de¡·l32
[
j
+1] = 
¤ı®16
[
i
];

1073 
	}
}

1075 
	$UpsÿËP®‘‹
(cÚ¡ 
CHSVP®‘‹16
& 
¤ı®16
, 
CHSVP®‘‹32
& 
de¡·l32
)

1077  
ušt8_t
 
i
 = 0; i < 16; ++i) {

1078 
ušt8_t
 
j
 = 
i
 * 2;

1079 
de¡·l32
[
j
+0] = 
¤ı®16
[
i
];

1080 
de¡·l32
[
j
+1] = 
¤ı®16
[
i
];

1082 
	}
}

1084 
	$UpsÿËP®‘‹
(cÚ¡ 
CRGBP®‘‹32
& 
¤ı®32
, 
CRGBP®‘‹256
& 
de¡·l256
)

1086  
i
 = 0; i < 256; ++i) {

1087 
de¡·l256
[(
ušt8_t
)(
i
)] = 
	`CŞÜFromP®‘‹
Ğ
¤ı®32
, i);

1089 
	}
}

1091 
	$UpsÿËP®‘‹
(cÚ¡ 
CHSVP®‘‹32
& 
¤ı®32
, 
CHSVP®‘‹256
& 
de¡·l256
)

1093  
i
 = 0; i < 256; ++i) {

1094 
de¡·l256
[(
ušt8_t
)(
i
)] = 
	`CŞÜFromP®‘‹
Ğ
¤ı®32
, i);

1096 
	}
}

1102 
	$S‘upP¬tyCŞÜs
(
CRGBP®‘‹16
& 
·l
)

1104 
	`fl_g¿d›Á
Ğ
·l
, 0, 
	`CHSV
Ğ
HUE_PURPLE
,255,255), 7, CHSV(
HUE_YELLOW
 - 18,255,255), 
FORWARD_HUES
);

1105 
	`fl_g¿d›Á
Ğ
·l
, 8, 
	`CHSV
Ğ
HUE_ORANGE
,255,255), 15, CHSV(
HUE_BLUE
 + 18,255,255), 
BACKWARD_HUES
);

1106 
	}
}

1110 
	$nbËndP®‘‹Tow¬dP®‘‹
Ğ
CRGBP®‘‹16
& 
cu¼’t
, CRGBP®‘‹16& 
rg‘
, 
ušt8_t
 
maxChªges
)

1112 
ušt8_t
* 
p1
;

1113 
ušt8_t
* 
p2
;

1114 
ušt8_t
 
chªges
 = 0;

1116 
p1
 = (
ušt8_t
*)
cu¼’t
.
’Œ›s
;

1117 
p2
 = (
ušt8_t
*)
rg‘
.
’Œ›s
;

1119 cÚ¡ 
ušt8_t
 
tÙ®ChªÃls
 = (
CRGBP®‘‹16
);

1120  
ušt8_t
 
i
 = 0; i < 
tÙ®ChªÃls
; ++i) {

1122 ifĞ
p1
[
i
] =ğ
p2
[i] ) { ; }

1125 ifĞ
p1
[
i
] < 
p2
[i] ) { ++p1[i]; ++
chªges
; }

1129 ifĞ
p1
[
i
] > 
p2
[i] ) {

1130 --
p1
[
i
]; ++
chªges
;

1131 ifĞ
p1
[
i
] > 
p2
[i] ) { --p1[i]; }

1135 ifĞ
chªges
 >ğ
maxChªges
) { ; }

1137 
	}
}

1140 
ušt8_t
 
	$­¶yGamma_video
Ğ
ušt8_t
 
brighŠess
, 
gamma
)

1142 
Üig
;

1143 
adj
;

1144 
Üig
 = ()(
brighŠess
) / (255.0);

1145 
adj
 = 
	`pow
Ğ
Üig
, 
gamma
) * (255.0);

1146 
ušt8_t
 
»suÉ
 = (ušt8_t)(
adj
);

1147 ifĞ(
brighŠess
 > 0è&& (
»suÉ
 == 0)) {

1148 
»suÉ
 = 1;

1150  
»suÉ
;

1151 
	}
}

1153 
CRGB
 
	$­¶yGamma_video
ĞcÚ¡ 
CRGB
& 
Üig
, 
gamma
)

1155 
CRGB
 
adj
;

1156 
adj
.
r
 = 
	`­¶yGamma_video
Ğ
Üig
.r, 
gamma
);

1157 
adj
.
g
 = 
	`­¶yGamma_video
Ğ
Üig
.g, 
gamma
);

1158 
adj
.
b
 = 
	`­¶yGamma_video
Ğ
Üig
.b, 
gamma
);

1159  
adj
;

1160 
	}
}

1162 
CRGB
 
	$­¶yGamma_video
ĞcÚ¡ 
CRGB
& 
Üig
, 
gammaR
, 
gammaG
, 
gammaB
)

1164 
CRGB
 
adj
;

1165 
adj
.
r
 = 
	`­¶yGamma_video
Ğ
Üig
.r, 
gammaR
);

1166 
adj
.
g
 = 
	`­¶yGamma_video
Ğ
Üig
.g, 
gammaG
);

1167 
adj
.
b
 = 
	`­¶yGamma_video
Ğ
Üig
.b, 
gammaB
);

1168  
adj
;

1169 
	}
}

1171 
	gCRGB
& 
	$ÇµlyGamma_video
Ğ
CRGB
& 
rgb
, 
gamma
)

1173 
rgb
 = 
	`­¶yGamma_video
Ğrgb, 
gamma
);

1174  
rgb
;

1175 
	}
}

1177 
	gCRGB
& 
	$ÇµlyGamma_video
Ğ
CRGB
& 
rgb
, 
gammaR
, 
gammaG
, 
gammaB
)

1179 
rgb
 = 
	`­¶yGamma_video
Ğrgb, 
gammaR
, 
gammaG
, 
gammaB
);

1180  
rgb
;

1181 
	}
}

1183 
	$ÇµlyGamma_video
Ğ
CRGB
* 
rgb¬¿y
, 
ušt16_t
 
couÁ
, 
gamma
)

1185  
ušt16_t
 
i
 = 0; i < 
couÁ
; ++i) {

1186 
rgb¬¿y
[
i
] = 
	`­¶yGamma_video
Ğrgb¬¿y[i], 
gamma
);

1188 
	}
}

1190 
	$ÇµlyGamma_video
Ğ
CRGB
* 
rgb¬¿y
, 
ušt16_t
 
couÁ
, 
gammaR
, 
gammaG
, 
gammaB
)

1192  
ušt16_t
 
i
 = 0; i < 
couÁ
; ++i) {

1193 
rgb¬¿y
[
i
] = 
	`­¶yGamma_video
Ğrgb¬¿y[i], 
gammaR
, 
gammaG
, 
gammaB
);

1195 
	}
}

1198 
	gFASTLED_NAMESPACE_END


	@src/colorutils.h

1 #iâdeà
__INC_COLORUTILS_H


2 
	#__INC_COLORUTILS_H


	)

7 
	~"Fa¡LED.h
"

8 
	~"pix–ty³s.h
"

9 
	~"ç¡Ëd_´ogmem.h
"

11 
FASTLED_NAMESPACE_BEGIN


18 
fl_sŞid
Ğ
CRGB
 * 
Ëds
, 
numToFl
,

19 cÚ¡ 
CRGB
& 
cŞÜ
);

23 
fl_sŞid
Ğ
CHSV
* 
rg‘A¼ay
, 
numToFl
,

24 cÚ¡ 
CHSV
& 
hsvCŞÜ
);

29 
fl_¿šbow
Ğ
CRGB
 * 
pFœ¡LED
, 
numToFl
,

30 
ušt8_t
 
š™Ÿlhue
,

31 
ušt8_t
 
d–hue
 = 5);

35 
fl_¿šbow
Ğ
CHSV
 * 
rg‘A¼ay
, 
numToFl
,

36 
ušt8_t
 
š™Ÿlhue
,

37 
ušt8_t
 
d–hue
 = 5);

63 ’um { 
	mFORWARD_HUES
, 
	mBACKWARD_HUES
, 
	mSHORTEST_HUES
, 
	mLONGEST_HUES
 } 
	tTG¿d›ÁDœeùiÚCode
;

67 
	#§ccum87
 
št16_t


	)

93 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

94 
	$fl_g¿d›Á
Ğ
T
* 
rg‘A¼ay
,

95 
ušt16_t
 
¡¬os
, 
CHSV
 
¡¬tcŞÜ
,

96 
ušt16_t
 
’dpos
, 
CHSV
 
’dcŞÜ
,

97 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
 )

100 ifĞ
’dpos
 < 
¡¬os
 ) {

101 
ušt16_t
 
t
 = 
’dpos
;

102 
CHSV
 
tc
 = 
’dcŞÜ
;

103 
’dcŞÜ
 = 
¡¬tcŞÜ
;

104 
’dpos
 = 
¡¬os
;

105 
¡¬os
 = 
t
;

106 
¡¬tcŞÜ
 = 
tc
;

113 ifĞ
’dcŞÜ
.
v®ue
 =ğ0 ||ƒndcŞÜ.
§tu¿tiÚ
 == 0) {

114 
’dcŞÜ
.
hue
 = 
¡¬tcŞÜ
.hue;

121 ifĞ
¡¬tcŞÜ
.
v®ue
 =ğ0 || s¹cŞÜ.
§tu¿tiÚ
 == 0) {

122 
¡¬tcŞÜ
.
hue
 = 
’dcŞÜ
.hue;

125 
§ccum87
 
huedi¡ªû87
;

126 
§ccum87
 
§tdi¡ªû87
;

127 
§ccum87
 
v®di¡ªû87
;

129 
§tdi¡ªû87
 = (
’dcŞÜ
.
§t
 - 
¡¬tcŞÜ
.sat) << 7;

130 
v®di¡ªû87
 = (
’dcŞÜ
.
v®
 - 
¡¬tcŞÜ
.val) << 7;

132 
ušt8_t
 
hued–8
 = 
’dcŞÜ
.
hue
 - 
¡¬tcŞÜ
.hue;

134 ifĞ
dœeùiÚCode
 =ğ
SHORTEST_HUES
 ) {

135 
dœeùiÚCode
 = 
FORWARD_HUES
;

136 ifĞ
hued–8
 > 127) {

137 
dœeùiÚCode
 = 
BACKWARD_HUES
;

141 ifĞ
dœeùiÚCode
 =ğ
LONGEST_HUES
 ) {

142 
dœeùiÚCode
 = 
FORWARD_HUES
;

143 ifĞ
hued–8
 < 128) {

144 
dœeùiÚCode
 = 
BACKWARD_HUES
;

148 ifĞ
dœeùiÚCode
 =ğ
FORWARD_HUES
) {

149 
huedi¡ªû87
 = 
hued–8
 << 7;

153 
huedi¡ªû87
 = (
ušt8_t
)(256 - 
hued–8
) << 7;

154 
huedi¡ªû87
 = -huedistance87;

157 
ušt16_t
 
pix–di¡ªû
 = 
’dpos
 - 
¡¬os
;

158 
št16_t
 
divisÜ
 = 
pix–di¡ªû
 ?…ixeldistance : 1;

160 
§ccum87
 
hued–87
 = 
huedi¡ªû87
 / 
divisÜ
;

161 
§ccum87
 
§td–87
 = 
§tdi¡ªû87
 / 
divisÜ
;

162 
§ccum87
 
v®d–87
 = 
v®di¡ªû87
 / 
divisÜ
;

164 
hued–87
 *= 2;

165 
§td–87
 *= 2;

166 
v®d–87
 *= 2;

168 
accum88
 
hue88
 = 
¡¬tcŞÜ
.
hue
 << 8;

169 
accum88
 
§t88
 = 
¡¬tcŞÜ
.
§t
 << 8;

170 
accum88
 
v®88
 = 
¡¬tcŞÜ
.
v®
 << 8;

171  
ušt16_t
 
i
 = 
¡¬os
; i <ğ
’dpos
; ++i) {

172 
rg‘A¼ay
[
i
] = 
	`CHSV
Ğ
hue88
 >> 8, 
§t88
 >> 8, 
v®88
 >> 8);

173 
hue88
 +ğ
hued–87
;

174 
§t88
 +ğ
§td–87
;

175 
v®88
 +ğ
v®d–87
;

177 
	}
}

182 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

183 
	$fl_g¿d›Á
Ğ
T
* 
rg‘A¼ay
, 
ušt16_t
 
numLeds
, cÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
,

184 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
 )

186 
ušt16_t
 
Ï¡
 = 
numLeds
 - 1;

187 
	`fl_g¿d›Á
Ğ
rg‘A¼ay
, 0, 
c1
, 
Ï¡
, 
c2
, 
dœeùiÚCode
);

188 
	}
}

190 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

191 
	$fl_g¿d›Á
Ğ
T
* 
rg‘A¼ay
, 
ušt16_t
 
numLeds
,

192 cÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
,

193 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
 )

195 
ušt16_t
 
h®f
 = (
numLeds
 / 2);

196 
ušt16_t
 
Ï¡
 = 
numLeds
 - 1;

197 
	`fl_g¿d›Á
Ğ
rg‘A¼ay
, 0, 
c1
, 
h®f
, 
c2
, 
dœeùiÚCode
);

198 
	`fl_g¿d›Á
Ğ
rg‘A¼ay
, 
h®f
, 
c2
, 
Ï¡
, 
c3
, 
dœeùiÚCode
);

199 
	}
}

201 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

202 
	$fl_g¿d›Á
Ğ
T
* 
rg‘A¼ay
, 
ušt16_t
 
numLeds
,

203 cÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
, cÚ¡ CHSV& 
c4
,

204 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
 )

206 
ušt16_t
 
Ú‘hœd
 = (
numLeds
 / 3);

207 
ušt16_t
 
twÙhœds
 = ((
numLeds
 * 2) / 3);

208 
ušt16_t
 
Ï¡
 = 
numLeds
 - 1;

209 
	`fl_g¿d›Á
Ğ
rg‘A¼ay
, 0, 
c1
, 
Ú‘hœd
, 
c2
, 
dœeùiÚCode
);

210 
	`fl_g¿d›Á
Ğ
rg‘A¼ay
, 
Ú‘hœd
, 
c2
, 
twÙhœds
, 
c3
, 
dœeùiÚCode
);

211 
	`fl_g¿d›Á
Ğ
rg‘A¼ay
, 
twÙhœds
, 
c3
, 
Ï¡
, 
c4
, 
dœeùiÚCode
);

212 
	}
}

215 
	#fl_g¿d›Á_HSV
 
fl_g¿d›Á


	)

223 
fl_g¿d›Á_RGB
Ğ
CRGB
* 
Ëds
,

224 
ušt16_t
 
¡¬os
, 
CRGB
 
¡¬tcŞÜ
,

225 
ušt16_t
 
’dpos
, 
CRGB
 
’dcŞÜ
 );

226 
fl_g¿d›Á_RGB
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, cÚ¡ CRGB& 
c1
, cÚ¡ CRGB& 
c2
);

227 
fl_g¿d›Á_RGB
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, cÚ¡ CRGB& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
);

228 
fl_g¿d›Á_RGB
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, cÚ¡ CRGB& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
, cÚ¡ CRGB& 
c4
);

235 
çdeLightBy
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
çdeBy
);

236 
çde_video
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
çdeBy
);

241 
nsÿË8_video
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
sÿË
);

248 
çdeToBÏckBy
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
çdeBy
);

249 
çde_¿w
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
çdeBy
);

254 
nsÿË8
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
num_Ëds
, 
ušt8_t
 
sÿË
);

268 
çdeUsšgCŞÜ
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, cÚ¡ CRGB& 
cŞÜmask
);

275 
CRGB
 
bËnd
ĞcÚ¡ CRGB& 
p1
, cÚ¡ CRGB& 
p2
, 
äaù8
 
amouÁOfP2
 );

277 
CHSV
 
bËnd
ĞcÚ¡ CHSV& 
p1
, cÚ¡ CHSV& 
p2
, 
äaù8
 
amouÁOfP2
,

278 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
 );

284 
CRGB
* 
bËnd
ĞcÚ¡ CRGB* 
¤c1
, cÚ¡ CRGB* 
¤c2
, CRGB* 
de¡
,

285 
ušt16_t
 
couÁ
, 
äaù8
 
amouÁOf¤c2
 );

287 
CHSV
* 
bËnd
ĞcÚ¡ CHSV* 
¤c1
, cÚ¡ CHSV* 
¤c2
, CHSV* 
de¡
,

288 
ušt16_t
 
couÁ
, 
äaù8
 
amouÁOf¤c2
,

289 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
 );

293 
	gCRGB
& 
nbËnd
Ğ
CRGB
& 
exi¡šg
, cÚ¡ CRGB& 
ov”Ïy
, 
äaù8
 
amouÁOfOv”Ïy
 );

295 
	gCHSV
& 
nbËnd
Ğ
CHSV
& 
exi¡šg
, cÚ¡ CHSV& 
ov”Ïy
, 
äaù8
 
amouÁOfOv”Ïy
,

296 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
 );

300 
nbËnd
Ğ
CRGB
* 
exi¡šg
, CRGB* 
ov”Ïy
, 
ušt16_t
 
couÁ
, 
äaù8
 
amouÁOfOv”Ïy
);

302 
nbËnd
Ğ
CHSV
* 
exi¡šg
, CHSV* 
ov”Ïy
, 
ušt16_t
 
couÁ
, 
äaù8
 
amouÁOfOv”Ïy
,

303 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
);

319 
blur1d
Ğ
CRGB
* 
Ëds
, 
ušt16_t
 
numLeds
, 
äaù8
 
blur_amouÁ
);

320 
blur2d
Ğ
CRGB
* 
Ëds
, 
ušt8_t
 
width
, ušt8_ˆ
height
, 
äaù8
 
blur_amouÁ
);

323 
blurRows
Ğ
CRGB
* 
Ëds
, 
ušt8_t
 
width
, ušt8_ˆ
height
, 
äaù8
 
blur_amouÁ
);

325 
blurCŞumns
(
CRGB
* 
Ëds
, 
ušt8_t
 
width
, ušt8_ˆ
height
, 
äaù8
 
blur_amouÁ
);

335 
CRGB
 
H—tCŞÜ
Ğ
ušt8_t
 
‹m³¿tu»
);

394 
şass
 
	gCRGBP®‘‹16
;

395 
şass
 
	gCRGBP®‘‹32
;

396 
şass
 
	gCRGBP®‘‹256
;

397 
şass
 
	gCHSVP®‘‹16
;

398 
şass
 
	gCHSVP®‘‹32
;

399 
şass
 
	gCHSVP®‘‹256
;

400 
ušt32_t
 
	tTProgmemRGBP®‘‹16
[16];

401 
ušt32_t
 
	tTProgmemHSVP®‘‹16
[16];

402 
	#TProgmemP®‘‹16
 
TProgmemRGBP®‘‹16


	)

403 
ušt32_t
 
	tTProgmemRGBP®‘‹32
[32];

404 
ušt32_t
 
	tTProgmemHSVP®‘‹32
[32];

405 
	#TProgmemP®‘‹32
 
TProgmemRGBP®‘‹32


	)

407 cÚ¡ 
	tušt8_t
 
	tTProgmemRGBG¿d›ÁP®‘‹_by‹
 ;

408 cÚ¡ 
	tTProgmemRGBG¿d›ÁP®‘‹_by‹
 *
	tTProgmemRGBG¿d›ÁP®‘‹_by‹s
;

409 
TProgmemRGBG¿d›ÁP®‘‹_by‹s
 
	tTProgmemRGBG¿d›ÁP®‘‹PŒ
;

412 
ušt8_t
 
	mšdex
;

413 
ušt8_t
 
	mr
;

414 
ušt8_t
 
	mg
;

415 
ušt8_t
 
	mb
;

417 
ušt32_t
 
	mdwÜd
;

418 
ušt8_t
 
	mby‹s
[4];

419 } 
	tTRGBG¿d›ÁP®‘‹EÁryUniÚ
;

421 
ušt8_t
 
	tTDyÇmicRGBG¿d›ÁP®‘‹_by‹
 ;

422 cÚ¡ 
	tTDyÇmicRGBG¿d›ÁP®‘‹_by‹
 *
	tTDyÇmicRGBG¿d›ÁP®‘‹_by‹s
;

423 
TDyÇmicRGBG¿d›ÁP®‘‹_by‹s
 
	tTDyÇmicRGBG¿d›ÁP®‘‹PŒ
;

426 
UpsÿËP®‘‹
(cÚ¡ 
CRGBP®‘‹16
& 
¤ı®16
, 
CRGBP®‘‹256
& 
de¡·l256
);

427 
UpsÿËP®‘‹
(cÚ¡ 
CHSVP®‘‹16
& 
¤ı®16
, 
CHSVP®‘‹256
& 
de¡·l256
);

430 
UpsÿËP®‘‹
(cÚ¡ 
CRGBP®‘‹16
& 
¤ı®16
, 
CRGBP®‘‹32
& 
de¡·l32
);

431 
UpsÿËP®‘‹
(cÚ¡ 
CHSVP®‘‹16
& 
¤ı®16
, 
CHSVP®‘‹32
& 
de¡·l32
);

434 
UpsÿËP®‘‹
(cÚ¡ 
CRGBP®‘‹32
& 
¤ı®32
, 
CRGBP®‘‹256
& 
de¡·l256
);

435 
UpsÿËP®‘‹
(cÚ¡ 
CHSVP®‘‹32
& 
¤ı®32
, 
CHSVP®‘‹256
& 
de¡·l256
);

438 şas 
	cCHSVP®‘‹16
 {

439 
	mpublic
:

440 
CHSV
 
’Œ›s
[16];

441 
	$CHSVP®‘‹16
() {};

442 
	$CHSVP®‘‹16
ĞcÚ¡ 
CHSV
& 
c00
,cÚ¡ CHSV& 
c01
,cÚ¡ CHSV& 
c02
,cÚ¡ CHSV& 
c03
,

443 cÚ¡ 
CHSV
& 
c04
,cÚ¡ CHSV& 
c05
,cÚ¡ CHSV& 
c06
,cÚ¡ CHSV& 
c07
,

444 cÚ¡ 
CHSV
& 
c08
,cÚ¡ CHSV& 
c09
,cÚ¡ CHSV& 
c10
,cÚ¡ CHSV& 
c11
,

445 cÚ¡ 
CHSV
& 
c12
,cÚ¡ CHSV& 
c13
,cÚ¡ CHSV& 
c14
,cÚ¡ CHSV& 
c15
 )

447 
’Œ›s
[0]=
c00
;ƒÁr›s[1]=
c01
;ƒÁr›s[2]=
c02
;ƒÁr›s[3]=
c03
;

448 
’Œ›s
[4]=
c04
;ƒÁr›s[5]=
c05
;ƒÁr›s[6]=
c06
;ƒÁr›s[7]=
c07
;

449 
’Œ›s
[8]=
c08
;ƒÁr›s[9]=
c09
;ƒÁr›s[10]=
c10
;ƒÁr›s[11]=
c11
;

450 
’Œ›s
[12]=
c12
;ƒÁr›s[13]=
c13
;ƒÁr›s[14]=
c14
;ƒÁr›s[15]=
c15
;

451 
	}
};

453 
	$CHSVP®‘‹16
ĞcÚ¡ 
CHSVP®‘‹16
& 
rhs
)

455 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

456 
	}
}

457 
	gCHSVP®‘‹16
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSVP®‘‹16
& 
rhs
)

459 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

460  *
	gthis
;

463 
	$CHSVP®‘‹16
ĞcÚ¡ 
TProgmemHSVP®‘‹16
& 
rhs
)

465  
ušt8_t
 
i
 = 0; i < 16; ++i) {

466 
CRGB
 
xyz
 = 
	`FL_PGM_READ_DWORD_NEAR
Ğ
rhs
 + 
i
);

467 
’Œ›s
[
i
].
hue
 = 
xyz
.
»d
;

468 
’Œ›s
[
i
].
§t
 = 
xyz
.
g»’
;

469 
’Œ›s
[
i
].
v®
 = 
xyz
.
blue
;

471 
	}
}

472 
	gCHSVP®‘‹16
& 
	gİ”©Ü
=ĞcÚ¡ 
TProgmemHSVP®‘‹16
& 
rhs
)

474  
ušt8_t
 
i
 = 0; 
	gi
 < 16; ++i) {

475 
CRGB
 
	gxyz
 = 
FL_PGM_READ_DWORD_NEAR
Ğ
rhs
 + 
i
);

476 
	g’Œ›s
[
i
].
	ghue
 = 
xyz
.
»d
;

477 
	g’Œ›s
[
i
].
	g§t
 = 
xyz
.
g»’
;

478 
	g’Œ›s
[
i
].
	gv®
 = 
xyz
.
blue
;

480  *
	gthis
;

483 
šlše
 
	gCHSV
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
è
__©Œibu‹__
((
®ways_šlše
))

485  
	g’Œ›s
[
x
];

487 
šlše
 cÚ¡ 
	gCHSV
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

489  
	g’Œ›s
[
x
];

492 
šlše
 
	gCHSV
& 
	gİ”©Ü
[] (
	gx
è
__©Œibu‹__
((
®ways_šlše
))

494  
	g’Œ›s
[(
ušt8_t
)
x
];

496 
šlše
 cÚ¡ 
	gCHSV
& 
	gİ”©Ü
[] (
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

498  
	g’Œ›s
[(
ušt8_t
)
x
];

501 
İ”©Ü
 
	gCHSV
*()

503  &(
	g’Œ›s
[0]);

506 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
CHSVP®‘‹16
 
rhs
)

508 cÚ¡ 
ušt8_t
* 
p
 = (cÚ¡ ušt8_t*)(&(
this
->
’Œ›s
[0]));

509 cÚ¡ 
ušt8_t
* 
	gq
 = (cÚ¡ ušt8_t*)(&(
rhs
.
’Œ›s
[0]));

510 ifĞ
	gp
 =ğ
q
è 
Œue
;

511  
ušt8_t
 
	gi
 = 0; i < (Ğ
	g’Œ›s
)); ++i) {

512 ifĞ*
	gp
 !ğ*
q
è 
çl£
;

513 ++
	gp
;

514 ++
	gq
;

516  
	gŒue
;

518 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
CHSVP®‘‹16
 
rhs
)

520  !Ğ*
this
 =ğ
rhs
);

523 
	$CHSVP®‘‹16
ĞcÚ¡ 
CHSV
& 
c1
)

525 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 16, 
c1
);

526 
	}
}

527 
	$CHSVP®‘‹16
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
)

529 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
);

530 
	}
}

531 
	$CHSVP®‘‹16
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
)

533 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
, 
c3
);

534 
	}
}

535 
	$CHSVP®‘‹16
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
, cÚ¡ CHSV& 
c4
)

537 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
, 
c3
, 
c4
);

538 
	}
}

542 şas 
	cCHSVP®‘‹256
 {

543 
	mpublic
:

544 
CHSV
 
’Œ›s
[256];

545 
	$CHSVP®‘‹256
() {};

546 
	$CHSVP®‘‹256
ĞcÚ¡ 
CHSV
& 
c00
,cÚ¡ CHSV& 
c01
,cÚ¡ CHSV& 
c02
,cÚ¡ CHSV& 
c03
,

547 cÚ¡ 
CHSV
& 
c04
,cÚ¡ CHSV& 
c05
,cÚ¡ CHSV& 
c06
,cÚ¡ CHSV& 
c07
,

548 cÚ¡ 
CHSV
& 
c08
,cÚ¡ CHSV& 
c09
,cÚ¡ CHSV& 
c10
,cÚ¡ CHSV& 
c11
,

549 cÚ¡ 
CHSV
& 
c12
,cÚ¡ CHSV& 
c13
,cÚ¡ CHSV& 
c14
,cÚ¡ CHSV& 
c15
 )

551 
CHSVP®‘‹16
 
	`p16
(
c00
,
c01
,
c02
,
c03
,
c04
,
c05
,
c06
,
c07
,

552 
c08
,
c09
,
c10
,
c11
,
c12
,
c13
,
c14
,
c15
);

553 *
this
 = 
p16
;

554 
	}
};

556 
	$CHSVP®‘‹256
ĞcÚ¡ 
CHSVP®‘‹256
& 
rhs
)

558 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

559 
	}
}

560 
	gCHSVP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSVP®‘‹256
& 
rhs
)

562 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

563  *
	gthis
;

566 
	$CHSVP®‘‹256
ĞcÚ¡ 
CHSVP®‘‹16
& 
rhs16
)

568 
	`UpsÿËP®‘‹
Ğ
rhs16
, *
this
);

569 
	}
}

570 
	gCHSVP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSVP®‘‹16
& 
rhs16
)

572 
UpsÿËP®‘‹
Ğ
rhs16
, *
this
);

573  *
	gthis
;

576 
	$CHSVP®‘‹256
ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
rhs
)

578 
CHSVP®‘‹16
 
	`p16
(
rhs
);

579 *
this
 = 
p16
;

580 
	}
}

581 
	gCHSVP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
rhs
)

583 
CHSVP®‘‹16
 
p16
(
rhs
);

584 *
	gthis
 = 
p16
;

585  *
	gthis
;

588 
šlše
 
	gCHSV
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
è
__©Œibu‹__
((
®ways_šlše
))

590  
	g’Œ›s
[
x
];

592 
šlše
 cÚ¡ 
	gCHSV
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

594  
	g’Œ›s
[
x
];

597 
šlše
 
	gCHSV
& 
	gİ”©Ü
[] (
	gx
è
__©Œibu‹__
((
®ways_šlše
))

599  
	g’Œ›s
[(
ušt8_t
)
x
];

601 
šlše
 cÚ¡ 
	gCHSV
& 
	gİ”©Ü
[] (
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

603  
	g’Œ›s
[(
ušt8_t
)
x
];

606 
İ”©Ü
 
	gCHSV
*()

608  &(
	g’Œ›s
[0]);

611 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
CHSVP®‘‹256
 
rhs
)

613 cÚ¡ 
ušt8_t
* 
p
 = (cÚ¡ ušt8_t*)(&(
this
->
’Œ›s
[0]));

614 cÚ¡ 
ušt8_t
* 
	gq
 = (cÚ¡ ušt8_t*)(&(
rhs
.
’Œ›s
[0]));

615 ifĞ
	gp
 =ğ
q
è 
Œue
;

616  
ušt16_t
 
	gi
 = 0; i < (Ğ
	g’Œ›s
)); ++i) {

617 ifĞ*
	gp
 !ğ*
q
è 
çl£
;

618 ++
	gp
;

619 ++
	gq
;

621  
	gŒue
;

623 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
CHSVP®‘‹256
 
rhs
)

625  !Ğ*
this
 =ğ
rhs
);

628 
	$CHSVP®‘‹256
ĞcÚ¡ 
CHSV
& 
c1
)

630 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 256, 
c1
);

631 
	}
}

632 
	$CHSVP®‘‹256
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
)

634 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
);

635 
	}
}

636 
	$CHSVP®‘‹256
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
)

638 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
, 
c3
);

639 
	}
}

640 
	$CHSVP®‘‹256
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
, cÚ¡ CHSV& 
c4
)

642 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
, 
c3
, 
c4
);

643 
	}
}

646 şas 
	cCRGBP®‘‹16
 {

647 
	mpublic
:

648 
CRGB
 
’Œ›s
[16];

649 
	$CRGBP®‘‹16
() {};

650 
	$CRGBP®‘‹16
ĞcÚ¡ 
CRGB
& 
c00
,cÚ¡ CRGB& 
c01
,cÚ¡ CRGB& 
c02
,cÚ¡ CRGB& 
c03
,

651 cÚ¡ 
CRGB
& 
c04
,cÚ¡ CRGB& 
c05
,cÚ¡ CRGB& 
c06
,cÚ¡ CRGB& 
c07
,

652 cÚ¡ 
CRGB
& 
c08
,cÚ¡ CRGB& 
c09
,cÚ¡ CRGB& 
c10
,cÚ¡ CRGB& 
c11
,

653 cÚ¡ 
CRGB
& 
c12
,cÚ¡ CRGB& 
c13
,cÚ¡ CRGB& 
c14
,cÚ¡ CRGB& 
c15
 )

655 
’Œ›s
[0]=
c00
;ƒÁr›s[1]=
c01
;ƒÁr›s[2]=
c02
;ƒÁr›s[3]=
c03
;

656 
’Œ›s
[4]=
c04
;ƒÁr›s[5]=
c05
;ƒÁr›s[6]=
c06
;ƒÁr›s[7]=
c07
;

657 
’Œ›s
[8]=
c08
;ƒÁr›s[9]=
c09
;ƒÁr›s[10]=
c10
;ƒÁr›s[11]=
c11
;

658 
’Œ›s
[12]=
c12
;ƒÁr›s[13]=
c13
;ƒÁr›s[14]=
c14
;ƒÁr›s[15]=
c15
;

659 
	}
};

661 
	$CRGBP®‘‹16
ĞcÚ¡ 
CRGBP®‘‹16
& 
rhs
)

663 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

664 
	}
}

665 
	$CRGBP®‘‹16
ĞcÚ¡ 
CRGB
 
rhs
[16])

667 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
[0]), (ƒntries));

668 
	}
}

669 
	gCRGBP®‘‹16
& 
	gİ”©Ü
=ĞcÚ¡ 
CRGBP®‘‹16
& 
rhs
)

671 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

672  *
	gthis
;

674 
	gCRGBP®‘‹16
& 
	gİ”©Ü
=ĞcÚ¡ 
CRGB
 
rhs
[16])

676 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
[0]), (ƒntries));

677  *
	gthis
;

680 
	$CRGBP®‘‹16
ĞcÚ¡ 
CHSVP®‘‹16
& 
rhs
)

682  
ušt8_t
 
i
 = 0; i < 16; ++i) {

683 
’Œ›s
[
i
] = 
rhs
.entries[i];

685 
	}
}

686 
	$CRGBP®‘‹16
ĞcÚ¡ 
CHSV
 
rhs
[16])

688  
ušt8_t
 
i
 = 0; i < 16; ++i) {

689 
’Œ›s
[
i
] = 
rhs
[i];

691 
	}
}

692 
	gCRGBP®‘‹16
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSVP®‘‹16
& 
rhs
)

694  
ušt8_t
 
i
 = 0; 
	gi
 < 16; ++i) {

695 
	g’Œ›s
[
i
] = 
rhs
.
’Œ›s
[i];

697  *
	gthis
;

699 
	gCRGBP®‘‹16
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSV
 
rhs
[16])

701  
ušt8_t
 
i
 = 0; 
	gi
 < 16; ++i) {

702 
	g’Œ›s
[
i
] = 
rhs
[i];

704  *
	gthis
;

707 
	$CRGBP®‘‹16
ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
rhs
)

709  
ušt8_t
 
i
 = 0; i < 16; ++i) {

710 
’Œ›s
[
i
] = 
	`FL_PGM_READ_DWORD_NEAR
Ğ
rhs
 + i);

712 
	}
}

713 
	gCRGBP®‘‹16
& 
	gİ”©Ü
=ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
rhs
)

715  
ušt8_t
 
i
 = 0; 
	gi
 < 16; ++i) {

716 
	g’Œ›s
[
i
] = 
FL_PGM_READ_DWORD_NEAR
Ğ
rhs
 + i);

718  *
	gthis
;

721 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
CRGBP®‘‹16
 
rhs
)

723 cÚ¡ 
ušt8_t
* 
p
 = (cÚ¡ ušt8_t*)(&(
this
->
’Œ›s
[0]));

724 cÚ¡ 
ušt8_t
* 
	gq
 = (cÚ¡ ušt8_t*)(&(
rhs
.
’Œ›s
[0]));

725 ifĞ
	gp
 =ğ
q
è 
Œue
;

726  
ušt8_t
 
	gi
 = 0; i < (Ğ
	g’Œ›s
)); ++i) {

727 ifĞ*
	gp
 !ğ*
q
è 
çl£
;

728 ++
	gp
;

729 ++
	gq
;

731  
	gŒue
;

733 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
CRGBP®‘‹16
 
rhs
)

735  !Ğ*
this
 =ğ
rhs
);

738 
šlše
 
	gCRGB
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
è
__©Œibu‹__
((
®ways_šlše
))

740  
	g’Œ›s
[
x
];

742 
šlše
 cÚ¡ 
	gCRGB
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

744  
	g’Œ›s
[
x
];

747 
šlše
 
	gCRGB
& 
	gİ”©Ü
[] (
	gx
è
__©Œibu‹__
((
®ways_šlše
))

749  
	g’Œ›s
[(
ušt8_t
)
x
];

751 
šlše
 cÚ¡ 
	gCRGB
& 
	gİ”©Ü
[] (
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

753  
	g’Œ›s
[(
ušt8_t
)
x
];

756 
İ”©Ü
 
	gCRGB
*()

758  &(
	g’Œ›s
[0]);

761 
	$CRGBP®‘‹16
ĞcÚ¡ 
CHSV
& 
c1
)

763 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 16, 
c1
);

764 
	}
}

765 
	$CRGBP®‘‹16
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
)

767 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
);

768 
	}
}

769 
	$CRGBP®‘‹16
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
)

771 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
, 
c3
);

772 
	}
}

773 
	$CRGBP®‘‹16
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
, cÚ¡ CHSV& 
c4
)

775 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
, 
c3
, 
c4
);

776 
	}
}

778 
	$CRGBP®‘‹16
ĞcÚ¡ 
CRGB
& 
c1
)

780 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 16, 
c1
);

781 
	}
}

782 
	$CRGBP®‘‹16
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
)

784 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
);

785 
	}
}

786 
	$CRGBP®‘‹16
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
)

788 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
, 
c3
);

789 
	}
}

790 
	$CRGBP®‘‹16
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
, cÚ¡ CRGB& 
c4
)

792 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 16, 
c1
, 
c2
, 
c3
, 
c4
);

793 
	}
}

818 
	$CRGBP®‘‹16
Ğ
TProgmemRGBG¿d›ÁP®‘‹_by‹s
 
´og·l
 )

820 *
this
 = 
´og·l
;

821 
	}
}

822 
	gCRGBP®‘‹16
& 
	gİ”©Ü
=Ğ
TProgmemRGBG¿d›ÁP®‘‹_by‹s
 
´og·l
 )

824 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
* 
´og’t
 = (TRGBG¿d›ÁP®‘‹EÁryUniÚ*)(
´og·l
);

825 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
 
	gu
;

828 
ušt16_t
 
	gcouÁ
 = 0;

830 
	gu
.
	gdwÜd
 = 
FL_PGM_READ_DWORD_NEAR
(
´og’t
 + 
couÁ
);

831 ++
	gcouÁ
;

832 }  
	gu
.
	gšdex
 != 255);

834 
št8_t
 
	gÏ¡SlÙU£d
 = -1;

836 
	gu
.
	gdwÜd
 = 
FL_PGM_READ_DWORD_NEAR
Ğ
´og’t
);

837 
CRGB
 
rgb¡¬t
Ğ
u
.
r
, u.
g
, u.
b
);

839 
	gšdex¡¬t
 = 0;

840 
ušt8_t
 
	gi¡¬t8
 = 0;

841 
ušt8_t
 
	g›nd8
 = 0;

842  
	gšdex¡¬t
 < 255) {

843 ++
	g´og’t
;

844 
	gu
.
	gdwÜd
 = 
FL_PGM_READ_DWORD_NEAR
Ğ
´og’t
);

845 
	gšdex’d
 = 
u
.
šdex
;

846 
CRGB
 
rgb’d
Ğ
u
.
r
, u.
g
, u.
b
);

847 
	gi¡¬t8
 = 
šdex¡¬t
 / 16;

848 
	g›nd8
 = 
šdex’d
 / 16;

849 ifĞ
	gcouÁ
 < 16) {

850 ifĞ(
	gi¡¬t8
 <ğ
Ï¡SlÙU£d
) && (lastSlotUsed < 15)) {

851 
i¡¬t8
 = 
Ï¡SlÙU£d
 + 1;

852 ifĞ
	g›nd8
 < 
	gi¡¬t8
) {

853 
	g›nd8
 = 
i¡¬t8
;

856 
	gÏ¡SlÙU£d
 = 
›nd8
;

858 
fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 
i¡¬t8
, 
rgb¡¬t
, 
›nd8
, 
rgb’d
);

859 
	gšdex¡¬t
 = 
šdex’d
;

860 
	grgb¡¬t
 = 
rgb’d
;

862  *
	gthis
;

864 
	gCRGBP®‘‹16
& 
	$lßdDyÇmicG¿d›ÁP®‘‹
Ğ
TDyÇmicRGBG¿d›ÁP®‘‹_by‹s
 
g·l
 )

866 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
* 
’t
 = (TRGBG¿d›ÁP®‘‹EÁryUniÚ*)(
g·l
);

867 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
 
u
;

870 
ušt16_t
 
couÁ
 = 0;

872 
u
 = *(
’t
 + 
couÁ
);

873 ++
couÁ
;

874 }  
u
.
šdex
 != 255);

876 
št8_t
 
Ï¡SlÙU£d
 = -1;

879 
u
 = *
’t
;

880 
CRGB
 
	`rgb¡¬t
Ğ
u
.
r
, u.
g
, u.
b
);

882 
šdex¡¬t
 = 0;

883 
ušt8_t
 
i¡¬t8
 = 0;

884 
ušt8_t
 
›nd8
 = 0;

885  
šdex¡¬t
 < 255) {

886 ++
’t
;

887 
u
 = *
’t
;

888 
šdex’d
 = 
u
.
šdex
;

889 
CRGB
 
	`rgb’d
Ğ
u
.
r
, u.
g
, u.
b
);

890 
i¡¬t8
 = 
šdex¡¬t
 / 16;

891 
›nd8
 = 
šdex’d
 / 16;

892 ifĞ
couÁ
 < 16) {

893 ifĞ(
i¡¬t8
 <ğ
Ï¡SlÙU£d
) && (lastSlotUsed < 15)) {

894 
i¡¬t8
 = 
Ï¡SlÙU£d
 + 1;

895 ifĞ
›nd8
 < 
i¡¬t8
) {

896 
›nd8
 = 
i¡¬t8
;

899 
Ï¡SlÙU£d
 = 
›nd8
;

901 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 
i¡¬t8
, 
rgb¡¬t
, 
›nd8
, 
rgb’d
);

902 
šdex¡¬t
 = 
šdex’d
;

903 
rgb¡¬t
 = 
rgb’d
;

905  *
this
;

906 
	}
}

912 şas 
	cCHSVP®‘‹32
 {

913 
	mpublic
:

914 
CHSV
 
’Œ›s
[32];

915 
	$CHSVP®‘‹32
() {};

916 
	$CHSVP®‘‹32
ĞcÚ¡ 
CHSV
& 
c00
,cÚ¡ CHSV& 
c01
,cÚ¡ CHSV& 
c02
,cÚ¡ CHSV& 
c03
,

917 cÚ¡ 
CHSV
& 
c04
,cÚ¡ CHSV& 
c05
,cÚ¡ CHSV& 
c06
,cÚ¡ CHSV& 
c07
,

918 cÚ¡ 
CHSV
& 
c08
,cÚ¡ CHSV& 
c09
,cÚ¡ CHSV& 
c10
,cÚ¡ CHSV& 
c11
,

919 cÚ¡ 
CHSV
& 
c12
,cÚ¡ CHSV& 
c13
,cÚ¡ CHSV& 
c14
,cÚ¡ CHSV& 
c15
 )

921  
ušt8_t
 
i
 = 0; i < 2; ++i) {

922 
’Œ›s
[0+
i
]=
c00
;ƒÁr›s[2+i]=
c01
;ƒÁr›s[4+i]=
c02
;ƒÁr›s[6+i]=
c03
;

923 
’Œ›s
[8+
i
]=
c04
;ƒÁr›s[10+i]=
c05
;ƒÁr›s[12+i]=
c06
;ƒÁr›s[14+i]=
c07
;

924 
’Œ›s
[16+
i
]=
c08
;ƒÁr›s[18+i]=
c09
;ƒÁr›s[20+i]=
c10
;ƒÁr›s[22+i]=
c11
;

925 
’Œ›s
[24+
i
]=
c12
;ƒÁr›s[26+i]=
c13
;ƒÁr›s[28+i]=
c14
;ƒÁr›s[30+i]=
c15
;

927 
	}
};

929 
	$CHSVP®‘‹32
ĞcÚ¡ 
CHSVP®‘‹32
& 
rhs
)

931 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

932 
	}
}

933 
	gCHSVP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSVP®‘‹32
& 
rhs
)

935 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

936  *
	gthis
;

939 
	$CHSVP®‘‹32
ĞcÚ¡ 
TProgmemHSVP®‘‹32
& 
rhs
)

941  
ušt8_t
 
i
 = 0; i < 32; ++i) {

942 
CRGB
 
xyz
 = 
	`FL_PGM_READ_DWORD_NEAR
Ğ
rhs
 + 
i
);

943 
’Œ›s
[
i
].
hue
 = 
xyz
.
»d
;

944 
’Œ›s
[
i
].
§t
 = 
xyz
.
g»’
;

945 
’Œ›s
[
i
].
v®
 = 
xyz
.
blue
;

947 
	}
}

948 
	gCHSVP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
TProgmemHSVP®‘‹32
& 
rhs
)

950  
ušt8_t
 
i
 = 0; 
	gi
 < 32; ++i) {

951 
CRGB
 
	gxyz
 = 
FL_PGM_READ_DWORD_NEAR
Ğ
rhs
 + 
i
);

952 
	g’Œ›s
[
i
].
	ghue
 = 
xyz
.
»d
;

953 
	g’Œ›s
[
i
].
	g§t
 = 
xyz
.
g»’
;

954 
	g’Œ›s
[
i
].
	gv®
 = 
xyz
.
blue
;

956  *
	gthis
;

959 
šlše
 
	gCHSV
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
è
__©Œibu‹__
((
®ways_šlše
))

961  
	g’Œ›s
[
x
];

963 
šlše
 cÚ¡ 
	gCHSV
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

965  
	g’Œ›s
[
x
];

968 
šlše
 
	gCHSV
& 
	gİ”©Ü
[] (
	gx
è
__©Œibu‹__
((
®ways_šlše
))

970  
	g’Œ›s
[(
ušt8_t
)
x
];

972 
šlše
 cÚ¡ 
	gCHSV
& 
	gİ”©Ü
[] (
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

974  
	g’Œ›s
[(
ušt8_t
)
x
];

977 
İ”©Ü
 
	gCHSV
*()

979  &(
	g’Œ›s
[0]);

982 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
CHSVP®‘‹32
 
rhs
)

984 cÚ¡ 
ušt8_t
* 
p
 = (cÚ¡ ušt8_t*)(&(
this
->
’Œ›s
[0]));

985 cÚ¡ 
ušt8_t
* 
	gq
 = (cÚ¡ ušt8_t*)(&(
rhs
.
’Œ›s
[0]));

986 ifĞ
	gp
 =ğ
q
è 
Œue
;

987  
ušt8_t
 
	gi
 = 0; i < (Ğ
	g’Œ›s
)); ++i) {

988 ifĞ*
	gp
 !ğ*
q
è 
çl£
;

989 ++
	gp
;

990 ++
	gq
;

992  
	gŒue
;

994 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
CHSVP®‘‹32
 
rhs
)

996  !Ğ*
this
 =ğ
rhs
);

999 
	$CHSVP®‘‹32
ĞcÚ¡ 
CHSV
& 
c1
)

1001 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 32, 
c1
);

1002 
	}
}

1003 
	$CHSVP®‘‹32
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
)

1005 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
);

1006 
	}
}

1007 
	$CHSVP®‘‹32
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
)

1009 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
, 
c3
);

1010 
	}
}

1011 
	$CHSVP®‘‹32
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
, cÚ¡ CHSV& 
c4
)

1013 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
, 
c3
, 
c4
);

1014 
	}
}

1018 şas 
	cCRGBP®‘‹32
 {

1019 
	mpublic
:

1020 
CRGB
 
’Œ›s
[32];

1021 
	$CRGBP®‘‹32
() {};

1022 
	$CRGBP®‘‹32
ĞcÚ¡ 
CRGB
& 
c00
,cÚ¡ CRGB& 
c01
,cÚ¡ CRGB& 
c02
,cÚ¡ CRGB& 
c03
,

1023 cÚ¡ 
CRGB
& 
c04
,cÚ¡ CRGB& 
c05
,cÚ¡ CRGB& 
c06
,cÚ¡ CRGB& 
c07
,

1024 cÚ¡ 
CRGB
& 
c08
,cÚ¡ CRGB& 
c09
,cÚ¡ CRGB& 
c10
,cÚ¡ CRGB& 
c11
,

1025 cÚ¡ 
CRGB
& 
c12
,cÚ¡ CRGB& 
c13
,cÚ¡ CRGB& 
c14
,cÚ¡ CRGB& 
c15
 )

1027  
ušt8_t
 
i
 = 0; i < 2; ++i) {

1028 
’Œ›s
[0+
i
]=
c00
;ƒÁr›s[2+i]=
c01
;ƒÁr›s[4+i]=
c02
;ƒÁr›s[6+i]=
c03
;

1029 
’Œ›s
[8+
i
]=
c04
;ƒÁr›s[10+i]=
c05
;ƒÁr›s[12+i]=
c06
;ƒÁr›s[14+i]=
c07
;

1030 
’Œ›s
[16+
i
]=
c08
;ƒÁr›s[18+i]=
c09
;ƒÁr›s[20+i]=
c10
;ƒÁr›s[22+i]=
c11
;

1031 
’Œ›s
[24+
i
]=
c12
;ƒÁr›s[26+i]=
c13
;ƒÁr›s[28+i]=
c14
;ƒÁr›s[30+i]=
c15
;

1033 
	}
};

1035 
	$CRGBP®‘‹32
ĞcÚ¡ 
CRGBP®‘‹32
& 
rhs
)

1037 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

1038 
	}
}

1039 
	$CRGBP®‘‹32
ĞcÚ¡ 
CRGB
 
rhs
[32])

1041 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
[0]), (ƒntries));

1042 
	}
}

1043 
	gCRGBP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
CRGBP®‘‹32
& 
rhs
)

1045 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

1046  *
	gthis
;

1048 
	gCRGBP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
CRGB
 
rhs
[32])

1050 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
[0]), (ƒntries));

1051  *
	gthis
;

1054 
	$CRGBP®‘‹32
ĞcÚ¡ 
CHSVP®‘‹32
& 
rhs
)

1056  
ušt8_t
 
i
 = 0; i < 32; ++i) {

1057 
’Œ›s
[
i
] = 
rhs
.entries[i];

1059 
	}
}

1060 
	$CRGBP®‘‹32
ĞcÚ¡ 
CHSV
 
rhs
[32])

1062  
ušt8_t
 
i
 = 0; i < 32; ++i) {

1063 
’Œ›s
[
i
] = 
rhs
[i];

1065 
	}
}

1066 
	gCRGBP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSVP®‘‹32
& 
rhs
)

1068  
ušt8_t
 
i
 = 0; 
	gi
 < 32; ++i) {

1069 
	g’Œ›s
[
i
] = 
rhs
.
’Œ›s
[i];

1071  *
	gthis
;

1073 
	gCRGBP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSV
 
rhs
[32])

1075  
ušt8_t
 
i
 = 0; 
	gi
 < 32; ++i) {

1076 
	g’Œ›s
[
i
] = 
rhs
[i];

1078  *
	gthis
;

1081 
	$CRGBP®‘‹32
ĞcÚ¡ 
TProgmemRGBP®‘‹32
& 
rhs
)

1083  
ušt8_t
 
i
 = 0; i < 32; ++i) {

1084 
’Œ›s
[
i
] = 
	`FL_PGM_READ_DWORD_NEAR
Ğ
rhs
 + i);

1086 
	}
}

1087 
	gCRGBP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
TProgmemRGBP®‘‹32
& 
rhs
)

1089  
ušt8_t
 
i
 = 0; 
	gi
 < 32; ++i) {

1090 
	g’Œ›s
[
i
] = 
FL_PGM_READ_DWORD_NEAR
Ğ
rhs
 + i);

1092  *
	gthis
;

1095 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
CRGBP®‘‹32
 
rhs
)

1097 cÚ¡ 
ušt8_t
* 
p
 = (cÚ¡ ušt8_t*)(&(
this
->
’Œ›s
[0]));

1098 cÚ¡ 
ušt8_t
* 
	gq
 = (cÚ¡ ušt8_t*)(&(
rhs
.
’Œ›s
[0]));

1099 ifĞ
	gp
 =ğ
q
è 
Œue
;

1100  
ušt8_t
 
	gi
 = 0; i < (Ğ
	g’Œ›s
)); ++i) {

1101 ifĞ*
	gp
 !ğ*
q
è 
çl£
;

1102 ++
	gp
;

1103 ++
	gq
;

1105  
	gŒue
;

1107 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
CRGBP®‘‹32
 
rhs
)

1109  !Ğ*
this
 =ğ
rhs
);

1112 
šlše
 
	gCRGB
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
è
__©Œibu‹__
((
®ways_šlše
))

1114  
	g’Œ›s
[
x
];

1116 
šlše
 cÚ¡ 
	gCRGB
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

1118  
	g’Œ›s
[
x
];

1121 
šlše
 
	gCRGB
& 
	gİ”©Ü
[] (
	gx
è
__©Œibu‹__
((
®ways_šlše
))

1123  
	g’Œ›s
[(
ušt8_t
)
x
];

1125 
šlše
 cÚ¡ 
	gCRGB
& 
	gİ”©Ü
[] (
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

1127  
	g’Œ›s
[(
ušt8_t
)
x
];

1130 
İ”©Ü
 
	gCRGB
*()

1132  &(
	g’Œ›s
[0]);

1135 
	$CRGBP®‘‹32
ĞcÚ¡ 
CHSV
& 
c1
)

1137 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 32, 
c1
);

1138 
	}
}

1139 
	$CRGBP®‘‹32
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
)

1141 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
);

1142 
	}
}

1143 
	$CRGBP®‘‹32
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
)

1145 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
, 
c3
);

1146 
	}
}

1147 
	$CRGBP®‘‹32
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
, cÚ¡ CHSV& 
c4
)

1149 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
, 
c3
, 
c4
);

1150 
	}
}

1152 
	$CRGBP®‘‹32
ĞcÚ¡ 
CRGB
& 
c1
)

1154 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 32, 
c1
);

1155 
	}
}

1156 
	$CRGBP®‘‹32
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
)

1158 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
);

1159 
	}
}

1160 
	$CRGBP®‘‹32
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
)

1162 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
, 
c3
);

1163 
	}
}

1164 
	$CRGBP®‘‹32
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
, cÚ¡ CRGB& 
c4
)

1166 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 32, 
c1
, 
c2
, 
c3
, 
c4
);

1167 
	}
}

1170 
	$CRGBP®‘‹32
ĞcÚ¡ 
CRGBP®‘‹16
& 
rhs16
)

1172 
	`UpsÿËP®‘‹
Ğ
rhs16
, *
this
);

1173 
	}
}

1174 
	gCRGBP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
CRGBP®‘‹16
& 
rhs16
)

1176 
UpsÿËP®‘‹
Ğ
rhs16
, *
this
);

1177  *
	gthis
;

1180 
	$CRGBP®‘‹32
ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
rhs
)

1182 
CRGBP®‘‹16
 
	`p16
(
rhs
);

1183 *
this
 = 
p16
;

1184 
	}
}

1185 
	gCRGBP®‘‹32
& 
	gİ”©Ü
=ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
rhs
)

1187 
CRGBP®‘‹16
 
p16
(
rhs
);

1188 *
	gthis
 = 
p16
;

1189  *
	gthis
;

1215 
	$CRGBP®‘‹32
Ğ
TProgmemRGBG¿d›ÁP®‘‹_by‹s
 
´og·l
 )

1217 *
this
 = 
´og·l
;

1218 
	}
}

1219 
	gCRGBP®‘‹32
& 
	gİ”©Ü
=Ğ
TProgmemRGBG¿d›ÁP®‘‹_by‹s
 
´og·l
 )

1221 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
* 
´og’t
 = (TRGBG¿d›ÁP®‘‹EÁryUniÚ*)(
´og·l
);

1222 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
 
	gu
;

1225 
ušt16_t
 
	gcouÁ
 = 0;

1227 
	gu
.
	gdwÜd
 = 
FL_PGM_READ_DWORD_NEAR
(
´og’t
 + 
couÁ
);

1228 ++
	gcouÁ
;

1229 }  
	gu
.
	gšdex
 != 255);

1231 
št8_t
 
	gÏ¡SlÙU£d
 = -1;

1233 
	gu
.
	gdwÜd
 = 
FL_PGM_READ_DWORD_NEAR
Ğ
´og’t
);

1234 
CRGB
 
rgb¡¬t
Ğ
u
.
r
, u.
g
, u.
b
);

1236 
	gšdex¡¬t
 = 0;

1237 
ušt8_t
 
	gi¡¬t8
 = 0;

1238 
ušt8_t
 
	g›nd8
 = 0;

1239  
	gšdex¡¬t
 < 255) {

1240 ++
	g´og’t
;

1241 
	gu
.
	gdwÜd
 = 
FL_PGM_READ_DWORD_NEAR
Ğ
´og’t
);

1242 
	gšdex’d
 = 
u
.
šdex
;

1243 
CRGB
 
rgb’d
Ğ
u
.
r
, u.
g
, u.
b
);

1244 
	gi¡¬t8
 = 
šdex¡¬t
 / 8;

1245 
	g›nd8
 = 
šdex’d
 / 8;

1246 ifĞ
	gcouÁ
 < 16) {

1247 ifĞ(
	gi¡¬t8
 <ğ
Ï¡SlÙU£d
) && (lastSlotUsed < 31)) {

1248 
i¡¬t8
 = 
Ï¡SlÙU£d
 + 1;

1249 ifĞ
	g›nd8
 < 
	gi¡¬t8
) {

1250 
	g›nd8
 = 
i¡¬t8
;

1253 
	gÏ¡SlÙU£d
 = 
›nd8
;

1255 
fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 
i¡¬t8
, 
rgb¡¬t
, 
›nd8
, 
rgb’d
);

1256 
	gšdex¡¬t
 = 
šdex’d
;

1257 
	grgb¡¬t
 = 
rgb’d
;

1259  *
	gthis
;

1261 
	gCRGBP®‘‹32
& 
	$lßdDyÇmicG¿d›ÁP®‘‹
Ğ
TDyÇmicRGBG¿d›ÁP®‘‹_by‹s
 
g·l
 )

1263 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
* 
’t
 = (TRGBG¿d›ÁP®‘‹EÁryUniÚ*)(
g·l
);

1264 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
 
u
;

1267 
ušt16_t
 
couÁ
 = 0;

1269 
u
 = *(
’t
 + 
couÁ
);

1270 ++
couÁ
;

1271 }  
u
.
šdex
 != 255);

1273 
št8_t
 
Ï¡SlÙU£d
 = -1;

1276 
u
 = *
’t
;

1277 
CRGB
 
	`rgb¡¬t
Ğ
u
.
r
, u.
g
, u.
b
);

1279 
šdex¡¬t
 = 0;

1280 
ušt8_t
 
i¡¬t8
 = 0;

1281 
ušt8_t
 
›nd8
 = 0;

1282  
šdex¡¬t
 < 255) {

1283 ++
’t
;

1284 
u
 = *
’t
;

1285 
šdex’d
 = 
u
.
šdex
;

1286 
CRGB
 
	`rgb’d
Ğ
u
.
r
, u.
g
, u.
b
);

1287 
i¡¬t8
 = 
šdex¡¬t
 / 8;

1288 
›nd8
 = 
šdex’d
 / 8;

1289 ifĞ
couÁ
 < 16) {

1290 ifĞ(
i¡¬t8
 <ğ
Ï¡SlÙU£d
) && (lastSlotUsed < 31)) {

1291 
i¡¬t8
 = 
Ï¡SlÙU£d
 + 1;

1292 ifĞ
›nd8
 < 
i¡¬t8
) {

1293 
›nd8
 = 
i¡¬t8
;

1296 
Ï¡SlÙU£d
 = 
›nd8
;

1298 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 
i¡¬t8
, 
rgb¡¬t
, 
›nd8
, 
rgb’d
);

1299 
šdex¡¬t
 = 
šdex’d
;

1300 
rgb¡¬t
 = 
rgb’d
;

1302  *
this
;

1303 
	}
}

1309 şas 
	cCRGBP®‘‹256
 {

1310 
	mpublic
:

1311 
CRGB
 
’Œ›s
[256];

1312 
	$CRGBP®‘‹256
() {};

1313 
	$CRGBP®‘‹256
ĞcÚ¡ 
CRGB
& 
c00
,cÚ¡ CRGB& 
c01
,cÚ¡ CRGB& 
c02
,cÚ¡ CRGB& 
c03
,

1314 cÚ¡ 
CRGB
& 
c04
,cÚ¡ CRGB& 
c05
,cÚ¡ CRGB& 
c06
,cÚ¡ CRGB& 
c07
,

1315 cÚ¡ 
CRGB
& 
c08
,cÚ¡ CRGB& 
c09
,cÚ¡ CRGB& 
c10
,cÚ¡ CRGB& 
c11
,

1316 cÚ¡ 
CRGB
& 
c12
,cÚ¡ CRGB& 
c13
,cÚ¡ CRGB& 
c14
,cÚ¡ CRGB& 
c15
 )

1318 
CRGBP®‘‹16
 
	`p16
(
c00
,
c01
,
c02
,
c03
,
c04
,
c05
,
c06
,
c07
,

1319 
c08
,
c09
,
c10
,
c11
,
c12
,
c13
,
c14
,
c15
);

1320 *
this
 = 
p16
;

1321 
	}
};

1323 
	$CRGBP®‘‹256
ĞcÚ¡ 
CRGBP®‘‹256
& 
rhs
)

1325 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

1326 
	}
}

1327 
	$CRGBP®‘‹256
ĞcÚ¡ 
CRGB
 
rhs
[256])

1329 
	`memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
[0]), (ƒntries));

1330 
	}
}

1331 
	gCRGBP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
CRGBP®‘‹256
& 
rhs
)

1333 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
.entries[0]), (ƒntries));

1334  *
	gthis
;

1336 
	gCRGBP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
CRGB
 
rhs
[256])

1338 
memmove8
Ğ(*è&(
’Œ›s
[0]), &(
rhs
[0]), (ƒntries));

1339  *
	gthis
;

1342 
	$CRGBP®‘‹256
ĞcÚ¡ 
CHSVP®‘‹256
& 
rhs
)

1344  
i
 = 0; i < 256; ++i) {

1345 
’Œ›s
[
i
] = 
rhs
.entries[i];

1347 
	}
}

1348 
	$CRGBP®‘‹256
ĞcÚ¡ 
CHSV
 
rhs
[256])

1350  
i
 = 0; i < 256; ++i) {

1351 
’Œ›s
[
i
] = 
rhs
[i];

1353 
	}
}

1354 
	gCRGBP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSVP®‘‹256
& 
rhs
)

1356  
i
 = 0; 
	gi
 < 256; ++i) {

1357 
	g’Œ›s
[
i
] = 
rhs
.
’Œ›s
[i];

1359  *
	gthis
;

1361 
	gCRGBP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
CHSV
 
rhs
[256])

1363  
i
 = 0; 
	gi
 < 256; ++i) {

1364 
	g’Œ›s
[
i
] = 
rhs
[i];

1366  *
	gthis
;

1369 
	$CRGBP®‘‹256
ĞcÚ¡ 
CRGBP®‘‹16
& 
rhs16
)

1371 
	`UpsÿËP®‘‹
Ğ
rhs16
, *
this
);

1372 
	}
}

1373 
	gCRGBP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
CRGBP®‘‹16
& 
rhs16
)

1375 
UpsÿËP®‘‹
Ğ
rhs16
, *
this
);

1376  *
	gthis
;

1379 
	$CRGBP®‘‹256
ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
rhs
)

1381 
CRGBP®‘‹16
 
	`p16
(
rhs
);

1382 *
this
 = 
p16
;

1383 
	}
}

1384 
	gCRGBP®‘‹256
& 
	gİ”©Ü
=ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
rhs
)

1386 
CRGBP®‘‹16
 
p16
(
rhs
);

1387 *
	gthis
 = 
p16
;

1388  *
	gthis
;

1391 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
CRGBP®‘‹256
 
rhs
)

1393 cÚ¡ 
ušt8_t
* 
p
 = (cÚ¡ ušt8_t*)(&(
this
->
’Œ›s
[0]));

1394 cÚ¡ 
ušt8_t
* 
	gq
 = (cÚ¡ ušt8_t*)(&(
rhs
.
’Œ›s
[0]));

1395 ifĞ
	gp
 =ğ
q
è 
Œue
;

1396  
ušt16_t
 
	gi
 = 0; i < (Ğ
	g’Œ›s
)); ++i) {

1397 ifĞ*
	gp
 !ğ*
q
è 
çl£
;

1398 ++
	gp
;

1399 ++
	gq
;

1401  
	gŒue
;

1403 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
CRGBP®‘‹256
 
rhs
)

1405  !Ğ*
this
 =ğ
rhs
);

1408 
šlše
 
	gCRGB
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
è
__©Œibu‹__
((
®ways_šlše
))

1410  
	g’Œ›s
[
x
];

1412 
šlše
 cÚ¡ 
	gCRGB
& 
	gİ”©Ü
[] (
ušt8_t
 
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

1414  
	g’Œ›s
[
x
];

1417 
šlše
 
	gCRGB
& 
	gİ”©Ü
[] (
	gx
è
__©Œibu‹__
((
®ways_šlše
))

1419  
	g’Œ›s
[(
ušt8_t
)
x
];

1421 
šlše
 cÚ¡ 
	gCRGB
& 
	gİ”©Ü
[] (
	gx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

1423  
	g’Œ›s
[(
ušt8_t
)
x
];

1426 
İ”©Ü
 
	gCRGB
*()

1428  &(
	g’Œ›s
[0]);

1431 
	$CRGBP®‘‹256
ĞcÚ¡ 
CHSV
& 
c1
)

1433 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 256, 
c1
);

1434 
	}
}

1435 
	$CRGBP®‘‹256
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
)

1437 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
);

1438 
	}
}

1439 
	$CRGBP®‘‹256
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
)

1441 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
, 
c3
);

1442 
	}
}

1443 
	$CRGBP®‘‹256
ĞcÚ¡ 
CHSV
& 
c1
, cÚ¡ CHSV& 
c2
, cÚ¡ CHSV& 
c3
, cÚ¡ CHSV& 
c4
)

1445 
	`fl_g¿d›Á
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
, 
c3
, 
c4
);

1446 
	}
}

1448 
	$CRGBP®‘‹256
ĞcÚ¡ 
CRGB
& 
c1
)

1450 
	`fl_sŞid
Ğ&(
’Œ›s
[0]), 256, 
c1
);

1451 
	}
}

1452 
	$CRGBP®‘‹256
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
)

1454 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
);

1455 
	}
}

1456 
	$CRGBP®‘‹256
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
)

1458 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
, 
c3
);

1459 
	}
}

1460 
	$CRGBP®‘‹256
ĞcÚ¡ 
CRGB
& 
c1
, cÚ¡ CRGB& 
c2
, cÚ¡ CRGB& 
c3
, cÚ¡ CRGB& 
c4
)

1462 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 256, 
c1
, 
c2
, 
c3
, 
c4
);

1463 
	}
}

1465 
	$CRGBP®‘‹256
Ğ
TProgmemRGBG¿d›ÁP®‘‹_by‹s
 
´og·l
 )

1467 *
this
 = 
´og·l
;

1468 
	}
}

1469 
	gCRGBP®‘‹256
& 
	gİ”©Ü
=Ğ
TProgmemRGBG¿d›ÁP®‘‹_by‹s
 
´og·l
 )

1471 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
* 
´og’t
 = (TRGBG¿d›ÁP®‘‹EÁryUniÚ*)(
´og·l
);

1472 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
 
	gu
;

1473 
	gu
.
	gdwÜd
 = 
FL_PGM_READ_DWORD_NEAR
Ğ
´og’t
);

1474 
CRGB
 
rgb¡¬t
Ğ
u
.
r
, u.
g
, u.
b
);

1476 
	gšdex¡¬t
 = 0;

1477  
	gšdex¡¬t
 < 255) {

1478 ++
	g´og’t
;

1479 
	gu
.
	gdwÜd
 = 
FL_PGM_READ_DWORD_NEAR
Ğ
´og’t
);

1480 
	gšdex’d
 = 
u
.
šdex
;

1481 
CRGB
 
rgb’d
Ğ
u
.
r
, u.
g
, u.
b
);

1482 
fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 
šdex¡¬t
, 
rgb¡¬t
, 
šdex’d
, 
rgb’d
);

1483 
	gšdex¡¬t
 = 
šdex’d
;

1484 
	grgb¡¬t
 = 
rgb’d
;

1486  *
	gthis
;

1488 
	gCRGBP®‘‹256
& 
	$lßdDyÇmicG¿d›ÁP®‘‹
Ğ
TDyÇmicRGBG¿d›ÁP®‘‹_by‹s
 
g·l
 )

1490 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
* 
’t
 = (TRGBG¿d›ÁP®‘‹EÁryUniÚ*)(
g·l
);

1491 
TRGBG¿d›ÁP®‘‹EÁryUniÚ
 
u
;

1492 
u
 = *
’t
;

1493 
CRGB
 
	`rgb¡¬t
Ğ
u
.
r
, u.
g
, u.
b
);

1495 
šdex¡¬t
 = 0;

1496  
šdex¡¬t
 < 255) {

1497 ++
’t
;

1498 
u
 = *
’t
;

1499 
šdex’d
 = 
u
.
šdex
;

1500 
CRGB
 
	`rgb’d
Ğ
u
.
r
, u.
g
, u.
b
);

1501 
	`fl_g¿d›Á_RGB
Ğ&(
’Œ›s
[0]), 
šdex¡¬t
, 
rgb¡¬t
, 
šdex’d
, 
rgb’d
);

1502 
šdex¡¬t
 = 
šdex’d
;

1503 
rgb¡¬t
 = 
rgb’d
;

1505  *
this
;

1506 
	}
}

1511 ’um { 
	mNOBLEND
=0, 
	mLINEARBLEND
=1 } 
	tTBËndTy³
;

1513 
CRGB
 
CŞÜFromP®‘‹
ĞcÚ¡ 
CRGBP®‘‹16
& 
·l
,

1514 
ušt8_t
 
šdex
,

1515 
ušt8_t
 
brighŠess
=255,

1516 
TBËndTy³
 
bËndTy³
=
LINEARBLEND
);

1518 
CRGB
 
CŞÜFromP®‘‹
ĞcÚ¡ 
TProgmemRGBP®‘‹16
& 
·l
,

1519 
ušt8_t
 
šdex
,

1520 
ušt8_t
 
brighŠess
=255,

1521 
TBËndTy³
 
bËndTy³
=
LINEARBLEND
);

1523 
CRGB
 
CŞÜFromP®‘‹
ĞcÚ¡ 
CRGBP®‘‹256
& 
·l
,

1524 
ušt8_t
 
šdex
,

1525 
ušt8_t
 
brighŠess
=255,

1526 
TBËndTy³
 
bËndTy³
=
NOBLEND
 );

1528 
CHSV
 
CŞÜFromP®‘‹
ĞcÚ¡ 
CHSVP®‘‹16
& 
·l
,

1529 
ušt8_t
 
šdex
,

1530 
ušt8_t
 
brighŠess
=255,

1531 
TBËndTy³
 
bËndTy³
=
LINEARBLEND
);

1533 
CHSV
 
CŞÜFromP®‘‹
ĞcÚ¡ 
CHSVP®‘‹256
& 
·l
,

1534 
ušt8_t
 
šdex
,

1535 
ušt8_t
 
brighŠess
=255,

1536 
TBËndTy³
 
bËndTy³
=
NOBLEND
 );

1538 
CRGB
 
CŞÜFromP®‘‹
ĞcÚ¡ 
CRGBP®‘‹32
& 
·l
,

1539 
ušt8_t
 
šdex
,

1540 
ušt8_t
 
brighŠess
=255,

1541 
TBËndTy³
 
bËndTy³
=
LINEARBLEND
);

1543 
CRGB
 
CŞÜFromP®‘‹
ĞcÚ¡ 
TProgmemRGBP®‘‹32
& 
·l
,

1544 
ušt8_t
 
šdex
,

1545 
ušt8_t
 
brighŠess
=255,

1546 
TBËndTy³
 
bËndTy³
=
LINEARBLEND
);

1548 
CHSV
 
CŞÜFromP®‘‹
ĞcÚ¡ 
CHSVP®‘‹32
& 
·l
,

1549 
ušt8_t
 
šdex
,

1550 
ušt8_t
 
brighŠess
=255,

1551 
TBËndTy³
 
bËndTy³
=
LINEARBLEND
);

1555 
	g‹m¶©e
 <
ty³Çme
 
	gPALETTE
>

1556 
	$fl_·Ë‰e
(
CRGB
* 
L
, 
ušt16_t
 
N
, 
ušt8_t
 
¡¬tIndex
, ušt8_ˆ
šcIndex
,

1557 cÚ¡ 
PALETTE
& 
·l
, 
ušt8_t
 
brighŠess
, 
TBËndTy³
 
bËndTy³
)

1559 
ušt8_t
 
cŞÜIndex
 = 
¡¬tIndex
;

1560  
ušt16_t
 
i
 = 0; i < 
N
; ++i) {

1561 
L
[
i
] = 
	`CŞÜFromP®‘‹
Ğ
·l
, 
cŞÜIndex
, 
brighŠess
, 
bËndTy³
);

1562 
cŞÜIndex
 +ğ
šcIndex
;

1564 
	}
}

1566 
	g‹m¶©e
 <
ty³Çme
 
	gPALETTE
>

1567 
	$m­_d©a_što_cŞÜs_through_·Ë‰e
(

1568 
ušt8_t
 *
d©aA¼ay
, 
ušt16_t
 
d©aCouÁ
,

1569 
CRGB
* 
rg‘CŞÜA¼ay
,

1570 cÚ¡ 
PALETTE
& 
·l
,

1571 
ušt8_t
 
brighŠess
=255,

1572 
ušt8_t
 
İac™y
=255,

1573 
TBËndTy³
 
bËndTy³
=
LINEARBLEND
)

1575  
ušt16_t
 
i
 = 0; i < 
d©aCouÁ
; ++i) {

1576 
ušt8_t
 
d
 = 
d©aA¼ay
[
i
];

1577 
CRGB
 
rgb
 = 
	`CŞÜFromP®‘‹
Ğ
·l
, 
d
, 
brighŠess
, 
bËndTy³
);

1578 ifĞ
İac™y
 == 255 ) {

1579 
rg‘CŞÜA¼ay
[
i
] = 
rgb
;

1581 
rg‘CŞÜA¼ay
[
i
].
	`nsÿË8
Ğ256 - 
İac™y
);

1582 
rgb
.
	`nsÿË8_video
Ğ
İac™y
);

1583 
rg‘CŞÜA¼ay
[
i
] +ğ
rgb
;

1586 
	}
}

1620 
nbËndP®‘‹Tow¬dP®‘‹
Ğ
CRGBP®‘‹16
& 
cu¼’tP®‘‹
,

1621 
CRGBP®‘‹16
& 
rg‘P®‘‹
,

1622 
ušt8_t
 
maxChªges
=24);

1670 
	#DEFINE_GRADIENT_PALETTE
(
X
) \

1671 
FL_ALIGN_PROGMEM
 \

1672 cÚ¡ 
TProgmemRGBG¿d›ÁP®‘‹_by‹
 
X
[] 
FL_PROGMEM
 =

	)

1674 
	#DECLARE_GRADIENT_PALETTE
(
X
) \

1675 
FL_ALIGN_PROGMEM
 \

1676 cÚ¡ 
TProgmemRGBG¿d›ÁP®‘‹_by‹
 
X
[] 
FL_PROGMEM


	)

1693 
ušt8_t
 
­¶yGamma_video
Ğušt8_ˆ
brighŠess
, 
gamma
);

1694 
CRGB
 
­¶yGamma_video
ĞcÚ¡ CRGB& 
Üig
, 
gamma
);

1695 
CRGB
 
­¶yGamma_video
ĞcÚ¡ CRGB& 
Üig
, 
gammaR
, 
gammaG
, 
gammaB
);

1697 
	gCRGB
& 
ÇµlyGamma_video
Ğ
CRGB
& 
rgb
, 
gamma
);

1698 
	gCRGB
& 
ÇµlyGamma_video
Ğ
CRGB
& 
rgb
, 
gammaR
, 
gammaG
, 
gammaB
);

1699 
ÇµlyGamma_video
Ğ
CRGB
* 
rgb¬¿y
, 
ušt16_t
 
couÁ
, 
gamma
);

1700 
ÇµlyGamma_video
Ğ
CRGB
* 
rgb¬¿y
, 
ušt16_t
 
couÁ
, 
gammaR
, 
gammaG
, 
gammaB
);

1703 
	gFASTLED_NAMESPACE_END


	@src/controller.h

1 #iâdeà
__INC_CONTROLLER_H


2 
	#__INC_CONTROLLER_H


	)

7 
	~"Fa¡LED.h
"

8 
	~"Ëd_sysdefs.h
"

9 
	~"pix–ty³s.h
"

10 
	~"cŞÜ.h
"

11 
	~<¡ddef.h
>

13 
	gFASTLED_NAMESPACE_BEGIN


15 
	#RO
(
X
è
	`RGB_BYTE
(
RGB_ORDER
, X)

	)

16 
	#RGB_BYTE
(
RO
,
X
è(((RO)>>(3*(2-(X)))è& 0x3)

	)

18 
	#RGB_BYTE0
(
RO
è((RO>>6è& 0x3)

	)

19 
	#RGB_BYTE1
(
RO
è((RO>>3è& 0x3)

	)

20 
	#RGB_BYTE2
(
RO
è((ROè& 0x3)

	)

24 
	#DISABLE_DITHER
 0x00

	)

25 
	#BINARY_DITHER
 0x01

	)

26 
ušt8_t
 
	tED™h”Mode
;

39 şas 
	cCLEDCÚŒŞËr
 {

40 
	m´Ùeùed
:

41 
ä›nd
 
şass
 
CFa¡LED
;

42 
CRGB
 *
	mm_D©a
;

43 
CLEDCÚŒŞËr
 *
	mm_pNext
;

44 
CRGB
 
	mm_CŞÜCÜ»ùiÚ
;

45 
CRGB
 
	mm_CŞÜTem³¿tu»
;

46 
ED™h”Mode
 
	mm_D™h”Mode
;

47 
	mm_nLeds
;

48 
CLEDCÚŒŞËr
 *
	mm_pH—d
;

49 
CLEDCÚŒŞËr
 *
	mm_pTa
;

55 
vœtu®
 
showCŞÜ
(cÚ¡ 
CRGB
 & 
d©a
, 
nLeds
, CRGB 
sÿË
) = 0;

61 
vœtu®
 
show
(cÚ¡ 
CRGB
 *
d©a
, 
nLeds
, CRGB 
sÿË
) = 0;

63 
	mpublic
:

65 
	$CLEDCÚŒŞËr
(è: 
	`m_D©a
(
NULL
), 
	`m_CŞÜCÜ»ùiÚ
(
UncÜ»ùedCŞÜ
), 
	`m_CŞÜTem³¿tu»
(
UncÜ»ùedTem³¿tu»
), 
	`m_D™h”Mode
(
BINARY_DITHER
), 
	$m_nLeds
(0) {

66 
m_pNext
 = 
NULL
;

67 if(
m_pH—d
==
NULL
è{ m_pH—d = 
this
; }

68 if(
m_pTa
 !ğ
NULL
è{ m_pTa->
m_pNext
 = 
this
; }

69 
m_pTa
 = 
this
;

73 
vœtu®
 
	`š™
() = 0;

76 
vœtu®
 
	$ş—rLeds
(
nLeds
è{ 
	`showCŞÜ
(
CRGB
::
BÏck
,‚Leds, CRGB::BÏck); 
	}
}

79 
	$show
(cÚ¡ 
CRGB
 *
d©a
, 
nLeds
, 
ušt8_t
 
brighŠess
) {

80 
	`show
(
d©a
, 
nLeds
, 
	`g‘Adju¡m’t
(
brighŠess
));

81 
	}
}

84 
	$showCŞÜ
(cÚ¡ 
CRGB
 &
d©a
, 
nLeds
, 
ušt8_t
 
brighŠess
) {

85 
	`showCŞÜ
(
d©a
, 
nLeds
, 
	`g‘Adju¡m’t
(
brighŠess
));

86 
	}
}

89 
	$showLeds
(
ušt8_t
 
brighŠess
=255) {

90 
	`show
(
m_D©a
, 
m_nLeds
, 
	`g‘Adju¡m’t
(
brighŠess
));

91 
	}
}

94 
	$showCŞÜ
(cÚ¡ 
CRGB
 & 
d©a
, 
ušt8_t
 
brighŠess
=255) {

95 
	`showCŞÜ
(
d©a
, 
m_nLeds
, 
	`g‘Adju¡m’t
(
brighŠess
));

96 
	}
}

99 
CLEDCÚŒŞËr
 *
	$h—d
(è{  
m_pH—d
; 
	}
}

101 
CLEDCÚŒŞËr
 *
	$Ãxt
(è{  
m_pNext
; 
	}
}

104 
	gCLEDCÚŒŞËr
 & 
	$£tLeds
(
CRGB
 *
d©a
, 
nLeds
) {

105 
m_D©a
 = 
d©a
;

106 
m_nLeds
 = 
nLeds
;

107  *
this
;

108 
	}
}

111 
	$ş—rLedD©a
() {

112 if(
m_D©a
) {

113 
	`mem£t8
((*)
m_D©a
, 0, (
CRGB
è* 
m_nLeds
);

115 
	}
}

118 
vœtu®
 
	$size
(è{  
m_nLeds
; 
	}
}

121 
CRGB
* 
	$Ëds
(è{  
m_D©a
; 
	}
}

124 
	gCRGB
 &
	gİ”©Ü
[](
	gx
è{  
	gm_D©a
[
x
]; }

127 
šlše
 
	gCLEDCÚŒŞËr
 & 
	$£tD™h”
(
ušt8_t
 
d™h”Mode
 = 
BINARY_DITHER
è{ 
m_D™h”Mode
 = d™h”Mode;  *
this
; 
	}
}

129 
šlše
 
ušt8_t
 
	$g‘D™h”
(è{  
m_D™h”Mode
; 
	}
}

132 
	gCLEDCÚŒŞËr
 & 
	$£tCÜ»ùiÚ
(
CRGB
 
cÜ»ùiÚ
è{ 
m_CŞÜCÜ»ùiÚ
 = cÜ»ùiÚ;  *
this
; 
	}
}

134 
	gCLEDCÚŒŞËr
 & 
	$£tCÜ»ùiÚ
(
LEDCŞÜCÜ»ùiÚ
 
cÜ»ùiÚ
è{ 
m_CŞÜCÜ»ùiÚ
 = cÜ»ùiÚ;  *
this
; 
	}
}

136 
CRGB
 
	$g‘CÜ»ùiÚ
(è{  
m_CŞÜCÜ»ùiÚ
; 
	}
}

139 
	gCLEDCÚŒŞËr
 & 
	$£tTem³¿tu»
(
CRGB
 
‹m³¿tu»
è{ 
m_CŞÜTem³¿tu»
 =em³¿tu»;  *
this
; 
	}
}

141 
	gCLEDCÚŒŞËr
 & 
	$£tTem³¿tu»
(
CŞÜTem³¿tu»
 
‹m³¿tu»
è{ 
m_CŞÜTem³¿tu»
 =em³¿tu»;  *
this
; 
	}
}

143 
CRGB
 
	$g‘Tem³¿tu»
(è{  
m_CŞÜTem³¿tu»
; 
	}
}

146 
CRGB
 
	$g‘Adju¡m’t
(
ušt8_t
 
sÿË
) {

147  
	`compu‹Adju¡m’t
(
sÿË
, 
m_CŞÜCÜ»ùiÚ
, 
m_CŞÜTem³¿tu»
);

148 
	}
}

150 
CRGB
 
	$compu‹Adju¡m’t
(
ušt8_t
 
sÿË
, cÚ¡ 
CRGB
 & 
cŞÜCÜ»ùiÚ
, cÚ¡ CRGB & 
cŞÜTem³¿tu»
) {

151 #ià
	`defšed
(
NO_CORRECTION
) && (NO_CORRECTION==1)

152  
	`CRGB
(
sÿË
,scale,scale);

154 
CRGB
 
	`adj
(0,0,0);

156 if(
sÿË
 > 0) {

157 
ušt8_t
 
i
 = 0; i < 3; ++i) {

158 
ušt8_t
 
cc
 = 
cŞÜCÜ»ùiÚ
.
¿w
[
i
];

159 
ušt8_t
 
ù
 = 
cŞÜTem³¿tu»
.
¿w
[
i
];

160 if(
cc
 > 0 && 
ù
 > 0) {

161 
ušt32_t
 
wÜk
 = (((ušt32_t)
cc
)+1è* (((ušt32_t)
ù
)+1è* 
sÿË
;

162 
wÜk
 /= 0x10000L;

163 
adj
.
¿w
[
i
] = 
wÜk
 & 0xFF;

168  
adj
;

170 
	}
}

171 
vœtu®
 
ušt16_t
 
	$g‘MaxReäeshR©e
(ècÚ¡ {  0; 
	}
}

177 
	g‹m¶©e
<
EOrd”
 
	gRGB_ORDER
, 
	gLANES
=1, 
ušt32_t
 
	gMASK
=0xFFFFFFFF>

178 
	sPix–CÚŒŞËr
 {

179 cÚ¡ 
ušt8_t
 *
mD©a
;

180 
	mmL’
,
	mmL’Remaššg
;

181 
ušt8_t
 
	md
[3];

182 
ušt8_t
 
	me
[3];

183 
CRGB
 
	mmSÿË
;

184 
št8_t
 
	mmAdvªû
;

185 
	mmOff£ts
[
LANES
];

187 
Pix–CÚŒŞËr
(cÚ¡ Pix–CÚŒŞË¸& 
Ùh”
) {

188 
	md
[0] = 
Ùh”
.
d
[0];

189 
	md
[1] = 
Ùh”
.
d
[1];

190 
	md
[2] = 
Ùh”
.
d
[2];

191 
	me
[0] = 
Ùh”
.
e
[0];

192 
	me
[1] = 
Ùh”
.
e
[1];

193 
	me
[2] = 
Ùh”
.
e
[2];

194 
	mmD©a
 = 
Ùh”
.
mD©a
;

195 
	mmSÿË
 = 
Ùh”
.
mSÿË
;

196 
	mmAdvªû
 = 
Ùh”
.
mAdvªû
;

197 
	mmL’Remaššg
 = 
mL’
 = 
Ùh”
.mLen;

198 
	mi
 = 0; i < 
	mLANES
; ++iè{ 
	mmOff£ts
[
i
] = 
Ùh”
.
mOff£ts
[i]; }

202 
š™Off£ts
(
Ën
) {

203 
	mnOff£t
 = 0;

204 
	mi
 = 0; i < 
	mLANES
; ++i) {

205 
	mmOff£ts
[
i
] = 
nOff£t
;

206 if((1<<
	mi
è& 
	mMASK
è{ 
	mnOff£t
 +ğ(
Ën
 * 
mAdvªû
); }

210 
Pix–CÚŒŞËr
(cÚ¡ 
ušt8_t
 *
d
, 
Ën
, 
CRGB
 & 
s
, 
ED™h”Mode
 
d™h”
 = 
BINARY_DITHER
, 
boŞ
 
advªû
=
Œue
, ušt8_ˆ
sk
=0è: 
mD©a
(d), 
mL’
Ö’), 
mL’Remaššg
Ö’), 
mSÿË
(s) {

211 
’abË_d™h”šg
(
d™h”
);

212 
	mmD©a
 +ğ
sk
;

213 
	mmAdvªû
 = (
advªû
è? 3+
sk
 : 0;

214 
š™Off£ts
(
Ën
);

217 
Pix–CÚŒŞËr
(cÚ¡ 
CRGB
 *
d
, 
Ën
, CRGB & 
s
, 
ED™h”Mode
 
d™h”
 = 
BINARY_DITHER
è: 
mD©a
((cÚ¡ 
ušt8_t
*)d), 
mL’
Ö’), 
mL’Remaššg
Ö’), 
mSÿË
(s) {

218 
’abË_d™h”šg
(
d™h”
);

219 
	mmAdvªû
 = 3;

220 
š™Off£ts
(
Ën
);

223 
Pix–CÚŒŞËr
(cÚ¡ 
CRGB
 &
d
, 
Ën
, CRGB & 
s
, 
ED™h”Mode
 
d™h”
 = 
BINARY_DITHER
è: 
mD©a
((cÚ¡ 
ušt8_t
*)&d), 
mL’
Ö’), 
mL’Remaššg
Ö’), 
mSÿË
(s) {

224 
’abË_d™h”šg
(
d™h”
);

225 
	mmAdvªû
 = 0;

226 
š™Off£ts
(
Ën
);

229 
š™_bš¬y_d™h”šg
() {

230 #ià!
defšed
(
NO_DITHERING
) || (NO_DITHERING != 1)

244 
	#MAX_LIKELY_UPDATE_RATE_HZ
 400

	)

245 
	#MIN_ACCEPTABLE_DITHER_RATE_HZ
 50

	)

246 
	#UPDATES_PER_FULL_DITHER_CYCLE
 (
MAX_LIKELY_UPDATE_RATE_HZ
 / 
MIN_ACCEPTABLE_DITHER_RATE_HZ
)

	)

247 
	#RECOMMENDED_VIRTUAL_BITS
 ((
UPDATES_PER_FULL_DITHER_CYCLE
>1) + \

248 (
UPDATES_PER_FULL_DITHER_CYCLE
>2) + \

249 (
UPDATES_PER_FULL_DITHER_CYCLE
>4) + \

250 (
UPDATES_PER_FULL_DITHER_CYCLE
>8) + \

251 (
UPDATES_PER_FULL_DITHER_CYCLE
>16) + \

252 (
UPDATES_PER_FULL_DITHER_CYCLE
>32) + \

253 (
UPDATES_PER_FULL_DITHER_CYCLE
>64) + \

254 (
UPDATES_PER_FULL_DITHER_CYCLE
>128è)

	)

255 
	#VIRTUAL_BITS
 
RECOMMENDED_VIRTUAL_BITS


	)

258 
ušt8_t
 
	mR
 = 0;

259 ++
	mR
;

263 
ušt8_t
 
	md™h”B™s
 = 
VIRTUAL_BITS
;

264 
	mR
 &ğ(0x01 << 
d™h”B™s
) - 1;

269 
ušt8_t
 
	mQ
 = 0;

273 if(
	mR
 & 0x01è{ 
	mQ
 |= 0x80; }

274 if(
	mR
 & 0x02è{ 
	mQ
 |= 0x40; }

275 if(
	mR
 & 0x04è{ 
	mQ
 |= 0x20; }

276 if(
	mR
 & 0x08è{ 
	mQ
 |= 0x10; }

277 if(
	mR
 & 0x10è{ 
	mQ
 |= 0x08; }

278 if(
	mR
 & 0x20è{ 
	mQ
 |= 0x04; }

279 if(
	mR
 & 0x40è{ 
	mQ
 |= 0x02; }

280 if(
	mR
 & 0x80è{ 
	mQ
 |= 0x01; }

287 ifĞ
	md™h”B™s
 < 8) {

288 
	mQ
 +ğ0x01 << (7 - 
d™h”B™s
);

296 
	mi
 = 0; i < 3; ++i) {

297 
ušt8_t
 
	ms
 = 
mSÿË
.
¿w
[
i
];

298 
	me
[
i
] = 
s
 ? (256/s) + 1 : 0;

299 
	md
[
i
] = 
sÿË8
(
Q
, 
e
[i]);

300 #ià(
FASTLED_SCALE8_FIXED
 == 1)

301 if(
	md
[
i
]) (--d[i]);

303 if(
	me
[
i
]) --e[i];

309 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
boŞ
 
has
(
n
) {

310  
	mmL’Remaššg
 >ğ
n
;

314 
’abË_d™h”šg
(
ED™h”Mode
 
d™h”
) {

315 
	md™h”
) {

316 
	mBINARY_DITHER
: 
š™_bš¬y_d™h”šg
(); ;

317 : 
d
[0]=d[1]=d[2]=
e
[0]=e[1]=e[2]=0; ;

321 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
size
(è{  
	mmL’
; }

324 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
advªûBy
(è{  
	mmAdvªû
; }

327 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
advªûD©a
(è{ 
	mmD©a
 +ğ
mAdvªû
; --
	mmL’Remaššg
;}

330 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
¡•D™h”šg
() {

333 
	md
[0] = 
e
[0] - 
d
[0];

334 
	md
[1] = 
e
[1] - 
d
[1];

335 
	md
[2] = 
e
[2] - 
d
[2];

339 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
´eS‹pFœ¡By‹D™h”šg
() {

340 
	md
[
RO
(0)] = 
e
[RO(0)] - 
d
[RO(0)];

343 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdBy‹
(
Pix–CÚŒŞËr
 & 
pc
è{  
	mpc
.
	mmD©a
[
RO
(
SLOT
)]; }

344 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdBy‹
(
Pix–CÚŒŞËr
 & 
pc
, 
ÏÃ
è{  
	mpc
.
	mmD©a
[pc.
mOff£ts
[ÏÃ] + 
RO
(
SLOT
)]; }

346 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
d™h”
(
Pix–CÚŒŞËr
 & 
pc
, ušt8_ˆ
b
è{  
	mb
 ? 
qadd8
(b,…c.
d
[
RO
(
SLOT
)]) : 0; }

347 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
d™h”
(
Pix–CÚŒŞËr
 & , ušt8_ˆ
b
, ušt8_ˆ
d
è{  
	mb
 ? 
qadd8
(b,d) : 0; }

349 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
sÿË
(
Pix–CÚŒŞËr
 & 
pc
, ušt8_ˆ
b
è{  
sÿË8
(b,…c.
mSÿË
.
¿w
[
RO
(
SLOT
)]); }

350 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
sÿË
(
Pix–CÚŒŞËr
 & , ušt8_ˆ
b
, ušt8_ˆsÿËè{  
sÿË8
(b, scale); }

353 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË
(
Pix–CÚŒŞËr
 & 
pc
è{  
	msÿË
<SLOT>(
	mpc
,…c.
	md™h”
<SLOT>Õc,…c.
	mlßdBy‹
<SLOT>(pc))); }

354 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË
(
Pix–CÚŒŞËr
 & 
pc
, 
ÏÃ
è{  
	msÿË
<SLOT>(
	mpc
,…c.
	md™h”
<SLOT>Õc,…c.
	mlßdBy‹
<SLOT>Õc, 
	mÏÃ
))); }

355 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË
(
Pix–CÚŒŞËr
 & 
pc
, 
ÏÃ
, ušt8_ˆ
d
, ušt8_ˆ
sÿË
è{  
sÿË8
Õc.
d™h”
<
SLOT
>Õc,…c.
lßdBy‹
<SLOT>(pc,†ane), d), scale); }

356 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË
(
Pix–CÚŒŞËr
 & 
pc
, 
ÏÃ
, ušt8_ˆ
sÿË
è{  
sÿË8
Õc.
lßdBy‹
<
SLOT
>(pc,†ane), scale); }

358 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
advªûAndLßdAndSÿË
(
Pix–CÚŒŞËr
 & 
pc
è{ 
	mpc
.
advªûD©a
(); …c.
	mlßdAndSÿË
<SLOT>(pc); }

359 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
advªûAndLßdAndSÿË
(
Pix–CÚŒŞËr
 & 
pc
, 
ÏÃ
è{ 
	mpc
.
advªûD©a
(); …c.
	mlßdAndSÿË
<SLOT>Õc, 
	mÏÃ
); }

360 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
advªûAndLßdAndSÿË
(
Pix–CÚŒŞËr
 & 
pc
, 
ÏÃ
, ušt8_ˆ
sÿË
è{ 
	mpc
.
advªûD©a
(); …c.
	mlßdAndSÿË
<SLOT>Õc, 
	mÏÃ
, 
	msÿË
); }

362 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
g‘d
(
Pix–CÚŒŞËr
 & 
pc
è{  
	mpc
.
	md
[
RO
(
SLOT
)]; }

363 
	m‹m¶©e
<
	mSLOT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
g‘sÿË
(
Pix–CÚŒŞËr
 & 
pc
è{  
	mpc
.
	mmSÿË
.
	m¿w
[
RO
(
SLOT
)]; }

366 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË0
(
ÏÃ
, ušt8_ˆ
sÿË
è{  
	mlßdAndSÿË
<0>(*
	mthis
, 
	mÏÃ
, 
	msÿË
); }

367 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË1
(
ÏÃ
, ušt8_ˆ
sÿË
è{  
	mlßdAndSÿË
<1>(*
	mthis
, 
	mÏÃ
, 
	msÿË
); }

368 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË2
(
ÏÃ
, ušt8_ˆ
sÿË
è{  
	mlßdAndSÿË
<2>(*
	mthis
, 
	mÏÃ
, 
	msÿË
); }

369 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
advªûAndLßdAndSÿË0
(
ÏÃ
, ušt8_ˆ
sÿË
è{  
	madvªûAndLßdAndSÿË
<0>(*
	mthis
, 
	mÏÃ
, 
	msÿË
); }

370 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
¡•AdvªûAndLßdAndSÿË0
(
ÏÃ
, ušt8_ˆ
sÿË
è{ 
¡•D™h”šg
();  
	madvªûAndLßdAndSÿË
<0>(*
	mthis
, 
	mÏÃ
, 
	msÿË
); }

372 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË0
(
ÏÃ
è{  
	mlßdAndSÿË
<0>(*
	mthis
, 
	mÏÃ
); }

373 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË1
(
ÏÃ
è{  
	mlßdAndSÿË
<1>(*
	mthis
, 
	mÏÃ
); }

374 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË2
(
ÏÃ
è{  
	mlßdAndSÿË
<2>(*
	mthis
, 
	mÏÃ
); }

375 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
advªûAndLßdAndSÿË0
(
ÏÃ
è{  
	madvªûAndLßdAndSÿË
<0>(*
	mthis
, 
	mÏÃ
); }

376 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
¡•AdvªûAndLßdAndSÿË0
(
ÏÃ
è{ 
¡•D™h”šg
();  
	madvªûAndLßdAndSÿË
<0>(*
	mthis
, 
	mÏÃ
); }

378 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË0
(è{  
	mlßdAndSÿË
<0>(*
	mthis
); }

379 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË1
(è{  
	mlßdAndSÿË
<1>(*
	mthis
); }

380 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
lßdAndSÿË2
(è{  
	mlßdAndSÿË
<2>(*
	mthis
); }

381 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
advªûAndLßdAndSÿË0
(è{  
	madvªûAndLßdAndSÿË
<0>(*
	mthis
); }

382 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
¡•AdvªûAndLßdAndSÿË0
(è{ 
¡•D™h”šg
();  
	madvªûAndLßdAndSÿË
<0>(*
	mthis
); }

384 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
g‘SÿË0
(è{  
	mg‘sÿË
<0>(*
	mthis
); }

385 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
g‘SÿË1
(è{  
	mg‘sÿË
<1>(*
	mthis
); }

386 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
g‘SÿË2
(è{  
	mg‘sÿË
<2>(*
	mthis
); }

389 
	g‹m¶©e
<
EOrd”
 
	gRGB_ORDER
, 
	gLANES
=1, 
ušt32_t
 
	gMASK
=0xFFFFFFFF> cÏs 
	cCPix–LEDCÚŒŞËr
 : 
public
 
CLEDCÚŒŞËr
 {

390 
´Ùeùed
:

391 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
,
LANES
,
MASK
> & 
pix–s
) = 0;

397 
vœtu®
 
	$showCŞÜ
(cÚ¡ 
CRGB
 & 
d©a
, 
nLeds
, CRGB 
sÿË
) {

398 
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
MASK
> 
	`pix–s
(
d©a
, 
nLeds
, 
sÿË
, 
	`g‘D™h”
());

399 
	`showPix–s
(
pix–s
);

406 
vœtu®
 
	$show
(cÚ¡ 
CRGB
 *
d©a
, 
nLeds
, CRGB 
sÿË
) {

407 
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
MASK
> 
	`pix–s
(
d©a
, 
nLeds
, 
sÿË
, 
	`g‘D™h”
());

408 
	`showPix–s
(
pix–s
);

409 
	}
}

411 
	gpublic
:

412 
	$CPix–LEDCÚŒŞËr
(è: 
	$CLEDCÚŒŞËr
(è{
	}
}

416 
	gFASTLED_NAMESPACE_END


	@src/cpp_compat.h

1 #iâdeà
__INC_CPP_COMPAT_H


2 
	#__INC_CPP_COMPAT_H


	)

4 
	~"Fa¡LED.h
"

6 #ià
__ılu¥lus
 <= 199711L

8 
	#¡©ic_as£¹
(
ex´essiÚ
, 
mes§ge
)

	)

9 
	#cÚ¡ex´
 cÚ¡

	)

	@src/dmx.h

1 #iâdeà
__INC_DMX_H


2 
	#__INC_DMX_H


	)

4 
	~"Fa¡LED.h
"

6 #ifdeà
DmxSim¶e_h


7 
	~<DmxSim¶e.h
>

8 
	#HAS_DMX_SIMPLE


	)

12 
FASTLED_NAMESPACE_BEGIN


15 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
> 
şass
 
DMXSim¶eCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

16 
public
:

18 
vœtu®
 
š™
(è{ 
DmxSim¶e
.
u£Pš
(
DATA_PIN
); }

20 
	g´Ùeùed
:

21 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

22 
iChªÃl
 = 1;

23 
	gpix–s
.
has
(1)) {

24 
	gDmxSim¶e
.
wr™e
(
iChªÃl
++, 
pix–s
.
lßdAndSÿË0
());

25 
	gDmxSim¶e
.
wr™e
(
iChªÃl
++, 
pix–s
.
lßdAndSÿË1
());

26 
	gDmxSim¶e
.
wr™e
(
iChªÃl
++, 
pix–s
.
lßdAndSÿË2
());

27 
	gpix–s
.
advªûD©a
();

28 
	gpix–s
.
¡•D™h”šg
();

33 
	gFASTLED_NAMESPACE_END


37 #ifdeà
DmxS”Ÿl_h


38 
	~<DMXS”Ÿl.h
>

40 
FASTLED_NAMESPACE_BEGIN


42 
	g‹m¶©e
 <
EOrd”
 
	gRGB_ORDER
 = 
RGB
> 
şass
 
DMXS”ŸlCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

43 
public
:

45 
vœtu®
 
š™
(è{ 
DMXS”Ÿl
.š™(
DMXCÚŒŞËr
); }

47 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

48 
	giChªÃl
 = 1;

49 
	gpix–s
.
has
(1)) {

50 
	gDMXS”Ÿl
.
wr™e
(
iChªÃl
++, 
pix–s
.
lßdAndSÿË0
());

51 
	gDMXS”Ÿl
.
wr™e
(
iChªÃl
++, 
pix–s
.
lßdAndSÿË1
());

52 
	gDMXS”Ÿl
.
wr™e
(
iChªÃl
++, 
pix–s
.
lßdAndSÿË2
());

53 
	gpix–s
.
advªûD©a
();

54 
	gpix–s
.
¡•D™h”šg
();

59 
	gFASTLED_NAMESPACE_END


62 
	#HAS_DMX_SERIAL


	)

	@src/fastled_config.h

1 #iâdeà
__INC_FASTLED_CONFIG_H


2 
	#__INC_FASTLED_CONFIG_H


	)

4 
	~"Fa¡LED.h
"

37 
	#FASTLED_SCALE8_FIXED
 1

	)

46 
	#FASTLED_BLEND_FIXED
 1

	)

55 
	#FASTLED_NOISE_FIXED
 1

	)

60 #iâdeà
FASTLED_INTERRUPT_RETRY_COUNT


61 
	#FASTLED_INTERRUPT_RETRY_COUNT
 2

	)

	@src/fastled_delay.h

1 #iâdeà
__INC_FL_DELAY_H


2 
	#__INC_FL_DELAY_H


	)

4 
	~"Fa¡LED.h
"

9 
FASTLED_NAMESPACE_BEGIN


13 
	g‹m¶©e
<
	gWAIT
> cÏs 
	cCMšWa™
 {

14 
ušt16_t
 
	mmLa¡Miüos
;

16 
	mpublic
:

17 
	$CMšWa™
(è{ 
mLa¡Miüos
 = 0; }

19 
	$wa™
() {

20 
ušt16_t
 
diff
;

22 
diff
 = (
	`miüos
(è& 0xFFFFè- 
mLa¡Miüos
;

23 } 
diff
 < 
WAIT
);

24 
	}
}

26 
	$m¬k
(è{ 
mLa¡Miüos
 = 
	`miüos
(è& 0xFFFF; 
	}
}

39 #ifdeà
ESP32


40 #undeà
NOP


41 #undeà
NOP2


44 #ià
defšed
(
__AVR__
)

45 
	#FL_NOP
 
__asm__
 
	`__vŞ©e__
 ("ı„0,r0\n");

	)

46 
	#FL_NOP2
 
__asm__
 
	`__vŞ©e__
 ("rjm°.+0");

	)

48 
	#FL_NOP
 
__asm__
 
	`__vŞ©e__
 ("nİ\n");

	)

49 
	#FL_NOP2
 
__asm__
 
	`__vŞ©e__
 ("nİ\n\ˆnİ\n");

	)

53 
	g‹m¶©e
<
	gCYCLES
> 
šlše
 
d–aycyşes
();

54 
	g‹m¶©e
<
	gCYCLES
> 
šlše
 
	$d–aycyşes_mš1
() {

55 
d–aycyşes
<1>();

56 
d–aycyşes
<
CYCLES
-1>();

57 
	}
}

63 #ià
defšed
(
FASTLED_AVR
)

65 
	g‹m¶©e
<
	gLOOP
, 
	gPAD
> 
šlše
 
	$_d–aycyşes_AVR
() {

66 
d–aycyşes
<
PAD
>();

70 
__asm__
 
	`__vŞ©e__
 (

75 : "M" (
LOOP
)

78 
	}
}

80 
	g‹m¶©e
<
	gCYCLES
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$d–aycyşes
() {

81 
_d–aycyşes_AVR
<
CYCLES
 / 3, CYCLES % 3>();

82 
	}
}

100 
	g‹m¶©e
<
	gCYCLES
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$d–aycyşes
() {

102 
FL_NOP
; 
d–aycyşes
<
CYCLES
-1>();

103 
	}
}

108 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-10>() {}

109 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-9>() {}

110 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-8>() {}

111 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-7>() {}

112 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-6>() {}

113 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-5>() {}

114 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-4>() {}

115 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-3>() {}

116 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-2>() {}

117 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<-1>() {}

118 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<0>() {}

119 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<1>(è{
	gFL_NOP
;}

120 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<2>(è{
	gFL_NOP2
;}

121 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<3>(è{
	gFL_NOP
;
	gFL_NOP2
;}

122 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<4>(è{
	gFL_NOP2
;FL_NOP2;}

123 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gd–aycyşes
<5>(è{
	gFL_NOP2
;FL_NOP2;
	gFL_NOP
;}

129 
	#F_CPU_MHZ
 (
F_CPU
 / 1000000L)

	)

132 
	#NS
(
_NS
è(((_NS * 
F_CPU_MHZ
è+ 999è/ 1000)

	)

133 
	#CLKS_TO_MICROS
(
_CLKS
è(()(_CLKS)è/ (
F_CPU
 / 1000000L)

	)

136 
	#NO_TIME
(
A
, 
B
, 
C
è(
	`NS
(Aè< 3 || NS(Bè< 3 || NS(Cè< 6)

	)

138 
	gFASTLED_NAMESPACE_END


	@src/fastled_progmem.h

1 #iâdeà
__INC_FL_PROGMEM_H


2 
	#__INC_FL_PROGMEM_H


	)

4 
	~"Fa¡LED.h
"

9 
	gFASTLED_NAMESPACE_BEGIN


24 #ià
FASTLED_USE_PROGMEM
 == 1

25 #iâdeà
FASTLED_INCLUDE_PGMSPACE


26 
	#FASTLED_INCLUDE_PGMSPACE
 1

	)

29 #ià
FASTLED_INCLUDE_PGMSPACE
 == 1

30 
	~<avr/pgm¥aû.h
>

33 
	#FL_PROGMEM
 
PROGMEM


	)

39 
	#FL_PGM_READ_BYTE_NEAR
(
x
è(
	`pgm_»ad_by‹_Ã¬
(x))

	)

40 
	#FL_PGM_READ_WORD_NEAR
(
x
è(
	`pgm_»ad_wÜd_Ã¬
(x))

	)

41 
	#FL_PGM_READ_DWORD_NEAR
(
x
è(
	`pgm_»ad_dwÜd_Ã¬
(x))

	)

44 #ià
__GNUC__
 < 4 || (__GNUC__ =ğ4 && (
__GNUC_MINOR__
 < 6))

45 #ifdeà
FASTLED_AVR


46 #ifdeà
PROGMEM


47 #undeà
PROGMEM


48 
	#PROGMEM
 
	`__©Œibu‹__
((
	`£ùiÚ
(".´ogmem.d©a")))

	)

58 
	#FL_PROGMEM


	)

59 
	#FL_PGM_READ_BYTE_NEAR
(
x
è(*((cÚ¡ 
ušt8_t
*)(x)))

	)

60 
	#FL_PGM_READ_WORD_NEAR
(
x
è(*((cÚ¡ 
ušt16_t
*)(x)))

	)

61 
	#FL_PGM_READ_DWORD_NEAR
(
x
è(*((cÚ¡ 
ušt32_t
*)(x)))

	)

72 #ià
defšed
(
FASTLED_ARM
è|| defšed(
ESP32
è|| defšed(
ESP8266
)

73 
	#FL_ALIGN_PROGMEM
 
	`__©Œibu‹__
 ((
	`®igÃd
 (4)))

	)

75 
	#FL_ALIGN_PROGMEM


	)

79 
	gFASTLED_NAMESPACE_END


	@src/fastpin.h

1 #iâdeà
__INC_FASTPIN_H


2 
	#__INC_FASTPIN_H


	)

4 
	~"Fa¡LED.h
"

6 
	~"Ëd_sysdefs.h
"

7 
	~<¡ddef.h
>

9 #´agm¨
GCC
 
dŸgno¡ic
 
push


10 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wignored-qualifiers"

15 
	gFASTLED_NAMESPACE_BEGIN


17 
	#NO_PIN
 255

	)

25 şas 
	cS–eùabË
 {

26 
	mpublic
:

27 
vœtu®
 
£Ëù
() = 0;

28 
vœtu®
 
»Ëa£
() = 0;

29 
vœtu®
 
boŞ
 
isS–eùed
() = 0;

32 #ià!
defšed
(
FASTLED_NO_PINMAP
)

34 şas 
	cPš
 : 
public
 
S–eùabË
 {

35 vŞ©
RwReg
 *
mPÜt
;

36 vŞ©
RoReg
 *
	mmInPÜt
;

37 
RwReg
 
	mmPšMask
;

38 
ušt8_t
 
	mmPš
;

40 
	$_š™
() {

41 
mPšMask
 = 
	`dig™®PšToB™Mask
(
mPš
);

42 
mPÜt
 = (vŞ©
RwReg
*)
	`pÜtOuutRegi¡”
(
	`dig™®PšToPÜt
(
mPš
));

43 
mInPÜt
 = (vŞ©
RoReg
*)
	`pÜtIÅutRegi¡”
(
	`dig™®PšToPÜt
(
mPš
));

46 
public
:

47 
	$Pš
(
pš
è: 
	$mPš
(
pš
è{ 
	`_š™
(); 
	}
}

49 vŞ©
	tRwReg
 * 
	tpÜt_±r_t
;

50 
RwReg
 
	tpÜt_t
;

52 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
mPš
, 
OUTPUT
); 
	}
}

53 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
mPš
, 
INPUT
); 
	}
}

55 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
mPÜt
 |ğ
mPšMask
; 
	}
}

56 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
mPÜt
 &ğ~
mPšMask
; 
	}
}

58 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

59 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
mInPÜt
 = 
mPšMask
; 
	}
}

61 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆ|ğ
mPšMask
; 
	}
}

62 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆ&ğ~
mPšMask
; 
	}
}

63 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
mPÜt
 = v®; 
	}
}

65 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

67 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  *
mPÜt
 | 
mPšMask
; 
	}
}

68 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  *
mPÜt
 & ~
mPšMask
; 
	}
}

69 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
mPÜt
; 
	}
}

70 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
mPšMask
; 
	}
}

72 
vœtu®
 
	$£Ëù
(è{ 
	`hi
(); 
	}
}

73 
vœtu®
 
	$»Ëa£
(è{ 
	`lo
(); 
	}
}

74 
vœtu®
 
boŞ
 
	$isS–eùed
(è{  (*
mPÜt
 & 
mPšMask
è=ğmPšMask; 
	}
}

77 şas 
	cOuutPš
 : 
public
 
Pš
 {

78 
public
:

79 
	$OuutPš
(
pš
è: 
	$Pš
(
pš
è{ 
	`£tOuut
(); }

80 
	}
};

82 şas 
	cIÅutPš
 : 
public
 
Pš
 {

83 
public
:

84 
	$IÅutPš
(
pš
è: 
	$Pš
(
pš
è{ 
	`£tIÅut
(); }

85 
	}
};

90 şas 
	cPš
 : 
public
 
S–eùabË
 {

91 vŞ©
RwReg
 *
mPÜt
;

92 vŞ©
RoReg
 *
	mmInPÜt
;

93 
RwReg
 
	mmPšMask
;

94 
ušt8_t
 
	mmPš
;

96 
	$_š™
() {

98 
mPšMask
 = 0;

99 
mPÜt
 = 
NULL
;

100 
mInPÜt
 = 
NULL
;

103 
public
:

104 
	$Pš
(
pš
è: 
	$mPš
(
pš
è{ 
	`_š™
(); 
	}
}

106 
	$£tPš
(
pš
è{ 
mPš
 =…š; 
	`_š™
(); 
	}
}

108 vŞ©
	tRwReg
 * 
	tpÜt_±r_t
;

109 
RwReg
 
	tpÜt_t
;

111 
šlše
 
	$£tOuut
(è{ 
	}
}

112 
šlše
 
	$£tIÅut
(è{ 
	}
}

114 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
mPÜt
 |ğ
mPšMask
; 
	}
}

115 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
mPÜt
 &ğ~
mPšMask
; 
	}
}

117 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

118 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
mInPÜt
 = 
mPšMask
; 
	}
}

120 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆ|ğ
mPšMask
; 
	}
}

121 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆ&ğ~
mPšMask
; 
	}
}

122 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
mPÜt
 = v®; 
	}
}

124 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

126 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  *
mPÜt
 | 
mPšMask
; 
	}
}

127 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  *
mPÜt
 & ~
mPšMask
; 
	}
}

128 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
mPÜt
; 
	}
}

129 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
mPšMask
; 
	}
}

131 
vœtu®
 
	$£Ëù
(è{ 
	`hi
(); 
	}
}

132 
vœtu®
 
	$»Ëa£
(è{ 
	`lo
(); 
	}
}

133 
vœtu®
 
boŞ
 
	$isS–eùed
(è{  (*
mPÜt
 & 
mPšMask
è=ğmPšMask; 
	}
}

136 şas 
	cOuutPš
 : 
public
 
Pš
 {

137 
public
:

138 
	$OuutPš
(
pš
è: 
	$Pš
(
pš
è{ 
	`£tOuut
(); }

139 
	}
};

141 şas 
	cIÅutPš
 : 
public
 
Pš
 {

142 
public
:

143 
	$IÅutPš
(
pš
è: 
	$Pš
(
pš
è{ 
	`£tIÅut
(); }

144 
	}
};

162 #ifdeà
FASTLED_FORCE_SOFTWARE_PINS


163 
	g‹m¶©e
<
ušt8_t
 
	gPIN
> cÏs 
	cFa¡Pš
 {

164 
RwReg
 
	msPšMask
;

165 vŞ©
RwReg
 *
	msPÜt
;

166 vŞ©
RoReg
 *
	msInPÜt
;

167 
	$_š™
() {

168 #ià!
	`defšed
(
FASTLED_NO_PINMAP
)

169 
sPšMask
 = 
	`dig™®PšToB™Mask
(
PIN
);

170 
sPÜt
 = 
	`pÜtOuutRegi¡”
(
	`dig™®PšToPÜt
(
PIN
));

171 
sInPÜt
 = 
	`pÜtIÅutRegi¡”
(
	`dig™®PšToPÜt
(
PIN
));

175 
public
:

176 vŞ©
	tRwReg
 * 
	tpÜt_±r_t
;

177 
RwReg
 
	tpÜt_t
;

179 
šlše
 
	$£tOuut
(è{ 
	`_š™
(); 
	`pšMode
(
PIN
, 
OUTPUT
); 
	}
}

180 
šlše
 
	$£tIÅut
(è{ 
	`_š™
(); 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

182 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
sPÜt
 |ğ
sPšMask
; 
	}
}

183 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
sPÜt
 &ğ~
sPšMask
; 
	}
}

185 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

187 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
sInPÜt
 = 
sPšMask
; 
	}
}

189 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆ|ğ
sPšMask
; 
	}
}

190 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆ&ğ~
sPšMask
; 
	}
}

191 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
sPÜt
 = v®; 
	}
}

193 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

195 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  *
sPÜt
 | 
sPšMask
; 
	}
}

196 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  *
sPÜt
 & ~
sPšMask
; 
	}
}

197 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
sPÜt
; 
	}
}

198 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
sPšMask
; 
	}
}

201 
	g‹m¶©e
<
ušt8_t
 
	gPIN
> 
RwReg
 
	gFa¡Pš
<PIN>::
sPšMask
;

202 
	g‹m¶©e
<
ušt8_t
 
	gPIN
> vŞ©
RwReg
 *
	gFa¡Pš
<PIN>::
sPÜt
;

203 
	g‹m¶©e
<
ušt8_t
 
	gPIN
> vŞ©
RoReg
 *
	gFa¡Pš
<PIN>::
sInPÜt
;

207 
	g‹m¶©e
<
ušt8_t
 
	gPIN
> cÏs 
	cFa¡Pš
 {

208 
cÚ¡ex´
 
boŞ
 
	$v®idpš
(è{  
çl£
; }

210 
	`¡©ic_as£¹
(
	`v®idpš
(), "Invalid…in specified");

212 
	$_š™
(è{ 
	}
}

214 
	gpublic
:

215 vŞ©
	tRwReg
 * 
	tpÜt_±r_t
;

216 
RwReg
 
	tpÜt_t
;

218 
šlše
 
	$£tOuut
(è{ 
	}
}

219 
šlše
 
	$£tIÅut
(è{ 
	}
}

221 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	}
}

222 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	}
}

224 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	}
}

226 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	}
}

228 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	}
}

229 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	}
}

230 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	}
}

232 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	}
}

234 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0; 
	}
}

235 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0;
	}
}

236 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
NULL
; 
	}
}

237 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0; 
	}
}

242 
	g‹m¶©e
<
ušt8_t
 
	gPIN
> 
şass
 
	gFa¡PšBB
 : 
public
 
Fa¡Pš
<
PIN
> {};

244 vŞ©
	tušt32_t
 & 
	t»g32_t
;

245 vŞ©
	tušt32_t
 * 
	t±r_»g32_t
;

248 
	g‹m¶©e
<
ušt8_t
 
	gpÜt
> 
	s__FL_PORT_INFO
 {

249 
boŞ
 
hasPÜt
() {  0; }

250 cÚ¡ *
pÜtName
() {  "--"; }

251 cÚ¡ *
pÜtAddr
(è{  
	mNULL
; }

259 
	#_FL_DEFINE_PORT
(
L
, 
BASE
è
‹m¶©e
<> 
__FL_PORT_INFO
<L> { \

260 
boŞ
 
	`hasPÜt
() {  1; } \

261 cÚ¡ *
	`pÜtName
() {  #L; } \

262 
BASE
 
	t__t_ba£Ty³
; \

263 cÚ¡ *
	`pÜtAddr
(è{  (*)&
__t_ba£Ty³
::
	`r
(); } };

	)

265 
	#_FL_DEFINE_PORT3
(
L
, 
LC
, 
BASE
è
‹m¶©e
<> 
__FL_PORT_INFO
<LC> { \

266 
boŞ
 
	`hasPÜt
() {  1; } \

267 cÚ¡ *
	`pÜtName
() {  #L; } \

268 
BASE
 
	t__t_ba£Ty³
; \

269 cÚ¡ *
	`pÜtAddr
(è{  (*)&
__t_ba£Ty³
::
	`r
(); } };

	)

271 
	gFASTLED_NAMESPACE_END


273 #´agm¨
GCC
 
dŸgno¡ic
 
pİ


	@src/fastspi.h

1 #iâdeà
__INC_FASTSPI_H


2 
	#__INC_FASTSPI_H


	)

4 
	~"Fa¡LED.h
"

6 
	~"cÚŒŞËr.h
"

7 
	~"lib8tiÚ.h
"

9 
	~"ç¡¥i_b™bªg.h
"

11 
	gFASTLED_NAMESPACE_BEGIN


13 #ià
defšed
(
FASTLED_TEENSY3
è&& (
F_CPU
 > 48000000)

14 
	#DATA_RATE_MHZ
(
X
è(((48000000L / 1000000Lè/ X))

	)

15 
	#DATA_RATE_KHZ
(
X
è(((48000000L / 1000Lè/ X))

	)

16 #–ià
defšed
(
FASTLED_TEENSY4
)

18 
	#DATA_RATE_MHZ
(
X
è(1000000 * (X))

	)

19 
	#DATA_RATE_KHZ
(
X
è(1000 * (X))

	)

21 
	#DATA_RATE_MHZ
(
X
è((
F_CPU
 / 1000000Lè/ X)

	)

22 
	#DATA_RATE_KHZ
(
X
è((
F_CPU
 / 1000Lè/ X)

	)

32 #ià!
defšed
(
FASTLED_ALL_PINS_HARDWARE_SPI
)

33 
	g‹m¶©e
<
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

34 
şass
 
	gSPIOuut
 : 
public
 
AVRSoáw¬eSPIOuut
<
_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
> {};

37 
	g‹m¶©e
<
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

38 
şass
 
	gSoáw¬eSPIOuut
 : 
public
 
AVRSoáw¬eSPIOuut
<
_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
> {};

40 #iâdeà
FASTLED_FORCE_SOFTWARE_SPI


42 #ià
defšed
(
NRF51
è&& defšed(
FASTLED_ALL_PINS_HARDWARE_SPI
)

43 
	g‹m¶©e
<
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

44 
şass
 
	gSPIOuut
 : 
public
 
NRF51SPIOuut
<
_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
> {};

47 #ià
defšed
(
NRF52_SERIES
è&& defšed(
FASTLED_ALL_PINS_HARDWARE_SPI
)

48 
	g‹m¶©e
<
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

49 
şass
 
	gSPIOuut
 : 
public
 
NRF52SPIOuut
<
_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
> {};

52 #ià
defšed
(
FASTLED_APOLLO3
è&& defšed(
FASTLED_ALL_PINS_HARDWARE_SPI
)

53 
	g‹m¶©e
<
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

54 
şass
 
	gSPIOuut
 : 
public
 
APOLLO3H¬dw¬eSPIOuut
<
_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
> {};

57 #ià
defšed
(
SPI_DATA
è&& defšed(
SPI_CLOCK
)

59 #ià
defšed
(
FASTLED_TEENSY3
è&& defšed(
ARM_HARDWARE_SPI
)

61 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

62 
şass
 
	gSPIOuut
<
	gSPI_DATA
, 
	gSPI_CLOCK
, 
	gSPI_SPEED
> : 
public
 
ARMH¬dw¬eSPIOuut
<
SPI_DATA
, SPI_CLOCK, SPI_SPEED, 0x4002C000> {};

64 #ià
defšed
(
SPI2_DATA
)

66 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

67 
şass
 
	gSPIOuut
<
	gSPI2_DATA
, 
	gSPI2_CLOCK
, 
	gSPI_SPEED
> : 
public
 
ARMH¬dw¬eSPIOuut
<
SPI2_DATA
, SPI2_CLOCK, SPI_SPEED, 0x4002C000> {};

69 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

70 
şass
 
	gSPIOuut
<
	gSPI_DATA
, 
	gSPI2_CLOCK
, 
	gSPI_SPEED
> : 
public
 
ARMH¬dw¬eSPIOuut
<
SPI_DATA
, SPI2_CLOCK, SPI_SPEED, 0x4002C000> {};

72 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

73 
şass
 
	gSPIOuut
<
	gSPI2_DATA
, 
	gSPI_CLOCK
, 
	gSPI_SPEED
> : 
public
 
ARMH¬dw¬eSPIOuut
<
SPI2_DATA
, SPI_CLOCK, SPI_SPEED, 0x4002C000> {};

76 #–ià
defšed
(
FASTLED_TEENSY4
è&& defšed(
ARM_HARDWARE_SPI
)

78 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

79 
şass
 
	gSPIOuut
<
	gSPI_DATA
, 
	gSPI_CLOCK
, 
	gSPI_SPEED
> : 
public
 
T“sy4H¬dw¬eSPIOuut
<
SPI_DATA
, SPI_CLOCK, SPI_SPEED, 
	gSPI
, 0> {};

81 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

82 
şass
 
	gSPIOuut
<
	gSPI1_DATA
, 
	gSPI_CLOCK
, 
	gSPI_SPEED
> : 
public
 
T“sy4H¬dw¬eSPIOuut
<
SPI1_DATA
, 
	gSPI1_CLOCK
, SPI_SPEED, 
	gSPI1
, 1> {};

84 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

85 
şass
 
	gSPIOuut
<
	gSPI2_DATA
, 
	gSPI2_CLOCK
, 
	gSPI_SPEED
> : 
public
 
T“sy4H¬dw¬eSPIOuut
<
SPI2_DATA
, SPI2_CLOCK, SPI_SPEED, 
	gSPI2
, 2> {};

87 #–ià
defšed
(
FASTLED_TEENSYLC
è&& defšed(
ARM_HARDWARE_SPI
)

89 
	#DECLARE_SPI0
(
__DATA
,
__CLOCK
è
‹m¶©e
<
ušt32_t
 
SPI_SPEED
>\

90 
şass
 
SPIOuut
<
__DATA
, 
__CLOCK
, 
SPI_SPEED
> : 
public
 
ARMH¬dw¬eSPIOuut
<__DATA, __CLOCK, SPI_SPEED, 0x40076000> {};

	)

91 
	#DECLARE_SPI1
(
__DATA
,
__CLOCK
è
‹m¶©e
<
ušt32_t
 
SPI_SPEED
>\

92 
şass
 
SPIOuut
<
__DATA
, 
__CLOCK
, 
SPI_SPEED
> : 
public
 
ARMH¬dw¬eSPIOuut
<__DATA, __CLOCK, SPI_SPEED, 0x40077000> {};

	)

94 
DECLARE_SPI0
(7,13);

95 
DECLARE_SPI0
(8,13);

96 
DECLARE_SPI0
(11,13);

97 
DECLARE_SPI0
(12,13);

98 
DECLARE_SPI0
(7,14);

99 
DECLARE_SPI0
(8,14);

100 
DECLARE_SPI0
(11,14);

101 
DECLARE_SPI0
(12,14);

102 
DECLARE_SPI1
(0,20);

103 
DECLARE_SPI1
(1,20);

104 
DECLARE_SPI1
(21,20);

106 #–ià
defšed
(
__SAM3X8E__
)

108 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

109 
şass
 
	gSPIOuut
<
	gSPI_DATA
, 
	gSPI_CLOCK
, 
	gSPI_SPEED
> : 
public
 
SAMH¬dw¬eSPIOuut
<
SPI_DATA
, SPI_CLOCK, SPI_SPEED> {};

111 #–ià
defšed
(
AVR_HARDWARE_SPI
)

113 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

114 
şass
 
	gSPIOuut
<
	gSPI_DATA
, 
	gSPI_CLOCK
, 
	gSPI_SPEED
> : 
public
 
AVRH¬dw¬eSPIOuut
<
SPI_DATA
, SPI_CLOCK, SPI_SPEED> {};

116 #ià
defšed
(
SPI_UART0_DATA
)

118 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

119 
şass
 
	gSPIOuut
<
	gSPI_UART0_DATA
, 
	gSPI_UART0_CLOCK
, 
	gSPI_SPEED
> : 
public
 
AVRUSART0SPIOuut
<
SPI_UART0_DATA
, SPI_UART0_CLOCK, SPI_SPEED> {};

123 #ià
defšed
(
SPI_UART1_DATA
)

125 
	g‹m¶©e
<
ušt32_t
 
	gSPI_SPEED
>

126 
şass
 
	gSPIOuut
<
	gSPI_UART1_DATA
, 
	gSPI_UART1_CLOCK
, 
	gSPI_SPEED
> : 
public
 
AVRUSART1SPIOuut
<
SPI_UART1_DATA
, SPI_UART1_CLOCK, SPI_SPEED> {};

133 #ià!
defšed
(
FASTLED_INTERNAL
è&& !defšed(
FASTLED_ALL_PINS_HARDWARE_SPI
)

134 #ifdeà
FASTLED_HAS_PRAGMA_MESSAGE


135 #´agm¨
mes§ge
 "No hardware SPI…ins defined. All SPI‡ccess will defaulto bitbanged output"

148 #ià!
defšed
(
FASTLED_INTERNAL
è&& !defšed(
FASTLED_ALL_PINS_HARDWARE_SPI
)

149 #ifdeà
FASTLED_HAS_PRAGMA_MESSAGE


150 #´agm¨
mes§ge
 "Forcing software SPI -‚o hardware SPI for you!"

157 
	gFASTLED_NAMESPACE_END


	@src/fastspi_bitbang.h

1 #iâdeà
__INC_FASTSPI_BITBANG_H


2 
	#__INC_FASTSPI_BITBANG_H


	)

4 
	~"Fa¡LED.h
"

6 
	~"ç¡Ëd_d–ay.h
"

8 
FASTLED_NAMESPACE_BEGIN


18 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, ušt8_ˆ
	gCLOCK_PIN
, 
ušt32_t
 
	gSPI_SPEED
>

19 şas 
	cAVRSoáw¬eSPIOuut
 {

22 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

23 
ty³Çme
 
	tFa¡Pš
<
	tCLOCK_PIN
>::
	tpÜt_±r_t
 
	tşock_±r_t
;

27 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

28 
ty³Çme
 
	tFa¡Pš
<
	tCLOCK_PIN
>::
	tpÜt_t
 
	tşock_t
;

29 
S–eùabË
 *
	mm_pS–eù
;

31 
	mpublic
:

32 
	$AVRSoáw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; }

33 
	$AVRSoáw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

34 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

36 
	$š™
() {

39 
Fa¡Pš
<
DATA_PIN
>::
	`£tOuut
();

40 
Fa¡Pš
<
CLOCK_PIN
>::
	`£tOuut
();

41 
	`»Ëa£
();

42 
	}
}

45 
	$¡İ
(è{ 
	}
}

48 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	}
}

49 
	$wa™FuÎy
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	}
}

51 
	$wr™eBy‹NoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wr™eBy‹
(b); 
	}
}

52 
	$wr™eBy‹Po¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wr™eBy‹
(b); 
	`wa™
(); 
	}
}

54 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wr™eBy‹
(w>>8); wr™eBy‹(w&0xFF); 
	}
}

57 
	$wr™eBy‹
(
ušt8_t
 
b
) {

58 
wr™eB™
<7>(
b
);

59 
wr™eB™
<6>(
b
);

60 
wr™eB™
<5>(
b
);

61 
wr™eB™
<4>(
b
);

62 
wr™eB™
<3>(
b
);

63 
wr™eB™
<2>(
b
);

64 
wr™eB™
<1>(
b
);

65 
wr™eB™
<0>(
b
);

66 
	}
}

68 
	g´iv©e
:

70 
	$wr™eBy‹
(
ušt8_t
 
b
, 
şock_±r_t
 
şockpš
, 
d©a_±r_t
 
d©­š
) {

71 
wr™eB™
<7>(
b
, 
şockpš
, 
d©­š
);

72 
wr™eB™
<6>(
b
, 
şockpš
, 
d©­š
);

73 
wr™eB™
<5>(
b
, 
şockpš
, 
d©­š
);

74 
wr™eB™
<4>(
b
, 
şockpš
, 
d©­š
);

75 
wr™eB™
<3>(
b
, 
şockpš
, 
d©­š
);

76 
wr™eB™
<2>(
b
, 
şockpš
, 
d©­š
);

77 
wr™eB™
<1>(
b
, 
şockpš
, 
d©­š
);

78 
wr™eB™
<0>(
b
, 
şockpš
, 
d©­š
);

79 
	}
}

84 
	$wr™eBy‹
(
ušt8_t
 
b
, 
d©a_±r_t
 
d©­š
,

85 
d©a_t
 
hiv®
, d©a_ˆ
lov®
,

86 
şock_t
 
hişock
, clock_ˆ
loşock
) {

87 
wr™eB™
<7>(
b
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

88 
wr™eB™
<6>(
b
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

89 
wr™eB™
<5>(
b
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

90 
wr™eB™
<4>(
b
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

91 
wr™eB™
<3>(
b
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

92 
wr™eB™
<2>(
b
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

93 
wr™eB™
<1>(
b
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

94 
wr™eB™
<0>(
b
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

95 
	}
}

100 
	$wr™eBy‹
(
ušt8_t
 
b
, 
şock_±r_t
 
şockpš
, 
d©a_±r_t
 
d©­š
,

101 
d©a_t
 
hiv®
, d©a_ˆ
lov®
,

102 
şock_t
 
hişock
, clock_ˆ
loşock
) {

103 
wr™eB™
<7>(
b
, 
şockpš
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

104 
wr™eB™
<6>(
b
, 
şockpš
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

105 
wr™eB™
<5>(
b
, 
şockpš
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

106 
wr™eB™
<4>(
b
, 
şockpš
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

107 
wr™eB™
<3>(
b
, 
şockpš
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

108 
wr™eB™
<2>(
b
, 
şockpš
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

109 
wr™eB™
<1>(
b
, 
şockpš
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

110 
wr™eB™
<0>(
b
, 
şockpš
, 
d©­š
, 
hiv®
, 
lov®
, 
hişock
, 
loşock
);

111 
	}
}

113 
	gpublic
:

116 #ià
	$defšed
(
FASTLED_TEENSY4
)

117 
	#DELAY_NS
 (1000 / (
SPI_SPEED
/1000000))

	)

118 
	#CLOCK_HI_DELAY
 dØ{ 
	`d–ayNªo£cÚds
((
DELAY_NS
/4)); 
	}
} 0);

	)

119 
	#CLOCK_LO_DELAY
 dØ{ 
	`d–ayNªo£cÚds
((
DELAY_NS
/4)); } 0);

	)

121 
	#MIN_DELAY
 ((
	`NS
(35)>3è? (NS(35è- 3è: 1)

	)

123 
	#CLOCK_HI_DELAY
 dØ{ 
d–aycyşes
<
MIN_DELAY
>(); d–aycyşes<((
SPI_SPEED
 > 10è? (((SPI_SPEED-6è/ 2è- MIN_DELAYè: (SPI_SPEED))>(); } 0);

	)

124 
	#CLOCK_LO_DELAY
 dØ{ 
d–aycyşes
<((
SPI_SPEED
 > 10è? ((SPI_SPEED-6è/ 2è: (SPI_SPEED))>(); } 0);

	)

128 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
__©Œibu‹__
((
®ways_šlše
, 
hÙ
)è
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

130 if(
b
 & (1 << 
BIT
)) {

131 
Fa¡Pš
<
DATA_PIN
>::
	`hi
();

132 #ifdeà
ESP32


134 
Fa¡Pš
<
CLOCK_PIN
>::
	`lo
();

135 
Fa¡Pš
<
CLOCK_PIN
>::
	`hi
(); 
CLOCK_HI_DELAY
;

136 
Fa¡Pš
<
CLOCK_PIN
>::
	`toggË
(); 
CLOCK_LO_DELAY
;

138 
Fa¡Pš
<
CLOCK_PIN
>::
	`hi
(); 
CLOCK_HI_DELAY
;

139 
Fa¡Pš
<
CLOCK_PIN
>::
	`lo
(); 
CLOCK_LO_DELAY
;

142 
Fa¡Pš
<
DATA_PIN
>::
	`lo
();

143 
Fa¡Pš
<
CLOCK_PIN
>::
	`hi
(); 
CLOCK_HI_DELAY
;

144 #ifdeà
ESP32


146 
Fa¡Pš
<
CLOCK_PIN
>::
	`toggË
(); 
CLOCK_HI_DELAY
;

148 
Fa¡Pš
<
CLOCK_PIN
>::
	`lo
(); 
CLOCK_LO_DELAY
;

152 
	}
}

154 
	g´iv©e
:

156 
‹m¶©e
 <
ušt8_t
 
BIT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$wr™eB™
(
ušt8_t
 
b
, 
şock_±r_t
 
şockpš
, 
d©a_±r_t
 
d©­š
) {

157 if(
b
 & (1 << 
BIT
)) {

158 
Fa¡Pš
<
DATA_PIN
>::
	`hi
(
d©­š
);

159 
Fa¡Pš
<
CLOCK_PIN
>::
	`hi
(
şockpš
); 
CLOCK_HI_DELAY
;

160 
Fa¡Pš
<
CLOCK_PIN
>::
	`lo
(
şockpš
); 
CLOCK_LO_DELAY
;

162 
Fa¡Pš
<
DATA_PIN
>::
	`lo
(
d©­š
);

163 
Fa¡Pš
<
CLOCK_PIN
>::
	`hi
(
şockpš
); 
CLOCK_HI_DELAY
;

164 
Fa¡Pš
<
CLOCK_PIN
>::
	`lo
(
şockpš
); 
CLOCK_LO_DELAY
;

167 
	}
}

171 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$wr™eB™
(
ušt8_t
 
b
, 
şock_±r_t
 
şockpš
, 
d©a_±r_t
 
d©­š
,

172 
d©a_t
 
hiv®
, d©a_ˆ
lov®
, 
şock_t
 
hişock
, clock_ˆ
loşock
) {

174 if(
b
 & (1 << 
BIT
)) {

175 
Fa¡Pš
<
DATA_PIN
>::
	`ç¡£t
(
d©­š
, 
hiv®
);

176 
Fa¡Pš
<
CLOCK_PIN
>::
	`ç¡£t
(
şockpš
, 
hişock
); 
CLOCK_HI_DELAY
;

177 
Fa¡Pš
<
CLOCK_PIN
>::
	`ç¡£t
(
şockpš
, 
loşock
); 
CLOCK_LO_DELAY
;

180 
Fa¡Pš
<
DATA_PIN
>::
	`ç¡£t
(
d©­š
, 
lov®
);

181 
Fa¡Pš
<
CLOCK_PIN
>::
	`ç¡£t
(
şockpš
, 
hişock
); 
CLOCK_HI_DELAY
;

182 
Fa¡Pš
<
CLOCK_PIN
>::
	`ç¡£t
(
şockpš
, 
loşock
); 
CLOCK_LO_DELAY
;

184 
	}
}

188 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$wr™eB™
(
ušt8_t
 
b
, 
d©a_±r_t
 
şockd©­š
,

189 
d©a_t
 
d©ahişockhi
, d©a_ˆ
d©®oşockhi
,

190 
d©a_t
 
d©ahişocklo
, d©a_ˆ
d©®oşocklo
) {

192 
wr™eB™
<
BIT
>(
b
);

194 if(
b
 & (1 << 
BIT
)) {

195 
Fa¡Pš
<
DATA_PIN
>::
	`ç¡£t
(
şockd©­š
, 
d©ahişocklo
);

196 
Fa¡Pš
<
DATA_PIN
>::
	`ç¡£t
(
şockd©­š
, 
d©ahişockhi
); 
CLOCK_HI_DELAY
;

197 
Fa¡Pš
<
DATA_PIN
>::
	`ç¡£t
(
şockd©­š
, 
d©ahişocklo
); 
CLOCK_LO_DELAY
;

200 
Fa¡Pš
<
DATA_PIN
>::
	`ç¡£t
(
şockd©­š
, 
d©®oşocklo
);

201 
Fa¡Pš
<
DATA_PIN
>::
	`ç¡£t
(
şockd©­š
, 
d©®oşockhi
); 
CLOCK_HI_DELAY
;

202 
Fa¡Pš
<
DATA_PIN
>::
	`ç¡£t
(
şockd©­š
, 
d©®oşocklo
); 
CLOCK_LO_DELAY
;

205 
	}
}

207 
	gpublic
:

211 
	$£Ëù
(è{ if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); } 
	}
}

214 
	$»Ëa£
(è{ if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); } 
	}
}

217 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

218 
	`£Ëù
();

219 
	`wr™eBy‹sV®ueRaw
(
v®ue
, 
Ën
);

220 
	`»Ëa£
();

221 
	}
}

223 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

224 #ifdeà
FAST_SPI_INTERRUPTS_WRITE_PINS


228 
Ën
--) {

229 
	`wr™eBy‹
(
v®ue
);

232 
d©a_±r_t
 
d©­š
 = 
Fa¡Pš
<
DATA_PIN
>::
	`pÜt
();

234 if(
Fa¡Pš
<
DATA_PIN
>::
	`pÜt
(è!ğFa¡Pš<
CLOCK_PIN
>::port()) {

237 
şock_±r_t
 
şockpš
 = 
Fa¡Pš
<
CLOCK_PIN
>::
	`pÜt
();

238 
d©a_t
 
d©ahi
 = 
Fa¡Pš
<
DATA_PIN
>::
	`hiv®
();

239 
d©a_t
 
d©®o
 = 
Fa¡Pš
<
DATA_PIN
>::
	`lov®
();

240 
şock_t
 
şockhi
 = 
Fa¡Pš
<
CLOCK_PIN
>::
	`hiv®
();

241 
şock_t
 
şocklo
 = 
Fa¡Pš
<
CLOCK_PIN
>::
	`lov®
();

242 
Ën
--) {

243 
	`wr™eBy‹
(
v®ue
, 
şockpš
, 
d©­š
, 
d©ahi
, 
d©®o
, 
şockhi
, 
şocklo
);

248 
d©a_t
 
d©ahi_şockhi
 = 
Fa¡Pš
<
DATA_PIN
>::
	`hiv®
(è| Fa¡Pš<
CLOCK_PIN
>::
	`mask
();

249 
d©a_t
 
d©®o_şockhi
 = 
Fa¡Pš
<
DATA_PIN
>::
	`lov®
(è| Fa¡Pš<
CLOCK_PIN
>::
	`mask
();

250 
d©a_t
 
d©ahi_şocklo
 = 
Fa¡Pš
<
DATA_PIN
>::
	`hiv®
(è& ~Fa¡Pš<
CLOCK_PIN
>::
	`mask
();

251 
d©a_t
 
d©®o_şocklo
 = 
Fa¡Pš
<
DATA_PIN
>::
	`lov®
(è& ~Fa¡Pš<
CLOCK_PIN
>::
	`mask
();

253 
Ën
--) {

254 
	`wr™eBy‹
(
v®ue
, 
d©­š
, 
d©ahi_şockhi
, 
d©®o_şockhi
, 
d©ahi_şocklo
, 
d©®o_şocklo
);

258 
	}
}

262 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

263 
	`£Ëù
();

264 #ifdeà
FAST_SPI_INTERRUPTS_WRITE_PINS


265 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

266 
d©a
 !ğ
’d
) {

267 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

270 
şock_±r_t
 
şockpš
 = 
Fa¡Pš
<
CLOCK_PIN
>::
	`pÜt
();

271 
d©a_±r_t
 
d©­š
 = 
Fa¡Pš
<
DATA_PIN
>::
	`pÜt
();

273 if(
Fa¡Pš
<
DATA_PIN
>::
	`pÜt
(è!ğFa¡Pš<
CLOCK_PIN
>::port()) {

276 
d©a_t
 
d©ahi
 = 
Fa¡Pš
<
DATA_PIN
>::
	`hiv®
();

277 
d©a_t
 
d©®o
 = 
Fa¡Pš
<
DATA_PIN
>::
	`lov®
();

278 
şock_t
 
şockhi
 = 
Fa¡Pš
<
CLOCK_PIN
>::
	`hiv®
();

279 
şock_t
 
şocklo
 = 
Fa¡Pš
<
CLOCK_PIN
>::
	`lov®
();

280 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

282 
d©a
 !ğ
’d
) {

283 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++), 
şockpš
, 
d©­š
, 
d©ahi
, 
d©®o
, 
şockhi
, 
şocklo
);

289 
d©a_t
 
d©ahi_şockhi
 = 
Fa¡Pš
<
DATA_PIN
>::
	`hiv®
(è| Fa¡Pš<
CLOCK_PIN
>::
	`mask
();

290 
d©a_t
 
d©®o_şockhi
 = 
Fa¡Pš
<
DATA_PIN
>::
	`lov®
(è| Fa¡Pš<
CLOCK_PIN
>::
	`mask
();

291 
d©a_t
 
d©ahi_şocklo
 = 
Fa¡Pš
<
DATA_PIN
>::
	`hiv®
(è& ~Fa¡Pš<
CLOCK_PIN
>::
	`mask
();

292 
d©a_t
 
d©®o_şocklo
 = 
Fa¡Pš
<
DATA_PIN
>::
	`lov®
(è& ~Fa¡Pš<
CLOCK_PIN
>::
	`mask
();

294 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

296 
d©a
 !ğ
’d
) {

297 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++), 
d©­š
, 
d©ahi_şockhi
, 
d©®o_şockhi
, 
d©ahi_şocklo
, 
d©®o_şocklo
);

302 
D
::
	`po¡Block
(
Ën
);

303 
	`»Ëa£
();

304 
	}
}

307 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

313 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
__©Œibu‹__
((
nošlše
)è
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

314 
£Ëù
();

315 
	gËn
 = 
pix–s
.
mL’
;

317 #ifdeà
FAST_SPI_INTERRUPTS_WRITE_PINS


320 
	gpix–s
.
has
(1)) {

321 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

322 
	gwr™eB™
<0>(1);

324 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

325 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

326 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

327 
	gpix–s
.
advªûD©a
();

328 
	gpix–s
.
¡•D™h”šg
();

333 
d©a_±r_t
 
	gd©­š
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

335 if(
	gFa¡Pš
<
	gDATA_PIN
>::
pÜt
(è!ğ
Fa¡Pš
<
CLOCK_PIN
>::port()) {

336 
şock_±r_t
 
şockpš
 = 
Fa¡Pš
<
CLOCK_PIN
>::
pÜt
();

339 
d©a_t
 
	gd©ahi
 = 
Fa¡Pš
<
DATA_PIN
>::
hiv®
();

340 
d©a_t
 
	gd©®o
 = 
Fa¡Pš
<
DATA_PIN
>::
lov®
();

341 
şock_t
 
	gşockhi
 = 
Fa¡Pš
<
CLOCK_PIN
>::
hiv®
();

342 
şock_t
 
	gşocklo
 = 
Fa¡Pš
<
CLOCK_PIN
>::
lov®
();

344 
	gpix–s
.
has
(1)) {

345 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

346 
	gwr™eB™
<0>(1, 
	gşockpš
, 
	gd©­š
, 
	gd©ahi
, 
	gd©®o
, 
	gşockhi
, 
	gşocklo
);

348 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()), 
şockpš
, 
d©­š
, 
d©ahi
, 
d©®o
, 
şockhi
, 
şocklo
);

349 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()), 
şockpš
, 
d©­š
, 
d©ahi
, 
d©®o
, 
şockhi
, 
şocklo
);

350 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()), 
şockpš
, 
d©­š
, 
d©ahi
, 
d©®o
, 
şockhi
, 
şocklo
);

351 
	gpix–s
.
advªûD©a
();

352 
	gpix–s
.
¡•D™h”šg
();

357 
d©a_t
 
	gd©ahi_şockhi
 = 
Fa¡Pš
<
DATA_PIN
>::
hiv®
(è| Fa¡Pš<
CLOCK_PIN
>::
mask
();

358 
d©a_t
 
	gd©®o_şockhi
 = 
Fa¡Pš
<
DATA_PIN
>::
lov®
(è| Fa¡Pš<
CLOCK_PIN
>::
mask
();

359 
d©a_t
 
	gd©ahi_şocklo
 = 
Fa¡Pš
<
DATA_PIN
>::
hiv®
(è& ~Fa¡Pš<
CLOCK_PIN
>::
mask
();

360 
d©a_t
 
	gd©®o_şocklo
 = 
Fa¡Pš
<
DATA_PIN
>::
lov®
(è& ~Fa¡Pš<
CLOCK_PIN
>::
mask
();

362 
	gpix–s
.
has
(1)) {

363 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

364 
	gwr™eB™
<0>(1, 
	gd©­š
, 
	gd©ahi_şockhi
, 
	gd©®o_şockhi
, 
	gd©ahi_şocklo
, 
	gd©®o_şocklo
);

366 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()), 
d©­š
, 
d©ahi_şockhi
, 
d©®o_şockhi
, 
d©ahi_şocklo
, 
d©®o_şocklo
);

367 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()), 
d©­š
, 
d©ahi_şockhi
, 
d©®o_şockhi
, 
d©ahi_şocklo
, 
d©®o_şocklo
);

368 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()), 
d©­š
, 
d©ahi_şockhi
, 
d©®o_şockhi
, 
d©ahi_şocklo
, 
d©®o_şocklo
);

369 
	gpix–s
.
advªûD©a
();

370 
	gpix–s
.
¡•D™h”šg
();

374 
	gD
::
po¡Block
(
Ën
);

375 
»Ëa£
();

379 
	gFASTLED_NAMESPACE_END


	@src/fastspi_dma.h

	@src/fastspi_nop.h

1 #iâdeà
__INC_FASTSPI_NOP_H


2 
	#__INC_FASTSPI_NOP_H


	)

6 
	~"Fa¡LED.h
"

8 
FASTLED_NAMESPACE_BEGIN


13 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

14 şas 
	cNOPSPIOuut
 {

15 
S–eùabË
 *
	mm_pS–eù
;

17 
	mpublic
:

18 
	$NOPSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; }

19 
	$NOPSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

22 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

25 
	$š™
(è{ 
	}
}

28 
	$£Ëù
(è{ 
	}
}

31 
	$»Ëa£
(è{ 
	}
}

34 
wa™FuÎy
();

37 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
è{ 
	}
}

40 
	$wr™eBy‹
(
ušt8_t
 
b
è{ 
	}
}

42 
	$wr™eWÜd
(
ušt16_t
 
w
è{ 
	}
}

45 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
è{ 
	}
}

48 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
è{ 
	}
}

51 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
	}
}

54 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
è{ 
	}
}

57 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) { }

61 
	gFASTLED_NAMESPACE_END


	@src/fastspi_ref.h

1 #iâdeà
__INC_FASTSPI_ARM_SAM_H


2 
	#__INC_FASTSPI_ARM_SAM_H


	)

5 
	~"Fa¡LED.h
"

7 
FASTLED_NAMESPACE_BEGIN


11 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

12 şas 
	cREFH¬dw¬eSPIOuut
 {

13 
S–eùabË
 *
	mm_pS–eù
;

15 
	mpublic
:

16 
	$SAMH¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; }

17 
	$SAMHArdw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

20 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
	}
}

23 
	$š™
(è{ 
	}
}

26 
šlše
 
	$£Ëù
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); } 
	}
}

29 
šlše
 
	$»Ëa£
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); } 
	}
}

32 
	$wa™FuÎy
(è{ 
	}
}

35 
	$wr™eBy‹
(
ušt8_t
 
b
è{ 
	}
}

38 
	$wr™eWÜd
(
ušt16_t
 
w
è{ 
	}
}

41 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

42 
Ën
--è{ 
	`wr™eBy‹
(
v®ue
); }

43 
	}
}

46 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

47 
	`£Ëù
(); 
	`wr™eBy‹sV®ueRaw
(
v®ue
, 
Ën
); 
	`»Ëa£
();

48 
	}
}

51 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

52 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

53 
	`£Ëù
();

55 
d©a
 !ğ
’d
) {

56 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

58 
D
::
	`po¡Block
(
Ën
);

59 
	`wa™FuÎy
();

60 
	`»Ëa£
();

61 
	}
}

64 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

67 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
è{ 
	}
}

71 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

72 
£Ëù
();

73 
	gd©a
 !ğ
’d
) {

74 if(
FLAGS
 & 
FLAG_START_BIT
) {

75 
wr™eB™
<0>(1);

77 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

78 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

79 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

81 
	gpix–s
.
advªûD©a
();

82 
	gpix–s
.
¡•D™h”šg
();

83 
	gd©a
 +ğ(3+
sk
);

85 
	gD
::
po¡Block
(
Ën
);

86 
»Ëa£
();

91 
	gFASTLED_NAMESPACE_END


	@src/fastspi_types.h

1 #iâdeà
__INC_FASTSPI_TYPES_H


2 
	#__INC_FASTSPI_TYPES_H


	)

4 
	~"Fa¡LED.h
"

6 
	gFASTLED_NAMESPACE_BEGIN


9 
	#SPI_B0
 (
	`RGB_BYTE0
(
RGB_ORDER
è+ (
MASK_SKIP_BITS
 & 
SKIP
))

	)

10 
	#SPI_B1
 (
	`RGB_BYTE1
(
RGB_ORDER
è+ (
MASK_SKIP_BITS
 & 
SKIP
))

	)

11 
	#SPI_B2
 (
	`RGB_BYTE2
(
RGB_ORDER
è+ (
MASK_SKIP_BITS
 & 
SKIP
))

	)

12 
	#SPI_ADVANCE
 (3 + (
MASK_SKIP_BITS
 & 
SKIP
))

	)

20 şas 
	cDATA_NOP
 {

21 
	mpublic
:

22 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
	$adju¡
(
ušt8_t
 
d©a
) {  data; }

23 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
ušt8_t
 
	$adju¡
(
ušt8_t
 
d©a
, ušt8_ˆ
sÿË
è{  
	`sÿË8
(d©a, sÿË); 
	}
}

24 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$po¡Block
(è{ 
	}
}

27 
	#FLAG_START_BIT
 0x80

	)

28 
	#MASK_SKIP_BITS
 0x3F

	)

31 
	#SPEED_DIV_2
 2

	)

32 
	#SPEED_DIV_4
 4

	)

33 
	#SPEED_DIV_8
 8

	)

34 
	#SPEED_DIV_16
 16

	)

35 
	#SPEED_DIV_32
 32

	)

36 
	#SPEED_DIV_64
 64

	)

37 
	#SPEED_DIV_128
 128

	)

39 
	#MAX_DATA_RATE
 0

	)

41 
	gFASTLED_NAMESPACE_END


	@src/hsv2rgb.cpp

1 
	#FASTLED_INTERNAL


	)

2 
	~<¡dšt.h
>

4 
	~"Fa¡LED.h
"

6 
FASTLED_NAMESPACE_BEGIN


50 
hsv2rgb_¿w_C
 (cÚ¡ 
CHSV
 & 
hsv
, 
CRGB
 & 
rgb
);

51 
hsv2rgb_¿w_avr
(cÚ¡ 
CHSV
 & 
hsv
, 
CRGB
 & 
rgb
);

53 #ià
defšed
(
__AVR__
è&& !defšedĞ
LIB8_ATTINY
 )

54 
	$hsv2rgb_¿w
(cÚ¡ 
CHSV
 & 
hsv
, 
CRGB
 & 
rgb
)

56 
	`hsv2rgb_¿w_avr
Ğ
hsv
, 
rgb
);

57 
	}
}

59 
	$hsv2rgb_¿w
(cÚ¡ 
CHSV
 & 
hsv
, 
CRGB
 & 
rgb
)

61 
	`hsv2rgb_¿w_C
Ğ
hsv
, 
rgb
);

62 
	}
}

67 
	#APPLY_DIMMING
(
X
è(X)

	)

68 
	#HSV_SECTION_6
 (0x20)

	)

69 
	#HSV_SECTION_3
 (0x40)

	)

71 
	$hsv2rgb_¿w_C
 (cÚ¡ 
CHSV
 & 
hsv
, 
CRGB
 & 
rgb
)

78 
ušt8_t
 
v®ue
 = 
	`APPLY_DIMMING
Ğ
hsv
.
v®
);

79 
ušt8_t
 
§tu¿tiÚ
 = 
hsv
.
§t
;

83 
ušt8_t
 
šv§t
 = 
	`APPLY_DIMMING
Ğ255 - 
§tu¿tiÚ
);

84 
ušt8_t
 
brighŠess_æoÜ
 = (
v®ue
 * 
šv§t
) / 256;

89 
ušt8_t
 
cŞÜ_am¶™ude
 = 
v®ue
 - 
brighŠess_æoÜ
;

93 
ušt8_t
 
£ùiÚ
 = 
hsv
.
hue
 / 
HSV_SECTION_3
;

94 
ušt8_t
 
off£t
 = 
hsv
.
hue
 % 
HSV_SECTION_3
;

96 
ušt8_t
 
¿mpup
 = 
off£t
;

97 
ušt8_t
 
¿mpdown
 = (
HSV_SECTION_3
 - 1è- 
off£t
;

129 
ušt8_t
 
¿mpup_amp_adj
 = (
¿mpup
 * 
cŞÜ_am¶™ude
) / (256 / 4);

130 
ušt8_t
 
¿mpdown_amp_adj
 = (
¿mpdown
 * 
cŞÜ_am¶™ude
) / (256 / 4);

133 
ušt8_t
 
¿mpup_adj_w™h_æoÜ
 = 
¿mpup_amp_adj
 + 
brighŠess_æoÜ
;

134 
ušt8_t
 
¿mpdown_adj_w™h_æoÜ
 = 
¿mpdown_amp_adj
 + 
brighŠess_æoÜ
;

137 ifĞ
£ùiÚ
 ) {

138 ifĞ
£ùiÚ
 == 1) {

140 
rgb
.
r
 = 
brighŠess_æoÜ
;

141 
rgb
.
g
 = 
¿mpdown_adj_w™h_æoÜ
;

142 
rgb
.
b
 = 
¿mpup_adj_w™h_æoÜ
;

145 
rgb
.
r
 = 
¿mpup_adj_w™h_æoÜ
;

146 
rgb
.
g
 = 
brighŠess_æoÜ
;

147 
rgb
.
b
 = 
¿mpdown_adj_w™h_æoÜ
;

151 
rgb
.
r
 = 
¿mpdown_adj_w™h_æoÜ
;

152 
rgb
.
g
 = 
¿mpup_adj_w™h_æoÜ
;

153 
rgb
.
b
 = 
brighŠess_æoÜ
;

155 
	}
}

159 #ià
defšed
(
__AVR__
è&& !defšedĞ
LIB8_ATTINY
 )

160 
	$hsv2rgb_¿w_avr
(cÚ¡ 
CHSV
 & 
hsv
, 
CRGB
 & 
rgb
)

162 
ušt8_t
 
hue
, 
§tu¿tiÚ
, 
v®ue
;

164 
hue
 = 
hsv
.hue;

165 
§tu¿tiÚ
 = 
hsv
.
§t
;

166 
v®ue
 = 
hsv
.
v®
;

169 
§tu¿tiÚ
 = 255 - saturation;

170 
ušt8_t
 
šv§t
 = 
	`APPLY_DIMMING
Ğ
§tu¿tiÚ
 );

173 
v®ue
 = 
	`APPLY_DIMMING
( value );

177 
ušt8_t
 
brighŠess_æoÜ
;

179 
asm
 volatile(

182 : [
brighŠess_æoÜ
] "=r" (brightness_floor)

183 : [
v®ue
] "r" (value),

184 [
šv§t
] "r" (invsat)

191 
ušt8_t
 
cŞÜ_am¶™ude
 = 
v®ue
 - 
brighŠess_æoÜ
;

195 
ušt8_t
 
off£t
 = 
hsv
.
hue
 & (
HSV_SECTION_3
 - 1);

196 
ušt8_t
 
¿mpup
 = 
off£t
 * 4;

200 
ušt8_t
 
¿mpup_amp_adj
;

201 
ušt8_t
 
¿mpdown_amp_adj
;

203 
asm
 volatile(

209 : [
¿mpup_amp_adj
] "=&r" (rampup_amp_adj),

210 [
¿mpdown_amp_adj
] "=&r" (rampdown_amp_adj),

211 [
¿mpup
] "+r" (rampup)

212 : [
cŞÜ_am¶™ude
] "r" (color_amplitude)

218 
ušt8_t
 
¿mpup_adj_w™h_æoÜ
 = 
¿mpup_amp_adj
 + 
brighŠess_æoÜ
;

219 
ušt8_t
 
¿mpdown_adj_w™h_æoÜ
 = 
¿mpdown_amp_adj
 + 
brighŠess_æoÜ
;

228 
asm
 volatile( "" : : : "r26", "r27" );

231 ifĞ
hue
 & 0x80 ) {

233 
rgb
.
r
 = 
¿mpup_adj_w™h_æoÜ
;

234 
rgb
.
g
 = 
brighŠess_æoÜ
;

235 
rgb
.
b
 = 
¿mpdown_adj_w™h_æoÜ
;

237 ifĞ
hue
 & 0x40) {

239 
rgb
.
r
 = 
brighŠess_æoÜ
;

240 
rgb
.
g
 = 
¿mpdown_adj_w™h_æoÜ
;

241 
rgb
.
b
 = 
¿mpup_adj_w™h_æoÜ
;

244 
rgb
.
r
 = 
¿mpdown_adj_w™h_æoÜ
;

245 
rgb
.
g
 = 
¿mpup_adj_w™h_æoÜ
;

246 
rgb
.
b
 = 
brighŠess_æoÜ
;

250 
	`ş—nup_R1
();

251 
	}
}

256 
	$hsv2rgb_¥eùrum
ĞcÚ¡ 
CHSV
& 
hsv
, 
CRGB
& 
rgb
)

258 
CHSV
 
	`hsv2
(
hsv
);

259 
hsv2
.
hue
 = 
	`sÿË8
( hsv2.hue, 191);

260 
	`hsv2rgb_¿w
(
hsv2
, 
rgb
);

261 
	}
}

270 
	#FORCE_REFERENCE
(
v¬
è
asm
 vŞ©eĞ"" : : "r" (v¬è)

	)

273 
	#K255
 255

	)

274 
	#K171
 171

	)

275 
	#K170
 170

	)

276 
	#K85
 85

	)

278 
	$hsv2rgb_¿šbow
ĞcÚ¡ 
CHSV
& 
hsv
, 
CRGB
& 
rgb
)

288 cÚ¡ 
ušt8_t
 
Y1
 = 1;

289 cÚ¡ 
ušt8_t
 
Y2
 = 0;

293 cÚ¡ 
ušt8_t
 
G2
 = 0;

297 cÚ¡ 
ušt8_t
 
GsÿË
 = 0;

300 
ušt8_t
 
hue
 = 
hsv
.hue;

301 
ušt8_t
 
§t
 = 
hsv
.sat;

302 
ušt8_t
 
v®
 = 
hsv
.val;

304 
ušt8_t
 
off£t
 = 
hue
 & 0x1F;

307 
ušt8_t
 
off£t8
 = 
off£t
;

309 #ià
	`defšed
(
__AVR__
)

313 
off£t8
 <<= 1;

314 
asm
 volatile("");

315 
off£t8
 <<= 1;

316 
asm
 volatile("");

317 
off£t8
 <<= 1;

320 
off£t8
 <<= 3;

324 
ušt8_t
 
thœd
 = 
	`sÿË8
Ğ
off£t8
, (256 / 3));

326 
ušt8_t
 
r
, 
g
, 
b
;

328 ifĞ! (
hue
 & 0x80) ) {

330 ifĞ! (
hue
 & 0x40) ) {

333 ifĞ! (
hue
 & 0x20) ) {

336 
r
 = 
K255
 - 
thœd
;

337 
g
 = 
thœd
;

338 
b
 = 0;

339 
	`FORCE_REFERENCE
(
b
);

343 ifĞ
Y1
 ) {

344 
r
 = 
K171
;

345 
g
 = 
K85
 + 
thœd
 ;

346 
b
 = 0;

347 
	`FORCE_REFERENCE
(
b
);

349 ifĞ
Y2
 ) {

350 
r
 = 
K170
 + 
thœd
;

352 
ušt8_t
 
twÙhœds
 = 
	`sÿË8
Ğ
off£t8
, ((256 * 2) / 3));

353 
g
 = 
K85
 + 
twÙhœds
;

354 
b
 = 0;

355 
	`FORCE_REFERENCE
(
b
);

361 ifĞ! (
hue
 & 0x20) ) {

364 ifĞ
Y1
 ) {

366 
ušt8_t
 
twÙhœds
 = 
	`sÿË8
Ğ
off£t8
, ((256 * 2) / 3));

367 
r
 = 
K171
 - 
twÙhœds
;

368 
g
 = 
K170
 + 
thœd
;

369 
b
 = 0;

370 
	`FORCE_REFERENCE
(
b
);

372 ifĞ
Y2
 ) {

373 
r
 = 
K255
 - 
off£t8
;

374 
g
 = 
K255
;

375 
b
 = 0;

376 
	`FORCE_REFERENCE
(
b
);

381 
r
 = 0;

382 
	`FORCE_REFERENCE
(
r
);

383 
g
 = 
K255
 - 
thœd
;

384 
b
 = 
thœd
;

390 ifĞ! (
hue
 & 0x40) ) {

392 ifĞ! ( 
hue
 & 0x20) ) {

395 
r
 = 0;

396 
	`FORCE_REFERENCE
(
r
);

398 
ušt8_t
 
twÙhœds
 = 
	`sÿË8
Ğ
off£t8
, ((256 * 2) / 3));

399 
g
 = 
K171
 - 
twÙhœds
;

400 
b
 = 
K85
 + 
twÙhœds
;

405 
r
 = 
thœd
;

406 
g
 = 0;

407 
	`FORCE_REFERENCE
(
g
);

408 
b
 = 
K255
 - 
thœd
;

412 ifĞ! (
hue
 & 0x20) ) {

415 
r
 = 
K85
 + 
thœd
;

416 
g
 = 0;

417 
	`FORCE_REFERENCE
(
g
);

418 
b
 = 
K171
 - 
thœd
;

423 
r
 = 
K170
 + 
thœd
;

424 
g
 = 0;

425 
	`FORCE_REFERENCE
(
g
);

426 
b
 = 
K85
 - 
thœd
;

434 ifĞ
G2
 ) 
g
 = g >> 1;

435 ifĞ
GsÿË
 ) 
g
 = 
	`sÿË8_video_LEAVING_R1_DIRTY
( g, Gscale);

439 ifĞ
§t
 != 255 ) {

440 ifĞ
§t
 == 0) {

441 
r
 = 255; 
b
 = 255; 
g
 = 255;

444 #ià(
FASTLED_SCALE8_FIXED
==1)

445 ifĞ
r
 )„ = 
	`sÿË8_LEAVING_R1_DIRTY
Ğr, 
§t
);

446 ifĞ
g
 ) g = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg, 
§t
);

447 ifĞ
b
 ) b = 
	`sÿË8_LEAVING_R1_DIRTY
Ğb, 
§t
);

449 ifĞ
r
 )„ = 
	`sÿË8_LEAVING_R1_DIRTY
Ğr, 
§t
) + 1;

450 ifĞ
g
 ) g = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg, 
§t
) + 1;

451 ifĞ
b
 ) b = 
	`sÿË8_LEAVING_R1_DIRTY
Ğb, 
§t
) + 1;

453 
	`ş—nup_R1
();

455 
ušt8_t
 
de§t
 = 255 - 
§t
;

456 
de§t
 = 
	`sÿË8
( desat, desat);

458 
ušt8_t
 
brighŠess_æoÜ
 = 
de§t
;

459 
r
 +ğ
brighŠess_æoÜ
;

460 
g
 +ğ
brighŠess_æoÜ
;

461 
b
 +ğ
brighŠess_æoÜ
;

466 ifĞ
v®
 != 255 ) {

468 
v®
 = 
	`sÿË8_video_LEAVING_R1_DIRTY
( val, val);

469 ifĞ
v®
 == 0 ) {

470 
r
=0; 
g
=0; 
b
=0;

473 #ià(
FASTLED_SCALE8_FIXED
==1)

474 ifĞ
r
 )„ = 
	`sÿË8_LEAVING_R1_DIRTY
Ğr, 
v®
);

475 ifĞ
g
 ) g = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg, 
v®
);

476 ifĞ
b
 ) b = 
	`sÿË8_LEAVING_R1_DIRTY
Ğb, 
v®
);

478 ifĞ
r
 )„ = 
	`sÿË8_LEAVING_R1_DIRTY
Ğr, 
v®
) + 1;

479 ifĞ
g
 ) g = 
	`sÿË8_LEAVING_R1_DIRTY
Ğg, 
v®
) + 1;

480 ifĞ
b
 ) b = 
	`sÿË8_LEAVING_R1_DIRTY
Ğb, 
v®
) + 1;

482 
	`ş—nup_R1
();

492 
rgb
.
r
 =„;

493 
rgb
.
g
 = g;

494 
rgb
.
b
 = b;

495 
	}
}

498 
	$hsv2rgb_¿w
(cÚ¡ 
CHSV
 * 
phsv
, 
CRGB
 * 
´gb
, 
numLeds
) {

499 
i
 = 0; i < 
numLeds
; ++i) {

500 
	`hsv2rgb_¿w
(
phsv
[
i
], 
´gb
[i]);

502 
	}
}

504 
	$hsv2rgb_¿šbow
ĞcÚ¡ 
CHSV
* 
phsv
, 
CRGB
 * 
´gb
, 
numLeds
) {

505 
i
 = 0; i < 
numLeds
; ++i) {

506 
	`hsv2rgb_¿šbow
(
phsv
[
i
], 
´gb
[i]);

508 
	}
}

510 
	$hsv2rgb_¥eùrum
ĞcÚ¡ 
CHSV
* 
phsv
, 
CRGB
 * 
´gb
, 
numLeds
) {

511 
i
 = 0; i < 
numLeds
; ++i) {

512 
	`hsv2rgb_¥eùrum
(
phsv
[
i
], 
´gb
[i]);

514 
	}
}

518 
	#FIXFRAC8
(
N
,
D
è(((N)*256)/(D))

	)

523 
CHSV
 
	$rgb2hsv_­´oxim©e
ĞcÚ¡ 
CRGB
& 
rgb
)

525 
ušt8_t
 
r
 = 
rgb
.r;

526 
ušt8_t
 
g
 = 
rgb
.g;

527 
ušt8_t
 
b
 = 
rgb
.b;

528 
ušt8_t
 
h
, 
s
, 
v
;

531 
ušt8_t
 
de§t
 = 255;

532 ifĞ
r
 < 
de§t
) desat =„;

533 ifĞ
g
 < 
de§t
) desat = g;

534 ifĞ
b
 < 
de§t
) desat = b;

537 
r
 -ğ
de§t
;

538 
g
 -ğ
de§t
;

539 
b
 -ğ
de§t
;

547 
s
 = 255 - 
de§t
;

550 ifĞ
s
 != 255 ) {

552 
s
 = 255 - 
	`sq¹16
( (255-s) * 256);

562 ifĞ(
r
 + 
g
 + 
b
) == 0) {

564  
	`CHSV
Ğ0, 0, 255 - 
s
);

568 ifĞ
s
 < 255) {

569 ifĞ
s
 == 0) s = 1;

570 
ušt32_t
 
sÿËup
 = 65535 / (
s
);

571 
r
 = ((
ušt32_t
)Ôè* 
sÿËup
) / 256;

572 
g
 = ((
ušt32_t
)(gè* 
sÿËup
) / 256;

573 
b
 = ((
ušt32_t
)(bè* 
sÿËup
) / 256;

579 
ušt16_t
 
tÙ®
 = 
r
 + 
g
 + 
b
;

584 ifĞ
tÙ®
 < 255) {

585 ifĞ
tÙ®
 == 0)otal = 1;

586 
ušt32_t
 
sÿËup
 = 65535 / (
tÙ®
);

587 
r
 = ((
ušt32_t
)Ôè* 
sÿËup
) / 256;

588 
g
 = ((
ušt32_t
)(gè* 
sÿËup
) / 256;

589 
b
 = ((
ušt32_t
)(bè* 
sÿËup
) / 256;

595 ifĞ
tÙ®
 > 255 ) {

596 
v
 = 255;

598 
v
 = 
	`qadd8
(
de§t
,
tÙ®
);

600 ifĞ
v
 !ğ255èv = 
	`sq¹16
( v * 256);

612 ifĞ
v
 != 255) {

615 
ušt16_t
 
s16
;

616 
s16
 = (
s
 * 256);

617 
s16
 /ğ
v
;

619 ifĞ
s16
 < 256) {

620 
s
 = 
s16
;

622 
s
 = 255;

637 
ušt8_t
 
highe¡
 = 
r
;

638 ifĞ
g
 > 
highe¡
) highest = g;

639 ifĞ
b
 > 
highe¡
) highest = b;

641 ifĞ
highe¡
 =ğ
r
 ) {

644 ifĞ
g
 == 0 ) {

646 
h
 = (
HUE_PURPLE
 + 
HUE_PINK
) / 2;

647 
h
 +ğ
	`sÿË8
Ğ
	`qsub8
(
r
, 128), 
	`FIXFRAC8
(48,128));

648 } iàĞ(
r
 - 
g
) > g) {

650 
h
 = 
HUE_RED
;

651 
h
 +ğ
	`sÿË8
Ğ
g
, 
	`FIXFRAC8
(32,85));

654 
h
 = 
HUE_ORANGE
;

655 
h
 +ğ
	`sÿË8
Ğ
	`qsub8
((
g
 - 85è+ (171 - 
r
), 4), 
	`FIXFRAC8
(32,85));

658 } iàĞ
highe¡
 =ğ
g
) {

661 ifĞ
b
 == 0) {

665 
h
 = 
HUE_YELLOW
;

666 
ušt8_t
 
¿dj
 = 
	`sÿË8
Ğ
	`qsub8
(171,
r
), 47);

667 
ušt8_t
 
gadj
 = 
	`sÿË8
Ğ
	`qsub8
(
g
,171), 96);

668 
ušt8_t
 
rgadj
 = 
¿dj
 + 
gadj
;

669 
ušt8_t
 
hu—dv
 = 
rgadj
 / 2;

670 
h
 +ğ
hu—dv
;

675 ifĞ(
g
-
b
) > b) {

676 
h
 = 
HUE_GREEN
;

677 
h
 +ğ
	`sÿË8
Ğ
b
, 
	`FIXFRAC8
(32,85));

679 
h
 = 
HUE_AQUA
;

680 
h
 +ğ
	`sÿË8
Ğ
	`qsub8
(
b
, 85), 
	`FIXFRAC8
(8,42));

687 ifĞ
r
 == 0) {

689 
h
 = 
HUE_AQUA
 + ((
HUE_BLUE
 - HUE_AQUA) / 4);

690 
h
 +ğ
	`sÿË8
Ğ
	`qsub8
(
b
, 128), 
	`FIXFRAC8
(24,128));

691 } iàĞ(
b
-
r
) >„) {

693 
h
 = 
HUE_BLUE
;

694 
h
 +ğ
	`sÿË8
Ğ
r
, 
	`FIXFRAC8
(32,85));

697 
h
 = 
HUE_PURPLE
;

698 
h
 +ğ
	`sÿË8
Ğ
	`qsub8
(
r
, 85), 
	`FIXFRAC8
(32,85));

702 
h
 += 1;

703  
	`CHSV
Ğ
h
, 
s
, 
v
);

704 
	}
}

714 
	gFASTLED_NAMESPACE_END


	@src/hsv2rgb.h

1 #iâdeà
__INC_HSV2RGB_H


2 
	#__INC_HSV2RGB_H


	)

4 
	~"Fa¡LED.h
"

6 
	~"pix–ty³s.h
"

8 
FASTLED_NAMESPACE_BEGIN


18 
hsv2rgb_¿šbow
ĞcÚ¡ 
CHSV
& 
hsv
, 
CRGB
& 
rgb
);

19 
hsv2rgb_¿šbow
ĞcÚ¡ 
CHSV
* 
phsv
, 
CRGB
 * 
´gb
, 
numLeds
);

20 
	#HUE_MAX_RAINBOW
 255

	)

31 
hsv2rgb_¥eùrum
ĞcÚ¡ 
CHSV
& 
hsv
, 
CRGB
& 
rgb
);

32 
hsv2rgb_¥eùrum
ĞcÚ¡ 
CHSV
* 
phsv
, 
CRGB
 * 
´gb
, 
numLeds
);

33 
	#HUE_MAX_SPECTRUM
 255

	)

47 
hsv2rgb_¿w
(cÚ¡ 
CHSV
& 
hsv
, 
CRGB
 & 
rgb
);

48 
hsv2rgb_¿w
(cÚ¡ 
CHSV
* 
phsv
, 
CRGB
 * 
´gb
, 
numLeds
);

49 
	#HUE_MAX
 191

	)

87 
CHSV
 
rgb2hsv_­´oxim©e
ĞcÚ¡ 
CRGB
& 
rgb
);

89 
	gFASTLED_NAMESPACE_END


	@src/led_sysdefs.h

1 #iâdeà
__INC_LED_SYSDEFS_H


2 
	#__INC_LED_SYSDEFS_H


	)

4 
	~"Fa¡LED.h
"

6 
	~"ç¡Ëd_cÚfig.h
"

8 #ià
defšed
(
NRF51
è|| defšed(
__RFdušo__
è|| defšed (
__SimbËe__
)

9 
	~"¶©fÜms/¬m/Äf51/Ëd_sysdefs_¬m_Äf51.h
"

10 #–ià
defšed
(
NRF52_SERIES
)

11 
	~"¶©fÜms/¬m/Äf52/Ëd_sysdefs_¬m_Äf52.h
"

12 #–ià
defšed
(
__MK20DX128__
è|| defšed(
__MK20DX256__
)

14 
	~"¶©fÜms/¬m/k20/Ëd_sysdefs_¬m_k20.h
"

15 #–ià
defšed
(
__MK66FX1M0__
è|| defšed(
__MK64FX512__
)

17 
	~"¶©fÜms/¬m/k66/Ëd_sysdefs_¬m_k66.h
"

18 #–ià
defšed
(
__MKL26Z64__
)

20 
	~"¶©fÜms/¬m/kl26/Ëd_sysdefs_¬m_kl26.h
"

21 #–ià
defšed
(
__IMXRT1062__
)

23 
	~"¶©fÜms/¬m/mx¹1062/Ëd_sysdefs_¬m_mx¹1062.h
"

24 #–ià
defšed
(
__SAM3X8E__
)

26 
	~"¶©fÜms/¬m/§m/Ëd_sysdefs_¬m_§m.h
"

27 #–ià
defšed
(
STM32F10X_MD
è|| defšed(
__STM32F1__
)

28 
	~"¶©fÜms/¬m/¡m32/Ëd_sysdefs_¬m_¡m32.h
"

29 #–ià
defšed
(
__SAMD21G18A__
è|| defšed(
__SAMD21J18A__
è|| defšed(
__SAMD21E17A__
è|| defšed(
__SAMD21E18A__
è|| defšed(
__SAMD51G19A__
è|| defšed(
__SAMD51J19A__
)

30 
	~"¶©fÜms/¬m/d21/Ëd_sysdefs_¬m_d21.h
"

31 #–ià
defšed
(
ESP8266
)

32 
	~"¶©fÜms/e¥/8266/Ëd_sysdefs_e¥8266.h
"

33 #–ià
defšed
(
ESP32
)

34 
	~"¶©fÜms/e¥/32/Ëd_sysdefs_e¥32.h
"

35 #–ià
defšed
(
__AVR__
è|| defšed(
__AVR_ATmega4809__
)

37 
	~"¶©fÜms/avr/Ëd_sysdefs_avr.h
"

38 #–ià
defšed
(
ARDUINO_ARCH_APOLLO3
)

40 
	~"¶©fÜms/­Şlo3/Ëd_sysdefs_­Şlo3.h
"

56 #iâdeà
FASTLED_NAMESPACE_BEGIN


57 
	#FASTLED_NAMESPACE_BEGIN


	)

58 
	#FASTLED_NAMESPACE_END


	)

59 
	#FASTLED_USING_NAMESPACE


	)

63 #ifdeà
ARDUINO


64 
	~<Ardušo.h
>

67 
	#CLKS_PER_US
 (
F_CPU
/1000000)

	)

	@src/lib8tion.cpp

1 
	#FASTLED_INTERNAL


	)

2 
	~<¡dšt.h
>

3 
	~"Fa¡LED.h
"

5 
	gFASTLED_NAMESPACE_BEGIN


7 
	#RAND16_SEED
 1337

	)

8 
ušt16_t
 
	g¿nd16£ed
 = 
RAND16_SEED
;

29 #ià
defšed
(
__AVR__
)

32 * 
mem£t8
 ( * 
±r
, 
ušt8_t
 
v®
, 
ušt16_t
 
num
 )

34 
asm
 volatile(

48 : [
num
] "+r" (num)

49 : [
±r
] "r" (ptr),

50 [
v®
] "r" (val)

53  
±r
;

59 * 
memıy8
 ( * 
d¡
, cÚ¡ * 
¤c
, 
ušt16_t
 
num
 )

61 
asm
 volatile(

78 : [
num
] "+r" (num)

79 : [
¤c
] "r" (src),

80 [
d¡
] "r" (dst)

83  
d¡
;

87 * 
memmove8
 ( * 
d¡
, cÚ¡ * 
¤c
, 
ušt16_t
 
num
 )

89 ifĞ
¤c
 > 
d¡
) {

91  
memıy8
Ğ
d¡
, 
¤c
, 
num
);

94 
d¡
 = (*)d¡ + 
num
;

95 
¤c
 = (*)¤ø+ 
num
;

96 
asm
 volatile(

113 : [
num
] "+r" (num)

114 : [
¤c
] "r" (src),

115 [
d¡
] "r" (dst)

118  
d¡
;

132 
	~<Ardušo.h
>

133 
	~"lib8tiÚ.h
"

135 
	$‹¡1abs
Ğ
št8_t
 
i
)

137 
S”Ÿl
.
	`´št
("abs("); S”Ÿl.´št(
i
); Serial.print(") = ");

138 
št8_t
 
j
 = 
	`abs8
(
i
);

139 
S”Ÿl
.
	`´št
(
j
); S”Ÿl.
	`´šn
(" ");

140 
	}
}

142 
	$‹¡abs
()

144 
	`d–ay
(5000);

145  
št8_t
 
q
 = -128; q != 127; ++q) {

146 
	`‹¡1abs
(
q
);

149 
	}
}

152 
	$‹¡mul8
()

154 
	`d–ay
(5000);

155 
by‹
 
r
, 
c
;

157 
S”Ÿl
.
	`´šn
("mul8:");

158  
r
 = 0;„ <= 20;„ += 1) {

159 
S”Ÿl
.
	`´št
(
r
); Serial.print(" : ");

160  
c
 = 0; c <= 20; c += 1) {

161 
by‹
 
t
;

162 
t
 = 
	`mul8
Ğ
r
, 
c
);

163 
S”Ÿl
.
	`´št
(
t
); Serial.print(' ');

165 
S”Ÿl
.
	`´šn
(' ');

167 
S”Ÿl
.
	`´šn
("done.");

169 
	}
}

172 
	$‹¡sÿË8
()

174 
	`d–ay
(5000);

175 
by‹
 
r
, 
c
;

177 
S”Ÿl
.
	`´šn
("scale8:");

178  
r
 = 0;„ <= 240;„ += 10) {

179 
S”Ÿl
.
	`´št
(
r
); Serial.print(" : ");

180  
c
 = 0; c <= 240; c += 10) {

181 
by‹
 
t
;

182 
t
 = 
	`sÿË8
Ğ
r
, 
c
);

183 
S”Ÿl
.
	`´št
(
t
); Serial.print(' ');

185 
S”Ÿl
.
	`´šn
(' ');

188 
S”Ÿl
.
	`´šn
(' ');

189 
S”Ÿl
.
	`´šn
("scale8_video:");

191  
r
 = 0;„ <= 100;„ += 4) {

192 
S”Ÿl
.
	`´št
(
r
); Serial.print(" : ");

193  
c
 = 0; c <= 100; c += 4) {

194 
by‹
 
t
;

195 
t
 = 
	`sÿË8_video
Ğ
r
, 
c
);

196 
S”Ÿl
.
	`´št
(
t
); Serial.print(' ');

198 
S”Ÿl
.
	`´šn
(' ');

201 
S”Ÿl
.
	`´šn
("done.");

203 
	}
}

207 
	$‹¡qadd8
()

209 
	`d–ay
(5000);

210 
by‹
 
r
, 
c
;

211  
r
 = 0;„ <= 240;„ += 10) {

212 
S”Ÿl
.
	`´št
(
r
); Serial.print(" : ");

213  
c
 = 0; c <= 240; c += 10) {

214 
by‹
 
t
;

215 
t
 = 
	`qadd8
Ğ
r
, 
c
);

216 
S”Ÿl
.
	`´št
(
t
); Serial.print(' ');

218 
S”Ÿl
.
	`´šn
(' ');

220 
S”Ÿl
.
	`´šn
("done.");

222 
	}
}

224 
	$‹¡nsÿË8x3
()

226 
	`d–ay
(5000);

227 
by‹
 
r
, 
g
, 
b
, 
sc
;

228  
by‹
 
z
 = 0; z < 10; ++z) {

229 
r
 = 
	`¿ndom8
(); 
g
 =„ªdom8(); 
b
 =„ªdom8(); 
sc
 =„andom8();

231 
S”Ÿl
.
	`´št
("nscale8x3_video( ");

232 
S”Ÿl
.
	`´št
(
r
); Serial.print(", ");

233 
S”Ÿl
.
	`´št
(
g
); Serial.print(", ");

234 
S”Ÿl
.
	`´št
(
b
); Serial.print(", ");

235 
S”Ÿl
.
	`´št
(
sc
); Serial.print(") = [ ");

237 
	`nsÿË8x3_video
Ğ
r
, 
g
, 
b
, 
sc
);

239 
S”Ÿl
.
	`´št
(
r
); Serial.print(", ");

240 
S”Ÿl
.
	`´št
(
g
); Serial.print(", ");

241 
S”Ÿl
.
	`´št
(
b
); Serial.print("]");

243 
S”Ÿl
.
	`´šn
(' ');

245 
S”Ÿl
.
	`´šn
("done.");

247 
	}
}

251 
FASTLED_NAMESPACE_END


	@src/lib8tion.h

1 #iâdeà
__INC_LIB8TION_H


2 
	#__INC_LIB8TION_H


	)

4 
	~"Fa¡LED.h
"

6 #iâdeà
__INC_LED_SYSDEFS_H


7 #”rÜ 
WTH
? 
Ëd_sysdefs
 
Ãeds
 
to
 
be
 
šşuded
 
fœ¡


10 
	gFASTLED_NAMESPACE_BEGIN


176 
	~<¡dšt.h
>

178 
	#LIB8STATIC
 
	`__©Œibu‹__
 ((
unu£d
)è
šlše


	)

179 
	#LIB8STATIC_ALWAYS_INLINE
 
	`__©Œibu‹__
 ((
®ways_šlše
)è
šlše


	)

181 #ià!
defšed
(
__AVR__
)

182 
	~<¡ršg.h
>

186 #ià
defšed
(
__¬m__
)

188 #ià
defšed
(
FASTLED_TEENSY3
)

190 
	#QADD8_C
 0

	)

191 
	#QADD7_C
 0

	)

192 
	#QADD8_ARM_DSP_ASM
 1

	)

193 
	#QADD7_ARM_DSP_ASM
 1

	)

196 
	#QADD8_C
 1

	)

197 
	#QADD7_C
 1

	)

200 
	#QSUB8_C
 1

	)

201 
	#SCALE8_C
 1

	)

202 
	#SCALE16BY8_C
 1

	)

203 
	#SCALE16_C
 1

	)

204 
	#ABS8_C
 1

	)

205 
	#MUL8_C
 1

	)

206 
	#QMUL8_C
 1

	)

207 
	#ADD8_C
 1

	)

208 
	#SUB8_C
 1

	)

209 
	#EASE8_C
 1

	)

210 
	#AVG8_C
 1

	)

211 
	#AVG7_C
 1

	)

212 
	#AVG16_C
 1

	)

213 
	#AVG15_C
 1

	)

214 
	#BLEND8_C
 1

	)

218 #–ià
defšed
(
ARDUINO_ARCH_APOLLO3
)

221 
	#QADD8_C
 1

	)

222 
	#QADD7_C
 1

	)

223 
	#QSUB8_C
 1

	)

224 
	#SCALE8_C
 1

	)

225 
	#SCALE16BY8_C
 1

	)

226 
	#SCALE16_C
 1

	)

227 
	#ABS8_C
 1

	)

228 
	#MUL8_C
 1

	)

229 
	#QMUL8_C
 1

	)

230 
	#ADD8_C
 1

	)

231 
	#SUB8_C
 1

	)

232 
	#EASE8_C
 1

	)

233 
	#AVG8_C
 1

	)

234 
	#AVG7_C
 1

	)

235 
	#AVG16_C
 1

	)

236 
	#AVG15_C
 1

	)

237 
	#BLEND8_C
 1

	)

241 #–ià
defšed
(
__AVR__
)

245 
	#QADD8_C
 0

	)

246 
	#QADD7_C
 0

	)

247 
	#QSUB8_C
 0

	)

248 
	#ABS8_C
 0

	)

249 
	#ADD8_C
 0

	)

250 
	#SUB8_C
 0

	)

251 
	#AVG8_C
 0

	)

252 
	#AVG7_C
 0

	)

253 
	#AVG16_C
 0

	)

254 
	#AVG15_C
 0

	)

256 
	#QADD8_AVRASM
 1

	)

257 
	#QADD7_AVRASM
 1

	)

258 
	#QSUB8_AVRASM
 1

	)

259 
	#ABS8_AVRASM
 1

	)

260 
	#ADD8_AVRASM
 1

	)

261 
	#SUB8_AVRASM
 1

	)

262 
	#AVG8_AVRASM
 1

	)

263 
	#AVG7_AVRASM
 1

	)

264 
	#AVG16_AVRASM
 1

	)

265 
	#AVG15_AVRASM
 1

	)

269 #ià!
defšed
(
LIB8_ATTINY
)

270 
	#SCALE8_C
 0

	)

271 
	#SCALE16BY8_C
 0

	)

272 
	#SCALE16_C
 0

	)

273 
	#MUL8_C
 0

	)

274 
	#QMUL8_C
 0

	)

275 
	#EASE8_C
 0

	)

276 
	#BLEND8_C
 0

	)

277 
	#SCALE8_AVRASM
 1

	)

278 
	#SCALE16BY8_AVRASM
 1

	)

279 
	#SCALE16_AVRASM
 1

	)

280 
	#MUL8_AVRASM
 1

	)

281 
	#QMUL8_AVRASM
 1

	)

282 
	#EASE8_AVRASM
 1

	)

283 
	#CLEANUP_R1_AVRASM
 1

	)

284 
	#BLEND8_AVRASM
 1

	)

287 
	#SCALE8_C
 1

	)

288 
	#SCALE16BY8_C
 1

	)

289 
	#SCALE16_C
 1

	)

290 
	#MUL8_C
 1

	)

291 
	#QMUL8_C
 1

	)

292 
	#EASE8_C
 1

	)

293 
	#BLEND8_C
 1

	)

294 
	#SCALE8_AVRASM
 0

	)

295 
	#SCALE16BY8_AVRASM
 0

	)

296 
	#SCALE16_AVRASM
 0

	)

297 
	#MUL8_AVRASM
 0

	)

298 
	#QMUL8_AVRASM
 0

	)

299 
	#EASE8_AVRASM
 0

	)

300 
	#BLEND8_AVRASM
 0

	)

309 
	#QADD8_C
 1

	)

310 
	#QADD7_C
 1

	)

311 
	#QSUB8_C
 1

	)

312 
	#SCALE8_C
 1

	)

313 
	#SCALE16BY8_C
 1

	)

314 
	#SCALE16_C
 1

	)

315 
	#ABS8_C
 1

	)

316 
	#MUL8_C
 1

	)

317 
	#QMUL8_C
 1

	)

318 
	#ADD8_C
 1

	)

319 
	#SUB8_C
 1

	)

320 
	#EASE8_C
 1

	)

321 
	#AVG8_C
 1

	)

322 
	#AVG7_C
 1

	)

323 
	#AVG16_C
 1

	)

324 
	#AVG15_C
 1

	)

325 
	#BLEND8_C
 1

	)

362 
ušt8_t
 
	täaù8
;

366 
št8_t
 
	tsäaù7
;

370 
ušt16_t
 
	täaù16
;

374 
št16_t
 
	tsäaù15
;

381 
ušt16_t
 
	taccum88
;

382 
št16_t
 
	t§ccum78
;

383 
ušt32_t
 
	taccum1616
;

384 
št32_t
 
	t§ccum1516
;

385 
ušt16_t
 
	taccum124
;

386 
št32_t
 
	t§ccum114
;

391 
ušt32_t
 
	mi
;

392 
	mf
;

394 
ušt32_t
 
	mmªtis§
: 23;

395 
ušt32_t
 
	mexpÚ’t
: 8;

396 
ušt32_t
 
	msignb™
: 1;

399 
ušt32_t
 
	mmªt7
 : 7;

400 
ušt32_t
 
	mmªt16
: 16;

401 
ušt32_t
 
	mexp_
 : 8;

402 
ušt32_t
 
	msb_
 : 1;

405 
ušt32_t
 
	mmªt_lo8
 : 8;

406 
ušt32_t
 
	mmªt_hi16_exp_lo1
 : 16;

407 
ušt32_t
 
	msb_exphi7
 : 8;

409 } 
	tIEEE754bš¬y32_t
;

411 
	~"lib8tiÚ/m©h8.h
"

412 
	~"lib8tiÚ/sÿË8.h
"

413 
	~"lib8tiÚ/¿ndom8.h
"

414 
	~"lib8tiÚ/Œig8.h
"

432 
LIB8STATIC
 
	$säaù15ToFlßt
Ğ
säaù15
 
y
)

434  
y
 / 32768.0;

435 
	}
}

441 
LIB8STATIC
 
säaù15
 
	$æßtToSäaù15
Ğ
f
)

443  
f
 * 32768.0;

444 
	}
}

454 #ià
defšed
(
__AVR__
)

456 * 
memmove8
Ğ* 
d¡
, cÚ¡ * 
¤c
, 
ušt16_t
 
num
 );

457 * 
memıy8
 ( * 
d¡
, cÚ¡ * 
¤c
, 
ušt16_t
 
num
 ) 
__©Œibu‹__
 ((
nošlše
));

458 * 
mem£t8
 ( * 
±r
, 
ušt8_t
 
v®ue
, 
ušt16_t
 
num
 ) 
__©Œibu‹__
 ((
nošlše
)) ;

462 
	#memmove8
 
memmove


	)

463 
	#memıy8
 
memıy


	)

464 
	#mem£t8
 
mem£t


	)

484 
LIB8STATIC
 
ušt8_t
 
	$Ë½8by8
Ğ
ušt8_t
 
a
, ušt8_ˆ
b
, 
äaù8
 
äac
)

486 
ušt8_t
 
»suÉ
;

487 ifĞ
b
 > 
a
) {

488 
ušt8_t
 
d–
 = 
b
 - 
a
;

489 
ušt8_t
 
sÿËd
 = 
	`sÿË8
Ğ
d–
, 
äac
);

490 
»suÉ
 = 
a
 + 
sÿËd
;

492 
ušt8_t
 
d–
 = 
a
 - 
b
;

493 
ušt8_t
 
sÿËd
 = 
	`sÿË8
Ğ
d–
, 
äac
);

494 
»suÉ
 = 
a
 - 
sÿËd
;

496  
»suÉ
;

497 
	}
}

501 
LIB8STATIC
 
ušt16_t
 
	$Ë½16by16
Ğ
ušt16_t
 
a
, ušt16_ˆ
b
, 
äaù16
 
äac
)

503 
ušt16_t
 
»suÉ
;

504 ifĞ
b
 > 
a
 ) {

505 
ušt16_t
 
d–
 = 
b
 - 
a
;

506 
ušt16_t
 
sÿËd
 = 
	`sÿË16
(
d–
, 
äac
);

507 
»suÉ
 = 
a
 + 
sÿËd
;

509 
ušt16_t
 
d–
 = 
a
 - 
b
;

510 
ušt16_t
 
sÿËd
 = 
	`sÿË16
Ğ
d–
, 
äac
);

511 
»suÉ
 = 
a
 - 
sÿËd
;

513  
»suÉ
;

514 
	}
}

518 
LIB8STATIC
 
ušt16_t
 
	$Ë½16by8
Ğ
ušt16_t
 
a
, ušt16_ˆ
b
, 
äaù8
 
äac
)

520 
ušt16_t
 
»suÉ
;

521 ifĞ
b
 > 
a
) {

522 
ušt16_t
 
d–
 = 
b
 - 
a
;

523 
ušt16_t
 
sÿËd
 = 
	`sÿË16by8
Ğ
d–
, 
äac
);

524 
»suÉ
 = 
a
 + 
sÿËd
;

526 
ušt16_t
 
d–
 = 
a
 - 
b
;

527 
ušt16_t
 
sÿËd
 = 
	`sÿË16by8
Ğ
d–
, 
äac
);

528 
»suÉ
 = 
a
 - 
sÿËd
;

530  
»suÉ
;

531 
	}
}

535 
LIB8STATIC
 
št16_t
 
	$Ë½15by8
Ğ
št16_t
 
a
, iÁ16_ˆ
b
, 
äaù8
 
äac
)

537 
št16_t
 
»suÉ
;

538 ifĞ
b
 > 
a
) {

539 
ušt16_t
 
d–
 = 
b
 - 
a
;

540 
ušt16_t
 
sÿËd
 = 
	`sÿË16by8
Ğ
d–
, 
äac
);

541 
»suÉ
 = 
a
 + 
sÿËd
;

543 
ušt16_t
 
d–
 = 
a
 - 
b
;

544 
ušt16_t
 
sÿËd
 = 
	`sÿË16by8
Ğ
d–
, 
äac
);

545 
»suÉ
 = 
a
 - 
sÿËd
;

547  
»suÉ
;

548 
	}
}

552 
LIB8STATIC
 
št16_t
 
	$Ë½15by16
Ğ
št16_t
 
a
, iÁ16_ˆ
b
, 
äaù16
 
äac
)

554 
št16_t
 
»suÉ
;

555 ifĞ
b
 > 
a
) {

556 
ušt16_t
 
d–
 = 
b
 - 
a
;

557 
ušt16_t
 
sÿËd
 = 
	`sÿË16
Ğ
d–
, 
äac
);

558 
»suÉ
 = 
a
 + 
sÿËd
;

560 
ušt16_t
 
d–
 = 
a
 - 
b
;

561 
ušt16_t
 
sÿËd
 = 
	`sÿË16
Ğ
d–
, 
äac
);

562 
»suÉ
 = 
a
 - 
sÿËd
;

564  
»suÉ
;

565 
	}
}

584 
LIB8STATIC
 
ušt8_t
 
	$m­8
Ğ
ušt8_t
 
š
, ušt8_ˆ
¿ngeS¹
, ušt8_ˆ
¿ngeEnd
)

586 
ušt8_t
 
¿ngeWidth
 = 
¿ngeEnd
 - 
¿ngeS¹
;

587 
ušt8_t
 
out
 = 
	`sÿË8
Ğ
š
, 
¿ngeWidth
);

588 
out
 +ğ
¿ngeS¹
;

589  
out
;

590 
	}
}

600 #ià
EASE8_C
 == 1

601 
LIB8STATIC
 
ušt8_t
 
	$—£8InOutQuad
Ğ
ušt8_t
 
i
)

603 
ušt8_t
 
j
 = 
i
;

604 ifĞ
j
 & 0x80 ) {

605 
j
 = 255 - j;

607 
ušt8_t
 
jj
 = 
	`sÿË8
Ğ
j
, j);

608 
ušt8_t
 
jj2
 = 
jj
 << 1;

609 ifĞ
i
 & 0x80 ) {

610 
jj2
 = 255 - jj2;

612  
jj2
;

613 
	}
}

615 #–ià
EASE8_AVRASM
 == 1

619 
LIB8STATIC
 
ušt8_t
 
	$—£8InOutQuad
(
ušt8_t
 
v®
) {

620 
ušt8_t
 
j
=
v®
;

621 
asm
 volatile (

633 : [
j
] "+&a" (j)

634 : [
v®
] "a" (val)

637  
j
;

638 
	}
}

646 
LIB8STATIC
 
ušt16_t
 
	$—£16InOutQuad
Ğ
ušt16_t
 
i
)

648 
ušt16_t
 
j
 = 
i
;

649 ifĞ
j
 & 0x8000 ) {

650 
j
 = 65535 - j;

652 
ušt16_t
 
jj
 = 
	`sÿË16
Ğ
j
, j);

653 
ušt16_t
 
jj2
 = 
jj
 << 1;

654 ifĞ
i
 & 0x8000 ) {

655 
jj2
 = 65535 - jj2;

657  
jj2
;

658 
	}
}

663 
LIB8STATIC
 
äaù8
 
	$—£8InOutCubic
Ğ
äaù8
 
i
)

665 
ušt8_t
 
ii
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
i
, i);

666 
ušt8_t
 
iii
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
ii
, 
i
);

668 
ušt16_t
 
r1
 = (3 * (ušt16_t)(
ii
)è- ( 2 * (ušt16_t)(
iii
));

674 
ušt8_t
 
»suÉ
 = 
r1
;

677 ifĞ
r1
 & 0x100 ) {

678 
»suÉ
 = 255;

680  
»suÉ
;

681 
	}
}

691 #ià
EASE8_C
 == 1

692 
LIB8STATIC
 
äaù8
 
	$—£8InOutAµrox
Ğ
äaù8
 
i
)

694 ifĞ
i
 < 64) {

696 
i
 /= 2;

697 } ifĞ
i
 > (255 - 64)) {

699 
i
 = 255 - i;

700 
i
 /= 2;

701 
i
 = 255 - i;

704 
i
 -= 64;

705 
i
 += (i / 2);

706 
i
 += 32;

709  
i
;

710 
	}
}

712 #–ià
EASE8_AVRASM
 == 1

713 
LIB8STATIC
 
ušt8_t
 
	$—£8InOutAµrox
Ğ
äaù8
 
i
)

716 
asm
 volatile (

735 : [
i
] "+&a" (i)

739  
i
;

740 
	}
}

757 
LIB8STATIC
 
ušt8_t
 
	$Œiwave8
(
ušt8_t
 
š
)

759 ifĞ
š
 & 0x80) {

760 
š
 = 255 - in;

762 
ušt8_t
 
out
 = 
š
 << 1;

763  
out
;

764 
	}
}

778 
LIB8STATIC
 
ušt8_t
 
	$quadwave8
(
ušt8_t
 
š
)

780  
	`—£8InOutQuad
Ğ
	`Œiwave8
Ğ
š
));

781 
	}
}

785 
LIB8STATIC
 
ušt8_t
 
	$cubicwave8
(
ušt8_t
 
š
)

787  
	`—£8InOutCubic
Ğ
	`Œiwave8
Ğ
š
));

788 
	}
}

814 
LIB8STATIC
 
ušt8_t
 
	$squ¬ewave8
Ğ
ušt8_t
 
š
, ušt8_ˆ
pul£width
=128)

816 ifĞ
š
 < 
pul£width
 || (pulsewidth == 255)) {

821 
	}
}

827 
‹m¶©e
<
şass
 
T
, 
F
, 
I
> cÏs 
	cq
 {

828 
T
 
i
:
I
;

829 
T
 
f
:
F
;

830 
public
:

831 
	$q
(
fx
è{ 
i
 = fx; 
f
 = (fx-iè* (1<<
F
); }

832 
	$q
(
ušt8_t
 
_i
, ušt8_ˆ
_f
è{
i
=_i; 
f
=_f; 
	}
}

833 
ušt32_t
 
İ”©Ü
*(ušt32_ˆ
v
è{  (v*
i
è+ ((v*
f
)>>
F
); }

834 
ušt16_t
 
İ”©Ü
*(ušt16_ˆ
v
è{  (v*
i
è+ ((v*
f
)>>
F
); }

835 
št32_t
 
İ”©Ü
*(št32_ˆ
v
è{  (v*
i
è+ ((v*
f
)>>
F
); }

836 
št16_t
 
İ”©Ü
*(št16_ˆ
v
è{  (v*
i
è+ ((v*
f
)>>
F
); }

837 #ifdeà
FASTLED_ARM


838 
İ”©Ü
*(
v
è{  (v*
i
è+ ((v*
f
)>>
F
); }

840 #ifdeà
FASTLED_APOLLO3


841 
İ”©Ü
*(
v
è{  (v*
i
è+ ((v*
f
)>>
F
); }

845 
	g‹m¶©e
<
şass
 
	gT
, 
	gF
, 
	gI
> 
ušt32_t
 
	gİ”©Ü
*(ušt32_ˆ
	gv
, 
	gq
<T,F,I> & qè{  
q
 * v; }

846 
	g‹m¶©e
<
şass
 
	gT
, 
	gF
, 
	gI
> 
ušt16_t
 
	gİ”©Ü
*(ušt16_ˆ
	gv
, 
	gq
<T,F,I> & qè{  
q
 * v; }

847 
	g‹m¶©e
<
şass
 
	gT
, 
	gF
, 
	gI
> 
št32_t
 
	gİ”©Ü
*(št32_ˆ
	gv
, 
	gq
<T,F,I> & qè{  
q
 * v; }

848 
	g‹m¶©e
<
şass
 
	gT
, 
	gF
, 
	gI
> 
št16_t
 
	gİ”©Ü
*(št16_ˆ
	gv
, 
	gq
<T,F,I> & qè{  
q
 * v; }

849 #ifdeà
FASTLED_ARM


850 
	g‹m¶©e
<
şass
 
	gT
, 
	gF
, 
	gI
> 
	gİ”©Ü
*(
	gv
, 
	gq
<T,F,I> & qè{  
q
 * v; }

852 #ifdeà
FASTLED_APOLLO3


853 
	g‹m¶©e
<
şass
 
	gT
, 
	gF
, 
	gI
> 
	gİ”©Ü
*(
	gv
, 
	gq
<T,F,I> & qè{  
q
 * v; }

857 
	gq
<
	tušt8_t
, 4,4> 
	tq44
;

859 
	gq
<
	tušt8_t
, 6,2> 
	tq62
;

861 
	gq
<
	tušt16_t
, 8,8> 
	tq88
;

863 
	gq
<
	tušt16_t
, 12,4> 
	tq124
;

920 #ià(
defšed
(
ARDUINO
è|| defšed(
SPARK
è|| defšed(
FASTLED_HAS_MILLIS
)è&& !defšed(
USE_GET_MILLISECOND_TIMER
)

923 
	#GET_MILLIS
 
mlis


	)

925 
ušt32_t
 
g‘_mli£cÚd_tim”
();

926 
	#GET_MILLIS
 
g‘_mli£cÚd_tim”


	)

934 
LIB8STATIC
 
ušt16_t
 
	$b—t88
Ğ
accum88
 
b—ts_³r_mšu‹_88
, 
ušt32_t
 
timeba£
 = 0)

944  (((
	`GET_MILLIS
()è- 
timeba£
è* 
b—ts_³r_mšu‹_88
 * 280) >> 16;

945 
	}
}

948 
LIB8STATIC
 
ušt16_t
 
	$b—t16
Ğ
accum88
 
b—ts_³r_mšu‹
, 
ušt32_t
 
timeba£
 = 0)

951 ifĞ
b—ts_³r_mšu‹
 < 256) beats_per_minute <<= 8;

952  
	`b—t88
(
b—ts_³r_mšu‹
, 
timeba£
);

953 
	}
}

956 
LIB8STATIC
 
ušt8_t
 
	$b—t8
Ğ
accum88
 
b—ts_³r_mšu‹
, 
ušt32_t
 
timeba£
 = 0)

958  
	`b—t16
Ğ
b—ts_³r_mšu‹
, 
timeba£
) >> 8;

959 
	}
}

967 
LIB8STATIC
 
ušt16_t
 
	$b—tsš88
Ğ
accum88
 
b—ts_³r_mšu‹_88
, 
ušt16_t
 
lowe¡
 = 0, ušt16_ˆ
highe¡
 = 65535,

968 
ušt32_t
 
timeba£
 = 0, 
ušt16_t
 
pha£_off£t
 = 0)

970 
ušt16_t
 
b—t
 = 
	`b—t88
Ğ
b—ts_³r_mšu‹_88
, 
timeba£
);

971 
ušt16_t
 
b—tsš
 = (
	`sš16
Ğ
b—t
 + 
pha£_off£t
) + 32768);

972 
ušt16_t
 
¿ngewidth
 = 
highe¡
 - 
lowe¡
;

973 
ušt16_t
 
sÿËdb—t
 = 
	`sÿË16
Ğ
b—tsš
, 
¿ngewidth
);

974 
ušt16_t
 
»suÉ
 = 
lowe¡
 + 
sÿËdb—t
;

975  
»suÉ
;

976 
	}
}

980 
LIB8STATIC
 
ušt16_t
 
	$b—tsš16
Ğ
accum88
 
b—ts_³r_mšu‹
, 
ušt16_t
 
lowe¡
 = 0, ušt16_ˆ
highe¡
 = 65535,

981 
ušt32_t
 
timeba£
 = 0, 
ušt16_t
 
pha£_off£t
 = 0)

983 
ušt16_t
 
b—t
 = 
	`b—t16
Ğ
b—ts_³r_mšu‹
, 
timeba£
);

984 
ušt16_t
 
b—tsš
 = (
	`sš16
Ğ
b—t
 + 
pha£_off£t
) + 32768);

985 
ušt16_t
 
¿ngewidth
 = 
highe¡
 - 
lowe¡
;

986 
ušt16_t
 
sÿËdb—t
 = 
	`sÿË16
Ğ
b—tsš
, 
¿ngewidth
);

987 
ušt16_t
 
»suÉ
 = 
lowe¡
 + 
sÿËdb—t
;

988  
»suÉ
;

989 
	}
}

993 
LIB8STATIC
 
ušt8_t
 
	$b—tsš8
Ğ
accum88
 
b—ts_³r_mšu‹
, 
ušt8_t
 
lowe¡
 = 0, ušt8_ˆ
highe¡
 = 255,

994 
ušt32_t
 
timeba£
 = 0, 
ušt8_t
 
pha£_off£t
 = 0)

996 
ušt8_t
 
b—t
 = 
	`b—t8
Ğ
b—ts_³r_mšu‹
, 
timeba£
);

997 
ušt8_t
 
b—tsš
 = 
	`sš8
Ğ
b—t
 + 
pha£_off£t
);

998 
ušt8_t
 
¿ngewidth
 = 
highe¡
 - 
lowe¡
;

999 
ušt8_t
 
sÿËdb—t
 = 
	`sÿË8
Ğ
b—tsš
, 
¿ngewidth
);

1000 
ušt8_t
 
»suÉ
 = 
lowe¡
 + 
sÿËdb—t
;

1001  
»suÉ
;

1002 
	}
}

1007 
LIB8STATIC
 
ušt16_t
 
	$£cÚds16
()

1009 
ušt32_t
 
ms
 = 
	`GET_MILLIS
();

1010 
ušt16_t
 
s16
;

1011 
s16
 = 
ms
 / 1000;

1012  
s16
;

1013 
	}
}

1017 
LIB8STATIC
 
ušt16_t
 
	$mšu‹s16
()

1019 
ušt32_t
 
ms
 = 
	`GET_MILLIS
();

1020 
ušt16_t
 
m16
;

1021 
m16
 = (
ms
 / (60000L)) & 0xFFFF;

1022  
m16
;

1023 
	}
}

1027 
LIB8STATIC
 
ušt8_t
 
	$hours8
()

1029 
ušt32_t
 
ms
 = 
	`GET_MILLIS
();

1030 
ušt8_t
 
h8
;

1031 
h8
 = (
ms
 / (3600000L)) & 0xFF;

1032  
h8
;

1033 
	}
}

1046 
LIB8STATIC
 
ušt16_t
 
	$div1024_32_16
Ğ
ušt32_t
 
š32
)

1048 
ušt16_t
 
out16
;

1049 #ià
	`defšed
(
__AVR__
)

1050 
asm
 volatile (

1059 : [
š
] "+r" (
š32
),

1060 [
out
] "ô" (
out16
)

1063 
out16
 = (
š32
 >> 10) & 0xFFFF;

1065  
out16
;

1066 
	}
}

1071 
LIB8STATIC
 
ušt16_t
 
	$b£cÚds16
()

1073 
ušt32_t
 
ms
 = 
	`GET_MILLIS
();

1074 
ušt16_t
 
s16
;

1075 
s16
 = 
	`div1024_32_16
Ğ
ms
);

1076  
s16
;

1077 
	}
}

1083 
	#INSTANTIATE_EVERY_N_TIME_PERIODS
(
NAME
,
TIMETYPE
,
TIMEGETTER
) \

1084 şas 
	cNAME
 { \

1085 
public
: \

1086 
TIMETYPE
 
mP»vTrigg”
; \

1087 
TIMETYPE
 
mP”iod
; \

1089 
	$NAME
(è{ 
	`»£t
(); 
mP”iod
 = 1; }; \

1090 
	$NAME
(
TIMETYPE
 
³riod
è{ 
	`»£t
(); 
	`£tP”iod
Õ”iod); 
	}
}; \

1091 
	$£tP”iod
Ğ
TIMETYPE
 
³riod
è{ 
mP”iod
 =…”iod; 
	}
}; \

1092 
TIMETYPE
 
	$g‘Time
(è{  (
TIMETYPE
)(
	`TIMEGETTER
()); 
	}
}; \

1093 
TIMETYPE
 
	$g‘P”iod
(è{  
mP”iod
; 
	}
}; \

1094 
TIMETYPE
 
	$g‘EÏp£d
(è{  
	`g‘Time
(è- 
mP»vTrigg”
; 
	}
} \

1095 
TIMETYPE
 
	$g‘Remaššg
(è{  
mP”iod
 - 
	`g‘EÏp£d
(); 
	}
} \

1096 
TIMETYPE
 
	$g‘La¡Trigg”Time
(è{  
mP»vTrigg”
; 
	}
} \

1097 
boŞ
 
	$»ady
() { \

1098 
boŞ
 
isR—dy
 = (
	`g‘EÏp£d
(è>ğ
mP”iod
); \

1099 ifĞ
isR—dy
 ) { 
	`»£t
(); } \

1100  
isR—dy
; \

1101 
	}
} \

1102 
	$»£t
(è{ 
mP»vTrigg”
 = 
	`g‘Time
(); 
	}
}; \

1103 
	$Œigg”
(è{ 
mP»vTrigg”
 = 
	`g‘Time
(è- 
mP”iod
; 
	}
}; \

1105 
İ”©Ü
 
	$boŞ
(è{  
	`»ady
(); 
	}
} \

1106 };

	)

1107 
INSTANTIATE_EVERY_N_TIME_PERIODS
(
CEv”yNMlis
,
ušt32_t
,
GET_MILLIS
);

1108 
INSTANTIATE_EVERY_N_TIME_PERIODS
(
CEv”yNSecÚds
,
ušt16_t
,
£cÚds16
);

1109 
INSTANTIATE_EVERY_N_TIME_PERIODS
(
CEv”yNBSecÚds
,
ušt16_t
,
b£cÚds16
);

1110 
INSTANTIATE_EVERY_N_TIME_PERIODS
(
CEv”yNMšu‹s
,
ušt16_t
,
mšu‹s16
);

1111 
INSTANTIATE_EVERY_N_TIME_PERIODS
(
CEv”yNHours
,
ušt8_t
,
hours8
);

1121 
	g‹m¶©e
<
ty³Çme
 
	gtimeTy³
,
timeTy³
 (*
timeG‘‹r
)()>

1122 şas 
	cCEv”yNTimeP”iods
 {

1123 
	mpublic
:

1124 
timeTy³
 
mP»vTrigg”
;

1125 
timeTy³
 
	mmP”iod
;

1127 
	$CEv”yNTimeP”iods
(è{ 
	`»£t
(); 
mP”iod
 = 1; };

1128 
	$CEv”yNTimeP”iods
(
timeTy³
 
³riod
è{ 
	`»£t
(); 
	`£tP”iod
Õ”iod); 
	}
};

1129 
	$£tP”iod
Ğ
timeTy³
 
³riod
è{ 
mP”iod
 =…”iod; 
	}
};

1130 
timeTy³
 
	$g‘Time
(è{  (
timeTy³
)(
	`timeG‘‹r
()); 
	}
};

1131 
timeTy³
 
	$g‘P”iod
(è{  
mP”iod
; 
	}
};

1132 
timeTy³
 
	$g‘EÏp£d
(è{  
	`g‘Time
(è- 
mP»vTrigg”
; 
	}
}

1133 
timeTy³
 
	$g‘Remaššg
(è{  
mP”iod
 - 
	`g‘EÏp£d
(); 
	}
}

1134 
timeTy³
 
	$g‘La¡Trigg”Time
(è{  
mP»vTrigg”
; 
	}
}

1135 
boŞ
 
	$»ady
() {

1136 
boŞ
 
isR—dy
 = (
	`g‘EÏp£d
(è>ğ
mP”iod
);

1137 ifĞ
isR—dy
 ) { 
	`»£t
(); }

1138  
isR—dy
;

1139 
	}
}

1140 
	$»£t
(è{ 
mP»vTrigg”
 = 
	`g‘Time
(); 
	}
};

1141 
	$Œigg”
(è{ 
mP»vTrigg”
 = 
	`g‘Time
(è- 
mP”iod
; 
	}
};

1143 
İ”©Ü
 
	$boŞ
(è{  
	`»ady
(); 
	}
}

1145 
	gCEv”yNTimeP”iods
<
	tušt16_t
,
	t£cÚds16
> 
	tCEv”yNSecÚds
;

1146 
	gCEv”yNTimeP”iods
<
	tušt16_t
,
	tb£cÚds16
> 
	tCEv”yNBSecÚds
;

1147 
	gCEv”yNTimeP”iods
<
	tušt32_t
,
	tmlis
> 
	tCEv”yNMlis
;

1148 
	gCEv”yNTimeP”iods
<
	tušt16_t
,
	tmšu‹s16
> 
	tCEv”yNMšu‹s
;

1149 
	gCEv”yNTimeP”iods
<
	tušt8_t
,
	thours8
> 
	tCEv”yNHours
;

1153 
	#CONCAT_HELPER
Ğ
x
, 
y
 ) x##
	)
y

1154 
	#CONCAT_MACRO
Ğ
x
, 
y
 ) 
	`CONCAT_HELPER
Ğx, y )

	)

1155 
	#EVERY_N_MILLIS
(
N
è
	`EVERY_N_MILLIS_I
(
	`CONCAT_MACRO
(
PER
, 
__COUNTER__
 ),N)

	)

1156 
	#EVERY_N_MILLIS_I
(
NAME
,
N
è
CEv”yNMlis
 
	`NAME
(N); ifĞNAME )

	)

1157 
	#EVERY_N_SECONDS
(
N
è
	`EVERY_N_SECONDS_I
(
	`CONCAT_MACRO
(
PER
, 
__COUNTER__
 ),N)

	)

1158 
	#EVERY_N_SECONDS_I
(
NAME
,
N
è
CEv”yNSecÚds
 
	`NAME
(N); ifĞNAME )

	)

1159 
	#EVERY_N_BSECONDS
(
N
è
	`EVERY_N_BSECONDS_I
(
	`CONCAT_MACRO
(
PER
, 
__COUNTER__
 ),N)

	)

1160 
	#EVERY_N_BSECONDS_I
(
NAME
,
N
è
CEv”yNBSecÚds
 
	`NAME
(N); ifĞNAME )

	)

1161 
	#EVERY_N_MINUTES
(
N
è
	`EVERY_N_MINUTES_I
(
	`CONCAT_MACRO
(
PER
, 
__COUNTER__
 ),N)

	)

1162 
	#EVERY_N_MINUTES_I
(
NAME
,
N
è
CEv”yNMšu‹s
 
	`NAME
(N); ifĞNAME )

	)

1163 
	#EVERY_N_HOURS
(
N
è
	`EVERY_N_HOURS_I
(
	`CONCAT_MACRO
(
PER
, 
__COUNTER__
 ),N)

	)

1164 
	#EVERY_N_HOURS_I
(
NAME
,
N
è
CEv”yNHours
 
	`NAME
(N); ifĞNAME )

	)

1166 
	#CEv”yNMli£cÚds
 
CEv”yNMlis


	)

1167 
	#EVERY_N_MILLISECONDS
(
N
è
	`EVERY_N_MILLIS
(N)

	)

1168 
	#EVERY_N_MILLISECONDS_I
(
NAME
,
N
è
	`EVERY_N_MILLIS_I
(NAME,N)

	)

1170 
	gFASTLED_NAMESPACE_END


	@src/lib8tion/math8.h

1 #iâdeà
__INC_LIB8TION_MATH_H


2 
	#__INC_LIB8TION_MATH_H


	)

4 
	~"sÿË8.h
"

23 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$qadd8
Ğ
ušt8_t
 
i
, ušt8_ˆ
j
)

25 #ià
QADD8_C
 == 1

26 
t
 = 
i
 + 
j
;

27 ifĞ
t
 > 255) = 255;

28  
t
;

29 #–ià
QADD8_AVRASM
 == 1

30 
asm
 volatile(

41 : "+a" (
i
)

42 : "a" (
j
)

44  
i
;

45 #–ià
QADD8_ARM_DSP_ASM
 == 1

46 
asm
 vŞ©eĞ"uqadd8 %0, %0, %1" : "+r" (
i
è: "r" (
j
));

47  
i
;

51 
	}
}

57 
LIB8STATIC_ALWAYS_INLINE
 
št8_t
 
	$qadd7
Ğ
št8_t
 
i
, iÁ8_ˆ
j
)

59 #ià
QADD7_C
 == 1

60 
št16_t
 
t
 = 
i
 + 
j
;

61 ifĞ
t
 > 127) = 127;

62  
t
;

63 #–ià
QADD7_AVRASM
 == 1

64 
asm
 volatile(

75 : "+a" (
i
)

76 : "a" (
j
)

78  
i
;

79 #–ià
QADD7_ARM_DSP_ASM
 == 1

80 
asm
 vŞ©eĞ"qadd8 %0, %0, %1" : "+r" (
i
è: "r" (
j
));

81  
i
;

85 
	}
}

89 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$qsub8
Ğ
ušt8_t
 
i
, ušt8_ˆ
j
)

91 #ià
QSUB8_C
 == 1

92 
t
 = 
i
 - 
j
;

93 ifĞ
t
 < 0) = 0;

94  
t
;

95 #–ià
QSUB8_AVRASM
 == 1

97 
asm
 volatile(

108 : "+a" (
i
)

109 : "a" (
j
)

111  
i
;

115 
	}
}

118 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$add8
Ğ
ušt8_t
 
i
, ušt8_ˆ
j
)

120 #ià
ADD8_C
 == 1

121 
t
 = 
i
 + 
j
;

122  
t
;

123 #–ià
ADD8_AVRASM
 == 1

125 
asm
 vŞ©eĞ"add %0, %1" : "+a" (
i
è: "a" (
j
));

126  
i
;

130 
	}
}

133 
LIB8STATIC_ALWAYS_INLINE
 
ušt16_t
 
	$add8to16
Ğ
ušt8_t
 
i
, 
ušt16_t
 
j
)

135 #ià
ADD8_C
 == 1

136 
ušt16_t
 
t
 = 
i
 + 
j
;

137  
t
;

138 #–ià
ADD8_AVRASM
 == 1

140 
asm
 volatile(

143 : [
j
] "+a" (j)

144 : [
i
] "a" (i)

146  
i
;

150 
	}
}

154 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$sub8
Ğ
ušt8_t
 
i
, ušt8_ˆ
j
)

156 #ià
SUB8_C
 == 1

157 
t
 = 
i
 - 
j
;

158  
t
;

159 #–ià
SUB8_AVRASM
 == 1

161 
asm
 vŞ©eĞ"sub %0, %1" : "+a" (
i
è: "a" (
j
));

162  
i
;

166 
	}
}

171 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$avg8
Ğ
ušt8_t
 
i
, ušt8_ˆ
j
)

173 #ià
AVG8_C
 == 1

174  (
i
 + 
j
) >> 1;

175 #–ià
AVG8_AVRASM
 == 1

176 
asm
 volatile(

181 : "+a" (
i
)

182 : "a" (
j
)

184  
i
;

188 
	}
}

193 
LIB8STATIC_ALWAYS_INLINE
 
ušt16_t
 
	$avg16
Ğ
ušt16_t
 
i
, ušt16_ˆ
j
)

195 #ià
AVG16_C
 == 1

196  (
ušt32_t
)((ušt32_t)(
i
è+ (ušt32_t)(
j
)) >> 1;

197 #–ià
AVG16_AVRASM
 == 1

198 
asm
 volatile(

207 : [
i
] "+a" (i)

208 : [
j
] "a" (j)

210  
i
;

214 
	}
}

221 
LIB8STATIC_ALWAYS_INLINE
 
št8_t
 
	$avg7
Ğ
št8_t
 
i
, iÁ8_ˆ
j
)

223 #ià
AVG7_C
 == 1

224  ((
i
 + 
j
) >> 1) + (i & 0x1);

225 #–ià
AVG7_AVRASM
 == 1

226 
asm
 volatile(

230 : "+a" (
i
)

231 : "a" (
j
)

233  
i
;

237 
	}
}

243 
LIB8STATIC_ALWAYS_INLINE
 
št16_t
 
	$avg15
Ğ
št16_t
 
i
, iÁ16_ˆ
j
)

245 #ià
AVG15_C
 == 1

246  ((
št32_t
)((št32_t)(
i
è+ (št32_t)(
j
)) >> 1) + (i & 0x1);

247 #–ià
AVG15_AVRASM
 == 1

248 
asm
 volatile(

258 : [
i
] "+a" (i)

259 : [
j
] "a" (j)

261  
i
;

265 
	}
}

276 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$mod8
Ğ
ušt8_t
 
a
, ušt8_ˆ
m
)

278 #ià
	`defšed
(
__AVR__
)

279 
asm
 volatile (

283 : [
a
] "+r" (a)

284 : [
m
] "r" (m)

287  
a
 >ğ
m
)‡ -= m;

289  
a
;

290 
	}
}

303 
LIB8STATIC
 
ušt8_t
 
	$addmod8
Ğ
ušt8_t
 
a
, ušt8_ˆ
b
, ušt8_ˆ
m
)

305 #ià
	`defšed
(
__AVR__
)

306 
asm
 volatile (

311 : [
a
] "+r" (a)

312 : [
b
] "r" (b), [
m
] "r" (m)

315 
a
 +ğ
b
;

316  
a
 >ğ
m
)‡ -= m;

318  
a
;

319 
	}
}

332 
LIB8STATIC
 
ušt8_t
 
	$submod8
Ğ
ušt8_t
 
a
, ušt8_ˆ
b
, ušt8_ˆ
m
)

334 #ià
	`defšed
(
__AVR__
)

335 
asm
 volatile (

340 : [
a
] "+r" (a)

341 : [
b
] "r" (b), [
m
] "r" (m)

344 
a
 -ğ
b
;

345  
a
 >ğ
m
)‡ -= m;

347  
a
;

348 
	}
}

351 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$mul8
Ğ
ušt8_t
 
i
, ušt8_ˆ
j
)

353 #ià
MUL8_C
 == 1

354  (()
i
 * ()(
j
) ) & 0xFF;

355 #–ià
MUL8_AVRASM
 == 1

356 
asm
 volatile(

363 : "+a" (
i
)

364 : "a" (
j
)

367  
i
;

371 
	}
}

376 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$qmul8
Ğ
ušt8_t
 
i
, ušt8_ˆ
j
)

378 #ià
QMUL8_C
 == 1

379 
p
 = (()
i
 * ()(
j
) );

380 ifĞ
p
 > 255)… = 255;

381  
p
;

382 #–ià
QMUL8_AVRASM
 == 1

383 
asm
 volatile(

398 : "+a" (
i
)

399 : "a" (
j
)

402  
i
;

406 
	}
}

410 
LIB8STATIC_ALWAYS_INLINE
 
št8_t
 
	$abs8
Ğ
št8_t
 
i
)

412 #ià
ABS8_C
 == 1

413 ifĞ
i
 < 0) i = -i;

414  
i
;

415 #–ià
ABS8_AVRASM
 == 1

416 
asm
 volatile(

423 : "+r" (
i
) : "r" (i)

425  
i
;

429 
	}
}

434 
LIB8STATIC
 
ušt8_t
 
	$sq¹16
(
ušt16_t
 
x
)

436 ifĞ
x
 <= 1) {

437  
x
;

440 
ušt8_t
 
low
 = 1;

441 
ušt8_t
 
hi
, 
mid
;

443 ifĞ
x
 > 7904) {

444 
hi
 = 255;

446 
hi
 = (
x
 >> 5) + 8;

450 
mid
 = (
low
 + 
hi
) >> 1;

451 ià((
ušt16_t
)(
mid
 * midè> 
x
) {

452 
hi
 = 
mid
 - 1;

454 ifĞ
mid
 == 255) {

457 
low
 = 
mid
 + 1;

459 } 
hi
 >ğ
low
);

461  
low
 - 1;

462 
	}
}

469 #ià(
FASTLED_BLEND_FIXED
 == 1)

470 
LIB8STATIC
 
ušt8_t
 
	$bËnd8
Ğ
ušt8_t
 
a
, ušt8_ˆ
b
, ušt8_ˆ
amouÁOfB
)

472 #ià
BLEND8_C
 == 1

473 
ušt16_t
 
·¹Ÿl
;

474 
ušt8_t
 
»suÉ
;

476 
ušt8_t
 
amouÁOfA
 = 255 - 
amouÁOfB
;

478 
·¹Ÿl
 = (
a
 * 
amouÁOfA
);

479 #ià(
FASTLED_SCALE8_FIXED
 == 1)

480 
·¹Ÿl
 +ğ
a
;

484 
·¹Ÿl
 +ğ(
b
 * 
amouÁOfB
);

485 #ià(
FASTLED_SCALE8_FIXED
 == 1)

486 
·¹Ÿl
 +ğ
b
;

490 
»suÉ
 = 
·¹Ÿl
 >> 8;

492  
»suÉ
;

494 #–ià
BLEND8_AVRASM
 == 1

495 
ušt16_t
 
·¹Ÿl
;

496 
ušt8_t
 
»suÉ
;

498 
asm
 volatile (

514 #ià(
FASTLED_SCALE8_FIXED
 == 1)

524 : [
·¹Ÿl
] "=r" (partial),

525 [
amouÁOfB
] "+a" (amountOfB)

526 : [
a
] "a" (a),

527 [
b
] "a" (b)

531 
»suÉ
 = 
·¹Ÿl
 >> 8;

533  
»suÉ
;

538 
	}
}

541 
LIB8STATIC
 
ušt8_t
 
	$bËnd8
Ğ
ušt8_t
 
a
, ušt8_ˆ
b
, ušt8_ˆ
amouÁOfB
)

546 
ušt8_t
 
»suÉ
;

547 
ušt8_t
 
amouÁOfA
 = 255 - 
amouÁOfB
;

548 
»suÉ
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
a
, 
amouÁOfA
)

549 + 
	`sÿË8_LEAVING_R1_DIRTY
Ğ
b
, 
amouÁOfB
);

550 
	`ş—nup_R1
();

551  
»suÉ
;

552 
	}
}

	@src/lib8tion/random8.h

1 #iâdeà
__INC_LIB8TION_RANDOM_H


2 
	#__INC_LIB8TION_RANDOM_H


	)

12 
	#FASTLED_RAND16_2053
 ((
ušt16_t
)(2053))

	)

13 
	#FASTLED_RAND16_13849
 ((
ušt16_t
)(13849))

	)

15 #ià
defšed
(
LIB8_ATTINY
)

16 
	#APPLY_FASTLED_RAND16_2053
(
x
è(x << 11è+ (x << 2è+ 
	)
x

18 
	#APPLY_FASTLED_RAND16_2053
(
x
è(x * 
FASTLED_RAND16_2053
)

	)

22 
ušt16_t
 
¿nd16£ed
;

25 
LIB8STATIC
 
ušt8_t
 
	$¿ndom8
()

27 
¿nd16£ed
 = 
	`APPLY_FASTLED_RAND16_2053
Ôªd16£edè+ 
FASTLED_RAND16_13849
;

30  (
ušt8_t
)(((ušt8_t)(
¿nd16£ed
 & 0xFF)) +

31 ((
ušt8_t
)(
¿nd16£ed
 >> 8)));

32 
	}
}

35 
LIB8STATIC
 
ušt16_t
 
	$¿ndom16
()

37 
¿nd16£ed
 = 
	`APPLY_FASTLED_RAND16_2053
Ôªd16£edè+ 
FASTLED_RAND16_13849
;

38  
¿nd16£ed
;

39 
	}
}

43 
LIB8STATIC
 
ušt8_t
 
	$¿ndom8
(
ušt8_t
 
lim
)

45 
ušt8_t
 
r
 = 
	`¿ndom8
();

46 
r
 = (r*
lim
) >> 8;

47  
r
;

48 
	}
}

53 
LIB8STATIC
 
ušt8_t
 
	$¿ndom8
(
ušt8_t
 
mš
, ušt8_ˆ
lim
)

55 
ušt8_t
 
d–
 = 
lim
 - 
mš
;

56 
ušt8_t
 
r
 = 
	`¿ndom8
(
d–
è+ 
mš
;

57  
r
;

58 
	}
}

62 
LIB8STATIC
 
ušt16_t
 
	$¿ndom16
Ğ
ušt16_t
 
lim
)

64 
ušt16_t
 
r
 = 
	`¿ndom16
();

65 
ušt32_t
 
p
 = (ušt32_t)
lim
 * (ušt32_t)
r
;

66 
r
 = 
p
 >> 16;

67  
r
;

68 
	}
}

73 
LIB8STATIC
 
ušt16_t
 
	$¿ndom16
Ğ
ušt16_t
 
mš
, ušt16_ˆ
lim
)

75 
ušt16_t
 
d–
 = 
lim
 - 
mš
;

76 
ušt16_t
 
r
 = 
	`¿ndom16
Ğ
d–
è+ 
mš
;

77  
r
;

78 
	}
}

81 
LIB8STATIC
 
	$¿ndom16_£t_£ed
Ğ
ušt16_t
 
£ed
)

83 
¿nd16£ed
 = 
£ed
;

84 
	}
}

87 
LIB8STATIC
 
ušt16_t
 
	$¿ndom16_g‘_£ed
()

89  
¿nd16£ed
;

90 
	}
}

93 
LIB8STATIC
 
	$¿ndom16_add_’Œİy
Ğ
ušt16_t
 
’Œİy
)

95 
¿nd16£ed
 +ğ
’Œİy
;

96 
	}
}

	@src/lib8tion/scale8.h

1 #iâdeà
__INC_LIB8TION_SCALE_H


2 
	#__INC_LIB8TION_SCALE_H


	)

20 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$sÿË8
Ğ
ušt8_t
 
i
, 
äaù8
 
sÿË
)

22 #ià
SCALE8_C
 == 1

23 #ià(
FASTLED_SCALE8_FIXED
 == 1)

24  (((
ušt16_t
)
i
è* (1+(ušt16_t)(
sÿË
))) >> 8;

26  ((
ušt16_t
)
i
 * (ušt16_t)(
sÿË
) ) >> 8;

28 #–ià
SCALE8_AVRASM
 == 1

29 #ià
	`defšed
(
LIB8_ATTINY
)

30 #ià(
FASTLED_SCALE8_FIXED
 == 1)

31 
ušt8_t
 
wÜk
=
i
;

33 
ušt8_t
 
wÜk
=0;

35 
ušt8_t
 
út
=0x80;

36 
asm
 volatile(

37 #ià(
FASTLED_SCALE8_FIXED
 == 1)

55 : [
wÜk
] "+r" (wÜk), [
út
] "+r" (cnt)

56 : [
sÿË
] "r" (sÿË), [
i
] "r" (i)

59  
wÜk
;

61 
asm
 volatile(

62 #ià(
FASTLED_SCALE8_FIXED
==1)

80 : "+a" (
i
)

81 : "a" (
sÿË
)

85  
i
;

90 
	}
}

98 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$sÿË8_video
Ğ
ušt8_t
 
i
, 
äaù8
 
sÿË
)

100 #ià
SCALE8_C
 =ğ1 || 
	`defšed
(
LIB8_ATTINY
)

101 
ušt8_t
 
j
 = ((()
i
 * ()
sÿË
) >> 8) + ((i&&scale)?1:0);

104  
j
;

105 #–ià
SCALE8_AVRASM
 == 1

106 
ušt8_t
 
j
=0;

107 
asm
 volatile(

116 : [
j
] "+a" (j)

117 : [
i
] "a" (i), [
sÿË
] "a" (scale)

120  
j
;

138 
	}
}

144 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$sÿË8_LEAVING_R1_DIRTY
Ğ
ušt8_t
 
i
, 
äaù8
 
sÿË
)

146 #ià
SCALE8_C
 == 1

147 #ià(
FASTLED_SCALE8_FIXED
 == 1)

148  (((
ušt16_t
)
i
è* ((ušt16_t)(
sÿË
)+1)) >> 8;

150  (()
i
 * ()(
sÿË
) ) >> 8;

152 #–ià
SCALE8_AVRASM
 == 1

153 
asm
 volatile(

154 #ià(
FASTLED_SCALE8_FIXED
==1)

171 : "+a" (
i
)

172 : "a" (
sÿË
)

176  
i
;

180 
	}
}

187 
LIB8STATIC_ALWAYS_INLINE
 
	$nsÿË8_LEAVING_R1_DIRTY
Ğ
ušt8_t
& 
i
, 
äaù8
 
sÿË
)

189 #ià
SCALE8_C
 == 1

190 #ià(
FASTLED_SCALE8_FIXED
 == 1)

191 
i
 = (((
ušt16_t
)iè* ((ušt16_t)(
sÿË
)+1)) >> 8;

193 
i
 = (()˜* ()(
sÿË
) ) >> 8;

195 #–ià
SCALE8_AVRASM
 == 1

196 
asm
 volatile(

197 #ià(
FASTLED_SCALE8_FIXED
==1)

215 : "+a" (
i
)

216 : "a" (
sÿË
)

222 
	}
}

228 
LIB8STATIC_ALWAYS_INLINE
 
ušt8_t
 
	$sÿË8_video_LEAVING_R1_DIRTY
Ğ
ušt8_t
 
i
, 
äaù8
 
sÿË
)

230 #ià
SCALE8_C
 =ğ1 || 
	`defšed
(
LIB8_ATTINY
)

231 
ušt8_t
 
j
 = ((()
i
 * ()
sÿË
) >> 8) + ((i&&scale)?1:0);

234  
j
;

235 #–ià
SCALE8_AVRASM
 == 1

236 
ušt8_t
 
j
=0;

237 
asm
 volatile(

245 : [
j
] "+a" (j)

246 : [
i
] "a" (i), [
sÿË
] "a" (scale)

249  
j
;

267 
	}
}

273 
LIB8STATIC_ALWAYS_INLINE
 
	$nsÿË8_video_LEAVING_R1_DIRTY
Ğ
ušt8_t
 & 
i
, 
äaù8
 
sÿË
)

275 #ià
SCALE8_C
 =ğ1 || 
	`defšed
(
LIB8_ATTINY
)

276 
i
 = ((()˜* ()
sÿË
) >> 8) + ((i&&scale)?1:0);

277 #–ià
SCALE8_AVRASM
 == 1

278 
asm
 volatile(

286 : [
i
] "+a" (i)

287 : [
sÿË
] "a" (scale)

293 
	}
}

296 
LIB8STATIC_ALWAYS_INLINE
 
	$ş—nup_R1
()

298 #ià
CLEANUP_R1_AVRASM
 == 1

300 
asm
 volatile( "clr __zero_reg__ \n\t" : : : "r1" );

302 
	}
}

311 
LIB8STATIC
 
	$nsÿË8x3
Ğ
ušt8_t
& 
r
, ušt8_t& 
g
, ušt8_t& 
b
, 
äaù8
 
sÿË
)

313 #ià
SCALE8_C
 == 1

314 #ià(
FASTLED_SCALE8_FIXED
 == 1)

315 
ušt16_t
 
sÿË_fixed
 = 
sÿË
 + 1;

316 
r
 = (((
ušt16_t
ìè* 
sÿË_fixed
) >> 8;

317 
g
 = (((
ušt16_t
)gè* 
sÿË_fixed
) >> 8;

318 
b
 = (((
ušt16_t
)bè* 
sÿË_fixed
) >> 8;

320 
r
 = ((ì * ()(
sÿË
) ) >> 8;

321 
g
 = (()g * ()(
sÿË
) ) >> 8;

322 
b
 = (()b * ()(
sÿË
) ) >> 8;

324 #–ià
SCALE8_AVRASM
 == 1

325 
r
 = 
	`sÿË8_LEAVING_R1_DIRTY
Ô, 
sÿË
);

326 
g
 = 
	`sÿË8_LEAVING_R1_DIRTY
(g, 
sÿË
);

327 
b
 = 
	`sÿË8_LEAVING_R1_DIRTY
(b, 
sÿË
);

328 
	`ş—nup_R1
();

332 
	}
}

341 
LIB8STATIC
 
	$nsÿË8x3_video
Ğ
ušt8_t
& 
r
, ušt8_t& 
g
, ušt8_t& 
b
, 
äaù8
 
sÿË
)

343 #ià
SCALE8_C
 == 1

344 
ušt8_t
 
nÚz”osÿË
 = (
sÿË
 != 0) ? 1 : 0;

345 
r
 = (¸=ğ0è? 0 : (((ì * ()(
sÿË
èè>> 8è+ 
nÚz”osÿË
;

346 
g
 = (g =ğ0è? 0 : ((()g * ()(
sÿË
èè>> 8è+ 
nÚz”osÿË
;

347 
b
 = (b =ğ0è? 0 : ((()b * ()(
sÿË
èè>> 8è+ 
nÚz”osÿË
;

348 #–ià
SCALE8_AVRASM
 == 1

349 
	`nsÿË8_video_LEAVING_R1_DIRTY
Ğ
r
, 
sÿË
);

350 
	`nsÿË8_video_LEAVING_R1_DIRTY
Ğ
g
, 
sÿË
);

351 
	`nsÿË8_video_LEAVING_R1_DIRTY
Ğ
b
, 
sÿË
);

352 
	`ş—nup_R1
();

356 
	}
}

364 
LIB8STATIC
 
	$nsÿË8x2
Ğ
ušt8_t
& 
i
, ušt8_t& 
j
, 
äaù8
 
sÿË
)

366 #ià
SCALE8_C
 == 1

367 #ià
FASTLED_SCALE8_FIXED
 == 1

368 
ušt16_t
 
sÿË_fixed
 = 
sÿË
 + 1;

369 
i
 = (((
ušt16_t
)iè* 
sÿË_fixed
 ) >> 8;

370 
j
 = (((
ušt16_t
)jè* 
sÿË_fixed
 ) >> 8;

372 
i
 = ((
ušt16_t
)˜* (ušt16_t)(
sÿË
) ) >> 8;

373 
j
 = ((
ušt16_t
)j * (ušt16_t)(
sÿË
) ) >> 8;

375 #–ià
SCALE8_AVRASM
 == 1

376 
i
 = 
	`sÿË8_LEAVING_R1_DIRTY
(i, 
sÿË
);

377 
j
 = 
	`sÿË8_LEAVING_R1_DIRTY
(j, 
sÿË
);

378 
	`ş—nup_R1
();

382 
	}
}

393 
LIB8STATIC
 
	$nsÿË8x2_video
Ğ
ušt8_t
& 
i
, ušt8_t& 
j
, 
äaù8
 
sÿË
)

395 #ià
SCALE8_C
 == 1

396 
ušt8_t
 
nÚz”osÿË
 = (
sÿË
 != 0) ? 1 : 0;

397 
i
 = (˜=ğ0è? 0 : ((()˜* ()(
sÿË
èè>> 8è+ 
nÚz”osÿË
;

398 
j
 = (j =ğ0è? 0 : ((()j * ()(
sÿË
èè>> 8è+ 
nÚz”osÿË
;

399 #–ià
SCALE8_AVRASM
 == 1

400 
	`nsÿË8_video_LEAVING_R1_DIRTY
Ğ
i
, 
sÿË
);

401 
	`nsÿË8_video_LEAVING_R1_DIRTY
Ğ
j
, 
sÿË
);

402 
	`ş—nup_R1
();

406 
	}
}

413 
LIB8STATIC_ALWAYS_INLINE
 
ušt16_t
 
	$sÿË16by8
Ğ
ušt16_t
 
i
, 
äaù8
 
sÿË
 )

415 #ià
SCALE16BY8_C
 == 1

416 
ušt16_t
 
»suÉ
;

417 #ià
FASTLED_SCALE8_FIXED
 == 1

418 
»suÉ
 = (
i
 * (1+((
ušt16_t
)
sÿË
))) >> 8;

420 
»suÉ
 = (
i
 * 
sÿË
) / 256;

422  
»suÉ
;

423 #–ià
SCALE16BY8_AVRASM
 == 1

424 #ià
FASTLED_SCALE8_FIXED
 == 1

425 
ušt16_t
 
»suÉ
 = 0;

426 
asm
 volatile(

446 : [
»suÉ
] "+r" (result)

447 : [
i
] "r" (i), [
sÿË
] "r" (scale)

450  
»suÉ
;

452 
ušt16_t
 
»suÉ
 = 0;

453 
asm
 volatile(

467 : [
»suÉ
] "+r" (result)

468 : [
i
] "r" (i), [
sÿË
] "r" (scale)

471  
»suÉ
;

476 
	}
}

482 
LIB8STATIC
 
ušt16_t
 
	$sÿË16
Ğ
ušt16_t
 
i
, 
äaù16
 
sÿË
 )

484 #ià
SCALE16_C
 == 1

485 
ušt16_t
 
»suÉ
;

486 #ià
FASTLED_SCALE8_FIXED
 == 1

487 
»suÉ
 = ((
ušt32_t
)(
i
è* (1+(ušt32_t)(
sÿË
))) / 65536;

489 
»suÉ
 = ((
ušt32_t
)(
i
è* (ušt32_t)(
sÿË
)) / 65536;

491  
»suÉ
;

492 #–ià
SCALE16_AVRASM
 == 1

493 #ià
FASTLED_SCALE8_FIXED
 == 1

501 
ušt32_t
 
»suÉ
;

502 
asm
 volatile(

516 : [
»suÉ
] "=r" (result)

517 : [
i
] "r" (i),

518 [
sÿË
] "r" (scale)

522 
asm
 volatile(

528 : [
»suÉ
] "+r" (result)

529 : [
i
] "r" (i),

530 [
sÿË
] "r" (scale)

534 cÚ¡ 
ušt8_t
 
z”o
 = 0;

535 
asm
 volatile(

553 : [
»suÉ
] "+r" (result)

554 : [
i
] "r" (i),

555 [
sÿË
] "r" (scale),

556 [
z”o
] "r" (zero)

560 
asm
 volatile(

566 : [
»suÉ
] "+r" (result)

567 : [
i
] "r" (i),

568 [
z”o
] "r" (zero)

571 
»suÉ
 =„esult >> 16;

572  
»suÉ
;

574 
ušt32_t
 
»suÉ
;

575 
asm
 volatile(

591 : [
»suÉ
] "=r" (result)

592 : [
i
] "r" (i),

593 [
sÿË
] "r" (scale)

597 
asm
 volatile(

603 : [
»suÉ
] "+r" (result)

604 : [
i
] "r" (i),

605 [
sÿË
] "r" (scale)

609 cÚ¡ 
ušt8_t
 
z”o
 = 0;

610 
asm
 volatile(

628 : [
»suÉ
] "+r" (result)

629 : [
i
] "r" (i),

630 [
sÿË
] "r" (scale),

631 [
z”o
] "r" (zero)

635 
»suÉ
 =„esult >> 16;

636  
»suÉ
;

641 
	}
}

658 
LIB8STATIC
 
ušt8_t
 
	$dim8_¿w
Ğ
ušt8_t
 
x
)

660  
	`sÿË8
Ğ
x
, x);

661 
	}
}

664 
LIB8STATIC
 
ušt8_t
 
	$dim8_video
Ğ
ušt8_t
 
x
)

666  
	`sÿË8_video
Ğ
x
, x);

667 
	}
}

670 
LIB8STATIC
 
ušt8_t
 
	$dim8_lš
Ğ
ušt8_t
 
x
 )

672 ifĞ
x
 & 0x80 ) {

673 
x
 = 
	`sÿË8
( x, x);

675 
x
 += 1;

676 
x
 /= 2;

678  
x
;

679 
	}
}

682 
LIB8STATIC
 
ušt8_t
 
	$brigh‹n8_¿w
Ğ
ušt8_t
 
x
)

684 
ušt8_t
 
ix
 = 255 - 
x
;

685  255 - 
	`sÿË8
Ğ
ix
, ix);

686 
	}
}

689 
LIB8STATIC
 
ušt8_t
 
	$brigh‹n8_video
Ğ
ušt8_t
 
x
)

691 
ušt8_t
 
ix
 = 255 - 
x
;

692  255 - 
	`sÿË8_video
Ğ
ix
, ix);

693 
	}
}

696 
LIB8STATIC
 
ušt8_t
 
	$brigh‹n8_lš
Ğ
ušt8_t
 
x
 )

698 
ušt8_t
 
ix
 = 255 - 
x
;

699 ifĞ
ix
 & 0x80 ) {

700 
ix
 = 
	`sÿË8
( ix, ix);

702 
ix
 += 1;

703 
ix
 /= 2;

705  255 - 
ix
;

706 
	}
}

	@src/lib8tion/trig8.h

1 #iâdeà
__INC_LIB8TION_TRIG_H


2 
	#__INC_LIB8TION_TRIG_H


	)

17 #ià
defšed
(
__AVR__
)

18 
	#sš16
 
sš16_avr


	)

20 
	#sš16
 
sš16_C


	)

30 
LIB8STATIC
 
št16_t
 
	$sš16_avr
Ğ
ušt16_t
 
th‘a
 )

32 cÚ¡ 
ušt8_t
 
d©a
[] =

38 
ušt16_t
 
off£t
 = (
th‘a
 & 0x3FFF);

44 
off£t
 >>= 1;

45 
asm
 volatile("");

46 
off£t
 >>= 1;

47 
asm
 volatile("");

48 
off£t
 >>= 1;

50 ifĞ
th‘a
 & 0x4000 ) 
off£t
 = 2047 - offset;

52 
ušt8_t
 
£ùiÚX4
;

53 
£ùiÚX4
 = 
off£t
 / 256;

54 
£ùiÚX4
 *= 4;

56 
ušt8_t
 
m
;

59 
ušt16_t
 
b
;

61 
ušt8_t
 
blo
;

62 
ušt8_t
 
bhi
;

64 } 
u
;

67 
u
.
blo
 = 
d©a
[ 
£ùiÚX4
 ];

68 
u
.
bhi
 = 
d©a
[ 
£ùiÚX4
 + 1];

69 
m
 = 
d©a
[ 
£ùiÚX4
 + 2];

71 
ušt8_t
 
£coff£t8
 = (ušt8_t)(
off£t
) / 2;

73 
ušt16_t
 
mx
 = 
m
 * 
£coff£t8
;

75 
št16_t
 
y
 = 
mx
 + 
u
.
b
;

76 ifĞ
th‘a
 & 0x8000 ) 
y
 = -y;

78  
y
;

79 
	}
}

88 
LIB8STATIC
 
št16_t
 
	$sš16_C
Ğ
ušt16_t
 
th‘a
 )

90 cÚ¡ 
ušt16_t
 
ba£
[] =

92 cÚ¡ 
ušt8_t
 
¦İe
[] =

95 
ušt16_t
 
off£t
 = (
th‘a
 & 0x3FFF) >> 3;

96 ifĞ
th‘a
 & 0x4000 ) 
off£t
 = 2047 - offset;

98 
ušt8_t
 
£ùiÚ
 = 
off£t
 / 256;

99 
ušt16_t
 
b
 = 
ba£
[
£ùiÚ
];

100 
ušt8_t
 
m
 = 
¦İe
[
£ùiÚ
];

102 
ušt8_t
 
£coff£t8
 = (ušt8_t)(
off£t
) / 2;

104 
ušt16_t
 
mx
 = 
m
 * 
£coff£t8
;

105 
št16_t
 
y
 = 
mx
 + 
b
;

107 ifĞ
th‘a
 & 0x8000 ) 
y
 = -y;

109  
y
;

110 
	}
}

120 
LIB8STATIC
 
št16_t
 
	$cos16
Ğ
ušt16_t
 
th‘a
)

122  
	`sš16
Ğ
th‘a
 + 16384);

123 
	}
}

143 #ià
defšed
(
__AVR__
è&& !defšed(
LIB8_ATTINY
)

144 
	#sš8
 
sš8_avr


	)

146 
	#sš8
 
sš8_C


	)

150 cÚ¡ 
ušt8_t
 
	gb_m16_š‹¾—ve
[] = { 0, 49, 49, 41, 90, 27, 117, 10 };

159 
LIB8STATIC
 
ušt8_t
 
	$sš8_avr
Ğ
ušt8_t
 
th‘a
)

161 
ušt8_t
 
off£t
 = 
th‘a
;

163 
asm
 volatile(

166 : [
th‘a
] "+r" (th‘a), [
off£t
] "+r" (offset)

169 
off£t
 &= 0x3F;

171 
ušt8_t
 
£coff£t
 = 
off£t
 & 0x0F;

172 ifĞ
th‘a
 & 0x40è++
£coff£t
;

174 
ušt8_t
 
m16
; ušt8_ˆ
b
;

176 
ušt8_t
 
£ùiÚ
 = 
off£t
 >> 4;

177 
ušt8_t
 
s2
 = 
£ùiÚ
 * 2;

179 cÚ¡ 
ušt8_t
* 
p
 = 
b_m16_š‹¾—ve
;

180 
p
 +ğ
s2
;

181 
b
 = *
p
;

182 ++
p
;

183 
m16
 = *
p
;

185 
ušt8_t
 
mx
;

186 
ušt8_t
 
xr1
;

187 
asm
 volatile(

197 : [
mx
] "=d" (mx), [
xr1
] "=d" (xr1)

198 : [
m16
] "d" (m16), [
£coff£t
] "d" (secoffset)

201 
št8_t
 
y
 = 
mx
 + 
b
;

202 ifĞ
th‘a
 & 0x80 ) 
y
 = -y;

204 
y
 += 128;

206  
y
;

207 
	}
}

217 
LIB8STATIC
 
ušt8_t
 
	$sš8_C
Ğ
ušt8_t
 
th‘a
)

219 
ušt8_t
 
off£t
 = 
th‘a
;

220 ifĞ
th‘a
 & 0x40 ) {

221 
off£t
 = (
ušt8_t
)255 - offset;

223 
off£t
 &= 0x3F;

225 
ušt8_t
 
£coff£t
 = 
off£t
 & 0x0F;

226 ifĞ
th‘a
 & 0x40è++
£coff£t
;

228 
ušt8_t
 
£ùiÚ
 = 
off£t
 >> 4;

229 
ušt8_t
 
s2
 = 
£ùiÚ
 * 2;

230 cÚ¡ 
ušt8_t
* 
p
 = 
b_m16_š‹¾—ve
;

231 
p
 +ğ
s2
;

232 
ušt8_t
 
b
 = *
p
;

233 ++
p
;

234 
ušt8_t
 
m16
 = *
p
;

236 
ušt8_t
 
mx
 = (
m16
 * 
£coff£t
) >> 4;

238 
št8_t
 
y
 = 
mx
 + 
b
;

239 ifĞ
th‘a
 & 0x80 ) 
y
 = -y;

241 
y
 += 128;

243  
y
;

244 
	}
}

253 
LIB8STATIC
 
ušt8_t
 
	$cos8
Ğ
ušt8_t
 
th‘a
)

255  
	`sš8
Ğ
th‘a
 + 64);

256 
	}
}

	@src/noise.cpp

1 
	#FASTLED_INTERNAL


	)

2 
	~"Fa¡LED.h
"

3 
	~<¡ršg.h
>

5 
	gFASTLED_NAMESPACE_BEGIN


7 
	#P
(
x
è
	`FL_PGM_READ_BYTE_NEAR
(
p
 + x)

	)

9 
FL_PROGMEM
 
ušt8_t
 cÚ¡ 
	gp
[] = {

28 #ià
FASTLED_NOISE_ALLOW_AVERAGE_TO_OVERFLOW
 == 1

29 
	#AVG15
(
U
,
V
è(((U)+(V)è>> 1)

	)

32 #ià
defšed
(
__AVR__
è&& (
LIB8_ATTINY
 == 0)

33 
	#AVG15
(
U
,
V
è(
	`avg15_šlše_avr_mul
((U),(V)))

	)

37 
št16_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$avg15_šlše_avr_mul
Ğ
št16_t
 
i
, iÁ16_ˆ
j
)

39 
asm
 volatile(

49 : [
i
] "+a" (i)

50 : [
j
] "a" (j) );

51  
i
;

52 
	}
}

54 
	#AVG15
(
U
,
V
è(
	`avg15
((U),(V)))

	)

60 #ià
FASTLED_NOISE_FIXED
 == 0

61 
	#EASE8
(
x
è(
	`FADE
(xè)

	)

62 
	#EASE16
(
x
è(
	`FADE
(xè)

	)

64 
	#EASE8
(
x
è(
	`—£8InOutQuad
(xè)

	)

65 
	#EASE16
(
x
è(
	`—£16InOutQuad
(x))

	)

69 
	#FADE_16


	)

71 #ifdeà
FADE_12


72 
	#FADE
 
logçde12


	)

73 
	#LERP
(
a
,
b
,
u
è
	`Ë½15by12
×,b,u)

	)

75 
	#FADE
(
x
è
	`sÿË16
(x,x)

	)

76 
	#LERP
(
a
,
b
,
u
è
	`Ë½15by16
×,b,u)

	)

78 
št16_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$g¿d16
(
ušt8_t
 
hash
, 
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
z
) {

80 
hash
 & 0xF) {

81 0:  (Ğ
x
è+ ( 
y
))>>1;

82 1:  ((-
x
è+ ( 
y
))>>1;

83 2:  (Ğ
x
è+ (-
y
))>>1;

84 3:  ((-
x
è+ (-
y
))>>1;

85 4:  (Ğ
x
è+ ( 
z
))>>1;

86 5:  ((-
x
è+ ( 
z
))>>1;

87 6:  (Ğ
x
è+ (-
z
))>>1;

88 7:  ((-
x
è+ (-
z
))>>1;

89 8:  (Ğ
y
è+ ( 
z
))>>1;

90 9:  ((-
y
è+ ( 
z
))>>1;

91 10:  (Ğ
y
è+ (-
z
))>>1;

92 11:  ((-
y
è+ (-
z
))>>1;

93 12:  (Ğ
y
è+ ( 
x
))>>1;

94 13:  ((-
y
è+ ( 
z
))>>1;

95 14:  (Ğ
y
è+ (-
x
))>>1;

96 15:  ((-
y
è+ (-
z
))>>1;

99 
hash
 = hash&15;

100 
št16_t
 
u
 = 
hash
<8?
x
:
y
;

101 
št16_t
 
v
 = 
hash
<4?
y
:hash==12||hash==14?
x
:
z
;

102 if(
hash
&1è{ 
u
 = -u; }

103 if(
hash
&2è{ 
v
 = -v; }

105  
	`AVG15
(
u
,
v
);

107 
	}
}

109 
št16_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$g¿d16
(
ušt8_t
 
hash
, 
št16_t
 
x
, iÁ16_ˆ
y
) {

110 
hash
 = hash & 7;

111 
št16_t
 
u
,
v
;

112 if(
hash
 < 4è{ 
u
 = 
x
; 
v
 = 
y
; } { u = y; v = x; }

113 if(
hash
&1è{ 
u
 = -u; }

114 if(
hash
&2è{ 
v
 = -v; }

116  
	`AVG15
(
u
,
v
);

117 
	}
}

119 
št16_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$g¿d16
(
ušt8_t
 
hash
, 
št16_t
 
x
) {

120 
hash
 = hash & 15;

121 
št16_t
 
u
,
v
;

122 if(
hash
 > 8è{ 
u
=
x
;
v
=x; }

123 if(
hash
 < 4è{ 
u
=
x
;
v
=1; }

124 { 
u
=1;
v
=
x
; }

125 if(
hash
&1è{ 
u
 = -u; }

126 if(
hash
&2è{ 
v
 = -v; }

128  
	`AVG15
(
u
,
v
);

129 
	}
}

135 
št8_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$£ËùBa£dOnHashB™
(
ušt8_t
 
hash
, ušt8_ˆ
b™numb”
, 
št8_t
 
a
, iÁ8_ˆ
b
) {

136 
št8_t
 
»suÉ
;

137 #ià!
	`defšed
(
__AVR__
)

138 
»suÉ
 = (
hash
 & (1<<
b™numb”
)è? 
a
 : 
b
;

140 
asm
 volatile(

144 : [
»suÉ
] "=r" (result)

145 : [
hash
] "r" (hash),

146 [
b™numb”
] "M" (bitnumber),

147 [
a
] "r" (a),

148 [
b
] "r" (b)

151  
»suÉ
;

152 
	}
}

154 
št8_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$g¿d8
(
ušt8_t
 
hash
, 
št8_t
 
x
, iÁ8_ˆ
y
, iÁ8_ˆ
z
) {

156 
hash
 & 0xF) {

157 0:  (Ğ
x
è+ ( 
y
))>>1;

158 1:  ((-
x
è+ ( 
y
))>>1;

159 2:  (Ğ
x
è+ (-
y
))>>1;

160 3:  ((-
x
è+ (-
y
))>>1;

161 4:  (Ğ
x
è+ ( 
z
))>>1;

162 5:  ((-
x
è+ ( 
z
))>>1;

163 6:  (Ğ
x
è+ (-
z
))>>1;

164 7:  ((-
x
è+ (-
z
))>>1;

165 8:  (Ğ
y
è+ ( 
z
))>>1;

166 9:  ((-
y
è+ ( 
z
))>>1;

167 10:  (Ğ
y
è+ (-
z
))>>1;

168 11:  ((-
y
è+ (-
z
))>>1;

169 12:  (Ğ
y
è+ ( 
x
))>>1;

170 13:  ((-
y
è+ ( 
z
))>>1;

171 14:  (Ğ
y
è+ (-
x
))>>1;

172 15:  ((-
y
è+ (-
z
))>>1;

176 
hash
 &= 0xF;

178 
št8_t
 
u
, 
v
;

180 
u
 = 
	`£ËùBa£dOnHashB™
Ğ
hash
, 3, 
y
, 
x
);

183 
v
 = 
hash
<4?
y
:hash==12||hash==14?
x
:
z
;

186 ifĞ
hash
 < 4) {

187 
v
 = 
y
;

189 ifĞ
hash
==12 || hash==14) {

190 
v
 = 
x
;

192 
v
 = 
z
;

197 if(
hash
&1è{ 
u
 = -u; }

198 if(
hash
&2è{ 
v
 = -v; }

200  
	`avg7
(
u
,
v
);

202 
	}
}

204 
št8_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$g¿d8
(
ušt8_t
 
hash
, 
št8_t
 
x
, iÁ8_ˆ
y
)

210 
št8_t
 
u
,
v
;

211 ifĞ
hash
 & 4) {

212 
u
 = 
y
; 
v
 = 
x
;

214 
u
 = 
x
; 
v
 = 
y
;

217 if(
hash
&1è{ 
u
 = -u; }

218 if(
hash
&2è{ 
v
 = -v; }

220  
	`avg7
(
u
,
v
);

221 
	}
}

223 
št8_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$g¿d8
(
ušt8_t
 
hash
, 
št8_t
 
x
)

229 
št8_t
 
u
,
v
;

230 if(
hash
 & 8) {

231 
u
=
x
; 
v
=x;

233 if(
hash
 & 4) {

234 
u
=1; 
v
=
x
;

236 
u
=
x
; 
v
=1;

240 if(
hash
&1è{ 
u
 = -u; }

241 if(
hash
&2è{ 
v
 = -v; }

243  
	`avg7
(
u
,
v
);

244 
	}
}

247 #ifdeà
FADE_12


248 
ušt16_t
 
	$logçde12
(
ušt16_t
 
v®
) {

249  
	`sÿË16
(
v®
,val)>>4;

250 
	}
}

252 
št16_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$Ë½15by12
Ğ
št16_t
 
a
, iÁ16_ˆ
b
, 
äaù16
 
äac
)

255 
št16_t
 
»suÉ
;

256 ifĞ
b
 > 
a
) {

257 
ušt16_t
 
d–
 = 
b
 - 
a
;

258 
ušt16_t
 
sÿËd
 = 
	`sÿË16
(
d–
,
äac
<<4);

259 
»suÉ
 = 
a
 + 
sÿËd
;

261 
ušt16_t
 
d–
 = 
a
 - 
b
;

262 
ušt16_t
 
sÿËd
 = 
	`sÿË16
(
d–
,
äac
<<4);

263 
»suÉ
 = 
a
 - 
sÿËd
;

265  
»suÉ
;

266 
	}
}

269 
št8_t
 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
	$Ë½7by8
Ğ
št8_t
 
a
, iÁ8_ˆ
b
, 
äaù8
 
äac
)

276 
št8_t
 
»suÉ
;

277 ifĞ
b
 > 
a
) {

278 
ušt8_t
 
d–
 = 
b
 - 
a
;

279 
ušt8_t
 
sÿËd
 = 
	`sÿË8
Ğ
d–
, 
äac
);

280 
»suÉ
 = 
a
 + 
sÿËd
;

282 
ušt8_t
 
d–
 = 
a
 - 
b
;

283 
ušt8_t
 
sÿËd
 = 
	`sÿË8
Ğ
d–
, 
äac
);

284 
»suÉ
 = 
a
 - 
sÿËd
;

286  
»suÉ
;

287 
	}
}

289 
št16_t
 
	$šoi£16_¿w
(
ušt32_t
 
x
, ušt32_ˆ
y
, ušt32_ˆ
z
)

292 
ušt8_t
 
X
 = (
x
>>16)&0xFF;

293 
ušt8_t
 
Y
 = (
y
>>16)&0xFF;

294 
ušt8_t
 
Z
 = (
z
>>16)&0xFF;

297 
ušt8_t
 
A
 = 
	`P
(
X
)+
Y
;

298 
ušt8_t
 
AA
 = 
	`P
(
A
)+
Z
;

299 
ušt8_t
 
AB
 = 
	`P
(
A
+1)+
Z
;

300 
ušt8_t
 
B
 = 
	`P
(
X
+1)+
Y
;

301 
ušt8_t
 
BA
 = 
	`P
(
B
è+ 
Z
;

302 
ušt8_t
 
BB
 = 
	`P
(
B
+1)+
Z
;

305 
ušt16_t
 
u
 = 
x
 & 0xFFFF;

306 
ušt16_t
 
v
 = 
y
 & 0xFFFF;

307 
ušt16_t
 
w
 = 
z
 & 0xFFFF;

310 
št16_t
 
xx
 = (
u
 >> 1) & 0x7FFF;

311 
št16_t
 
yy
 = (
v
 >> 1) & 0x7FFF;

312 
št16_t
 
zz
 = (
w
 >> 1) & 0x7FFF;

313 
ušt16_t
 
N
 = 0x8000L;

315 
u
 = 
	`EASE16
(u); 
v
 = EASE16(v); 
w
 = EASE16(w);

319 
št16_t
 
X1
 = 
	`LERP
(
	`g¿d16
(
	`P
(
AA
), 
xx
, 
yy
, 
zz
), g¿d16(P(
BA
), xx - 
N
, yy, zz), 
u
);

320 
št16_t
 
X2
 = 
	`LERP
(
	`g¿d16
(
	`P
(
AB
), 
xx
, 
yy
-
N
, 
zz
), g¿d16(P(
BB
), xx - N, yy - N, zz), 
u
);

321 
št16_t
 
X3
 = 
	`LERP
(
	`g¿d16
(
	`P
(
AA
+1), 
xx
, 
yy
, 
zz
-
N
), g¿d16(P(
BA
+1), xx - N, yy, zz-N), 
u
);

322 
št16_t
 
X4
 = 
	`LERP
(
	`g¿d16
(
	`P
(
AB
+1), 
xx
, 
yy
-
N
, 
zz
-N), g¿d16(P(
BB
+1), xx - N, yy - N, zz - N), 
u
);

324 
št16_t
 
Y1
 = 
	`LERP
(
X1
,
X2
,
v
);

325 
št16_t
 
Y2
 = 
	`LERP
(
X3
,
X4
,
v
);

327 
št16_t
 
ªs
 = 
	`LERP
(
Y1
,
Y2
,
w
);

329  
ªs
;

330 
	}
}

332 
ušt16_t
 
	$šoi£16
(
ušt32_t
 
x
, ušt32_ˆ
y
, ušt32_ˆ
z
) {

333 
št32_t
 
ªs
 = 
	`šoi£16_¿w
(
x
,
y
,
z
);

334 
ªs
 =‡ns + 19052L;

335 
ušt32_t
 
·n
 = 
ªs
;

340 
·n
 *= 440L;

341  (
·n
>>8);

346 
	}
}

348 
št16_t
 
	$šoi£16_¿w
(
ušt32_t
 
x
, ušt32_ˆ
y
)

351 
ušt8_t
 
X
 = 
x
>>16;

352 
ušt8_t
 
Y
 = 
y
>>16;

355 
ušt8_t
 
A
 = 
	`P
(
X
)+
Y
;

356 
ušt8_t
 
AA
 = 
	`P
(
A
);

357 
ušt8_t
 
AB
 = 
	`P
(
A
+1);

358 
ušt8_t
 
B
 = 
	`P
(
X
+1)+
Y
;

359 
ušt8_t
 
BA
 = 
	`P
(
B
);

360 
ušt8_t
 
BB
 = 
	`P
(
B
+1);

363 
ušt16_t
 
u
 = 
x
 & 0xFFFF;

364 
ušt16_t
 
v
 = 
y
 & 0xFFFF;

367 
št16_t
 
xx
 = (
u
 >> 1) & 0x7FFF;

368 
št16_t
 
yy
 = (
v
 >> 1) & 0x7FFF;

369 
ušt16_t
 
N
 = 0x8000L;

371 
u
 = 
	`EASE16
(u); 
v
 = EASE16(v);

373 
št16_t
 
X1
 = 
	`LERP
(
	`g¿d16
(
	`P
(
AA
), 
xx
, 
yy
), g¿d16(P(
BA
), xx - 
N
, yy), 
u
);

374 
št16_t
 
X2
 = 
	`LERP
(
	`g¿d16
(
	`P
(
AB
), 
xx
, 
yy
-
N
), g¿d16(P(
BB
), xx - N, yy - N), 
u
);

376 
št16_t
 
ªs
 = 
	`LERP
(
X1
,
X2
,
v
);

378  
ªs
;

379 
	}
}

381 
ušt16_t
 
	$šoi£16
(
ušt32_t
 
x
, ušt32_ˆ
y
) {

382 
št32_t
 
ªs
 = 
	`šoi£16_¿w
(
x
,
y
);

383 
ªs
 =‡ns + 17308L;

384 
ušt32_t
 
·n
 = 
ªs
;

389 
·n
 *= 484L;

390  (
·n
>>8);

394 
	}
}

396 
št16_t
 
	$šoi£16_¿w
(
ušt32_t
 
x
)

399 
ušt8_t
 
X
 = 
x
>>16;

402 
ušt8_t
 
A
 = 
	`P
(
X
);

403 
ušt8_t
 
AA
 = 
	`P
(
A
);

404 
ušt8_t
 
B
 = 
	`P
(
X
+1);

405 
ušt8_t
 
BA
 = 
	`P
(
B
);

408 
ušt16_t
 
u
 = 
x
 & 0xFFFF;

411 
št16_t
 
xx
 = (
u
 >> 1) & 0x7FFF;

412 
ušt16_t
 
N
 = 0x8000L;

414 
u
 = 
	`EASE16
(u);

416 
št16_t
 
ªs
 = 
	`LERP
(
	`g¿d16
(
	`P
(
AA
), 
xx
), g¿d16(P(
BA
), xx - 
N
), 
u
);

418  
ªs
;

419 
	}
}

421 
ušt16_t
 
	$šoi£16
(
ušt32_t
 
x
) {

422  ((
ušt32_t
)((
št32_t
)
	`šoi£16_¿w
(
x
) + 17308L)) << 1;

423 
	}
}

425 
št8_t
 
	$šoi£8_¿w
(
ušt16_t
 
x
, ušt16_ˆ
y
, ušt16_ˆ
z
)

428 
ušt8_t
 
X
 = 
x
>>8;

429 
ušt8_t
 
Y
 = 
y
>>8;

430 
ušt8_t
 
Z
 = 
z
>>8;

433 
ušt8_t
 
A
 = 
	`P
(
X
)+
Y
;

434 
ušt8_t
 
AA
 = 
	`P
(
A
)+
Z
;

435 
ušt8_t
 
AB
 = 
	`P
(
A
+1)+
Z
;

436 
ušt8_t
 
B
 = 
	`P
(
X
+1)+
Y
;

437 
ušt8_t
 
BA
 = 
	`P
(
B
è+ 
Z
;

438 
ušt8_t
 
BB
 = 
	`P
(
B
+1)+
Z
;

441 
ušt8_t
 
u
 = 
x
;

442 
ušt8_t
 
v
 = 
y
;

443 
ušt8_t
 
w
 = 
z
;

446 
št8_t
 
xx
 = ((
ušt8_t
)(
x
)>>1) & 0x7F;

447 
št8_t
 
yy
 = ((
ušt8_t
)(
y
)>>1) & 0x7F;

448 
št8_t
 
zz
 = ((
ušt8_t
)(
z
)>>1) & 0x7F;

449 
ušt8_t
 
N
 = 0x80;

451 
u
 = 
	`EASE8
(u); 
v
 = EASE8(v); 
w
 = EASE8(w);

453 
št8_t
 
X1
 = 
	`Ë½7by8
(
	`g¿d8
(
	`P
(
AA
), 
xx
, 
yy
, 
zz
), g¿d8(P(
BA
), xx - 
N
, yy, zz), 
u
);

454 
št8_t
 
X2
 = 
	`Ë½7by8
(
	`g¿d8
(
	`P
(
AB
), 
xx
, 
yy
-
N
, 
zz
), g¿d8(P(
BB
), xx - N, yy - N, zz), 
u
);

455 
št8_t
 
X3
 = 
	`Ë½7by8
(
	`g¿d8
(
	`P
(
AA
+1), 
xx
, 
yy
, 
zz
-
N
), g¿d8(P(
BA
+1), xx - N, yy, zz-N), 
u
);

456 
št8_t
 
X4
 = 
	`Ë½7by8
(
	`g¿d8
(
	`P
(
AB
+1), 
xx
, 
yy
-
N
, 
zz
-N), g¿d8(P(
BB
+1), xx - N, yy - N, zz - N), 
u
);

458 
št8_t
 
Y1
 = 
	`Ë½7by8
(
X1
,
X2
,
v
);

459 
št8_t
 
Y2
 = 
	`Ë½7by8
(
X3
,
X4
,
v
);

461 
št8_t
 
ªs
 = 
	`Ë½7by8
(
Y1
,
Y2
,
w
);

463  
ªs
;

464 
	}
}

466 
ušt8_t
 
	$šoi£8
(
ušt16_t
 
x
, ušt16_ˆ
y
, ušt16_ˆ
z
) {

468 
št8_t
 
n
 = 
	`šoi£8_¿w
Ğ
x
, 
y
, 
z
);

469 
n
+= 64;

470 
ušt8_t
 
ªs
 = 
	`qadd8
Ğ
n
,‚);

471  
ªs
;

472 
	}
}

474 
št8_t
 
	$šoi£8_¿w
(
ušt16_t
 
x
, ušt16_ˆ
y
)

477 
ušt8_t
 
X
 = 
x
>>8;

478 
ušt8_t
 
Y
 = 
y
>>8;

481 
ušt8_t
 
A
 = 
	`P
(
X
)+
Y
;

482 
ušt8_t
 
AA
 = 
	`P
(
A
);

483 
ušt8_t
 
AB
 = 
	`P
(
A
+1);

484 
ušt8_t
 
B
 = 
	`P
(
X
+1)+
Y
;

485 
ušt8_t
 
BA
 = 
	`P
(
B
);

486 
ušt8_t
 
BB
 = 
	`P
(
B
+1);

489 
ušt8_t
 
u
 = 
x
;

490 
ušt8_t
 
v
 = 
y
;

493 
št8_t
 
xx
 = ((
ušt8_t
)(
x
)>>1) & 0x7F;

494 
št8_t
 
yy
 = ((
ušt8_t
)(
y
)>>1) & 0x7F;

495 
ušt8_t
 
N
 = 0x80;

497 
u
 = 
	`EASE8
(u); 
v
 = EASE8(v);

499 
št8_t
 
X1
 = 
	`Ë½7by8
(
	`g¿d8
(
	`P
(
AA
), 
xx
, 
yy
), g¿d8(P(
BA
), xx - 
N
, yy), 
u
);

500 
št8_t
 
X2
 = 
	`Ë½7by8
(
	`g¿d8
(
	`P
(
AB
), 
xx
, 
yy
-
N
), g¿d8(P(
BB
), xx - N, yy - N), 
u
);

502 
št8_t
 
ªs
 = 
	`Ë½7by8
(
X1
,
X2
,
v
);

504  
ªs
;

506 
	}
}

510 
ušt8_t
 
	$šoi£8
(
ušt16_t
 
x
, ušt16_ˆ
y
) {

512 
št8_t
 
n
 = 
	`šoi£8_¿w
Ğ
x
, 
y
);

513 
n
+= 64;

514 
ušt8_t
 
ªs
 = 
	`qadd8
Ğ
n
,‚);

515  
ªs
;

516 
	}
}

519 
št8_t
 
	$šoi£8_¿w
(
ušt16_t
 
x
)

522 
ušt8_t
 
X
 = 
x
>>8;

525 
ušt8_t
 
A
 = 
	`P
(
X
);

526 
ušt8_t
 
AA
 = 
	`P
(
A
);

527 
ušt8_t
 
B
 = 
	`P
(
X
+1);

528 
ušt8_t
 
BA
 = 
	`P
(
B
);

531 
ušt8_t
 
u
 = 
x
;

534 
št8_t
 
xx
 = ((
ušt8_t
)(
x
)>>1) & 0x7F;

535 
ušt8_t
 
N
 = 0x80;

537 
u
 = 
	`EASE8
( u);

539 
št8_t
 
ªs
 = 
	`Ë½7by8
(
	`g¿d8
(
	`P
(
AA
), 
xx
), g¿d8(P(
BA
), xx - 
N
), 
u
);

541  
ªs
;

542 
	}
}

544 
ušt8_t
 
	$šoi£8
(
ušt16_t
 
x
) {

545 
št8_t
 
n
 = 
	`šoi£8_¿w
(
x
);

546 
n
 += 64;

547 
ušt8_t
 
ªs
 = 
	`qadd8
(
n
,n);

548  
ªs
;

549 
	}
}

565 
	$fl_¿w_noi£8
(
ušt8_t
 *
pD©a
, ušt8_ˆ
num_pošts
, ušt8_ˆ
oùaves
, 
ušt16_t
 
x
, 
sÿË
, ušt16_ˆ
time
) {

566 
ušt32_t
 
_xx
 = 
x
;

567 
ušt32_t
 
scx
 = 
sÿË
;

568 
o
 = 0; o < 
oùaves
; ++o) {

569 
i
 = 0,
xx
=
_xx
; i < 
num_pošts
; ++i, xx+=
scx
) {

570 
pD©a
[
i
] = 
	`qadd8
ÕD©a[i],
	`šoi£8
(
xx
,
time
)>>
o
);

573 
_xx
 <<= 1;

574 
scx
 <<= 1;

576 
	}
}

578 
	$fl_¿w_noi£16što8
(
ušt8_t
 *
pD©a
, ušt8_ˆ
num_pošts
, ušt8_ˆ
oùaves
, 
ušt32_t
 
x
, 
sÿË
, ušt32_ˆ
time
) {

579 
ušt32_t
 
_xx
 = 
x
;

580 
ušt32_t
 
scx
 = 
sÿË
;

581 
o
 = 0; o < 
oùaves
; ++o) {

582 
i
 = 0,
xx
=
_xx
; i < 
num_pošts
; ++i, xx+=
scx
) {

583 
ušt32_t
 
accum
 = (
	`šoi£16
(
xx
,
time
))>>
o
;

584 
accum
 +ğ(
pD©a
[
i
]<<8);

585 if(
accum
 > 65535) {‡ccum = 65535; }

586 
pD©a
[
i
] = 
accum
>>8;

589 
_xx
 <<= 1;

590 
scx
 <<= 1;

592 
	}
}

594 
	$fl_¿w_2dnoi£8
(
ušt8_t
 *
pD©a
, 
width
, 
height
, ušt8_ˆ
oùaves
, 
q44
 
äeq44
, 
äaù8
 
am¶™ude
, 
sk
, 
ušt16_t
 
x
, 
sÿËx
, ušt16_ˆ
y
, 
sÿËy
, ušt16_ˆ
time
) {

595 if(
oùaves
 > 1) {

596 
	`fl_¿w_2dnoi£8
(
pD©a
, 
width
, 
height
, 
oùaves
-1, 
äeq44
, 
am¶™ude
, 
sk
+1, 
x
*äeq44, f»q44 * 
sÿËx
, 
y
*äeq44, f»q44 * 
sÿËy
, 
time
);

599 
am¶™ude
=255;

602 
sÿËx
 *ğ
sk
;

603 
sÿËy
 *ğ
sk
;

605 
äaù8
 
švamp
 = 255-
am¶™ude
;

606 
ušt16_t
 
xx
 = 
x
;

607 
i
 = 0; i < 
height
; ++i, 
y
+=
sÿËy
) {

608 
ušt8_t
 *
pRow
 = 
pD©a
 + (
i
*
width
);

609 
xx
 = 
x
;

610 
j
 = 0; j < 
width
; ++j, 
xx
+=
sÿËx
) {

611 
ušt8_t
 
noi£_ba£
 = 
	`šoi£8
(
xx
,
y
,
time
);

612 
noi£_ba£
 = (0x80 &‚oise_base) ? (noise_base - 127) : (127 -‚oise_base);

613 
noi£_ba£
 = 
	`sÿË8
Òoi£_ba£<<1,
am¶™ude
);

614 if(
sk
 == 1) {

615 
pRow
[
j
] = 
	`sÿË8
ÕRow[j],
švamp
è+ 
noi£_ba£
;

617 
ii
 = 
i
; ii<(i+
sk
è&& ii<
height
; ++ii) {

618 
ušt8_t
 *
pRow
 = 
pD©a
 + (
ii
*
width
);

619 
jj
=
j
; jj<(j+
sk
è&& jj<
width
; ++jj) {

620 
pRow
[
jj
] = 
	`sÿË8
ÕRow[jj],
švamp
è+ 
noi£_ba£
;

626 
	}
}

628 
	$fl_¿w_2dnoi£8
(
ušt8_t
 *
pD©a
, 
width
, 
height
, ušt8_ˆ
oùaves
, 
ušt16_t
 
x
, 
sÿËx
, ušt16_ˆ
y
, 
sÿËy
, ušt16_ˆ
time
) {

629 
	`fl_¿w_2dnoi£8
(
pD©a
, 
width
, 
height
, 
oùaves
, 
	`q44
(2,0), 128, 1, 
x
, 
sÿËx
, 
y
, 
sÿËy
, 
time
);

630 
	}
}

632 
	$fl_¿w_2dnoi£16
(
ušt16_t
 *
pD©a
, 
width
, 
height
, 
ušt8_t
 
oùaves
, 
q88
 
äeq88
, 
äaù16
 
am¶™ude
, 
sk
, 
ušt32_t
 
x
, 
sÿËx
, ušt32_ˆ
y
, 
sÿËy
, ušt32_ˆ
time
) {

633 if(
oùaves
 > 1) {

634 
	`fl_¿w_2dnoi£16
(
pD©a
, 
width
, 
height
, 
oùaves
-1, 
äeq88
, 
am¶™ude
, 
sk
, 
x
 *äeq88 , 
sÿËx
 *äeq88, 
y
 * f»q88, 
sÿËy
 * f»q88, 
time
);

637 
am¶™ude
=65535;

640 
sÿËx
 *ğ
sk
;

641 
sÿËy
 *ğ
sk
;

642 
äaù16
 
švamp
 = 65535-
am¶™ude
;

643 
i
 = 0; i < 
height
; i+=
sk
, 
y
+=
sÿËy
) {

644 
ušt16_t
 *
pRow
 = 
pD©a
 + (
i
*
width
);

645 
j
 = 0,
xx
=
x
; j < 
width
; j+=
sk
, xx+=
sÿËx
) {

646 
ušt16_t
 
noi£_ba£
 = 
	`šoi£16
(
xx
,
y
,
time
);

647 
noi£_ba£
 = (0x8000 &‚oise_base) ?‚oise_base - (32767) : 32767 -‚oise_base;

648 
noi£_ba£
 = 
	`sÿË16
Òoi£_ba£<<1, 
am¶™ude
);

649 if(
sk
==1) {

650 
pRow
[
j
] = 
	`sÿË16
ÕRow[j],
švamp
è+ 
noi£_ba£
;

652 
ii
 = 
i
; ii<(i+
sk
è&& ii<
height
; ++ii) {

653 
ušt16_t
 *
pRow
 = 
pD©a
 + (
ii
*
width
);

654 
jj
=
j
; jj<(j+
sk
è&& jj<
width
; ++jj) {

655 
pRow
[
jj
] = 
	`sÿË16
ÕRow[jj],
švamp
è+ 
noi£_ba£
;

661 
	}
}

663 
št32_t
 
	gnmš
=11111110;

664 
št32_t
 
	gnmax
=0;

666 
	$fl_¿w_2dnoi£16što8
(
ušt8_t
 *
pD©a
, 
width
, 
height
, ušt8_ˆ
oùaves
, 
q44
 
äeq44
, 
äaù8
 
am¶™ude
, 
sk
, 
ušt32_t
 
x
, 
sÿËx
, ušt32_ˆ
y
, 
sÿËy
, ušt32_ˆ
time
) {

667 if(
oùaves
 > 1) {

668 
	`fl_¿w_2dnoi£16što8
(
pD©a
, 
width
, 
height
, 
oùaves
-1, 
äeq44
, 
am¶™ude
, 
sk
+1, 
x
*äeq44, 
sÿËx
 *äeq44, 
y
*äeq44, 
sÿËy
 * f»q44, 
time
);

671 
am¶™ude
=255;

674 
sÿËx
 *ğ
sk
;

675 
sÿËy
 *ğ
sk
;

676 
ušt32_t
 
xx
;

677 
äaù8
 
švamp
 = 255-
am¶™ude
;

678 
i
 = 0; i < 
height
; i+=
sk
, 
y
+=
sÿËy
) {

679 
ušt8_t
 *
pRow
 = 
pD©a
 + (
i
*
width
);

680 
xx
 = 
x
;

681 
j
 = 0; j < 
width
; j+=
sk
, 
xx
+=
sÿËx
) {

682 
ušt16_t
 
noi£_ba£
 = 
	`šoi£16
(
xx
,
y
,
time
);

683 
noi£_ba£
 = (0x8000 &‚oise_base) ?‚oise_base - (32767) : 32767 -‚oise_base;

684 
noi£_ba£
 = 
	`sÿË8
Òoi£_ba£>>7,
am¶™ude
);

685 if(
sk
==1) {

686 
pRow
[
j
] = 
	`qadd8
(
	`sÿË8
ÕRow[j],
švamp
),
noi£_ba£
);

688 
ii
 = 
i
; ii<(i+
sk
è&& ii<
height
; ++ii) {

689 
ušt8_t
 *
pRow
 = 
pD©a
 + (
ii
*
width
);

690 
jj
=
j
; jj<(j+
sk
è&& jj<
width
; ++jj) {

691 
pRow
[
jj
] = 
	`sÿË8
ÕRow[jj],
švamp
è+ 
noi£_ba£
;

697 
	}
}

699 
	$fl_¿w_2dnoi£16što8
(
ušt8_t
 *
pD©a
, 
width
, 
height
, ušt8_ˆ
oùaves
, 
ušt32_t
 
x
, 
sÿËx
, ušt32_ˆ
y
, 
sÿËy
, ušt32_ˆ
time
) {

700 
	`fl_¿w_2dnoi£16što8
(
pD©a
, 
width
, 
height
, 
oùaves
, 
	`q44
(2,0), 171, 1, 
x
, 
sÿËx
, 
y
, 
sÿËy
, 
time
);

701 
	}
}

703 
	$fl_noi£8
(
CRGB
 *
Ëds
, 
num_Ëds
,

704 
ušt8_t
 
oùaves
, 
ušt16_t
 
x
, 
sÿË
,

705 
ušt8_t
 
hue_oùaves
, 
ušt16_t
 
hue_x
, 
hue_sÿË
,

706 
ušt16_t
 
time
) {

707 
ušt8_t
 
V
[
num_Ëds
];

708 
ušt8_t
 
H
[
num_Ëds
];

710 
	`mem£t
(
V
,0,
num_Ëds
);

711 
	`mem£t
(
H
,0,
num_Ëds
);

713 
	`fl_¿w_noi£8
(
V
,
num_Ëds
,
oùaves
,
x
,
sÿË
,
time
);

714 
	`fl_¿w_noi£8
(
H
,
num_Ëds
,
hue_oùaves
,
hue_x
,
hue_sÿË
,
time
);

716 
i
 = 0; i < 
num_Ëds
; ++i) {

717 
Ëds
[
i
] = 
	`CHSV
(
H
[i],255,
V
[i]);

719 
	}
}

721 
	$fl_noi£16
(
CRGB
 *
Ëds
, 
num_Ëds
,

722 
ušt8_t
 
oùaves
, 
ušt16_t
 
x
, 
sÿË
,

723 
ušt8_t
 
hue_oùaves
, 
ušt16_t
 
hue_x
, 
hue_sÿË
,

724 
ušt16_t
 
time
, 
ušt8_t
 
hue_shiá
) {

725 
ušt8_t
 
V
[
num_Ëds
];

726 
ušt8_t
 
H
[
num_Ëds
];

728 
	`mem£t
(
V
,0,
num_Ëds
);

729 
	`mem£t
(
H
,0,
num_Ëds
);

731 
	`fl_¿w_noi£16što8
(
V
,
num_Ëds
,
oùaves
,
x
,
sÿË
,
time
);

732 
	`fl_¿w_noi£8
(
H
,
num_Ëds
,
hue_oùaves
,
hue_x
,
hue_sÿË
,
time
);

734 
i
 = 0; i < 
num_Ëds
; ++i) {

735 
Ëds
[
i
] = 
	`CHSV
(
H
[i] + 
hue_shiá
,255,
V
[i]);

737 
	}
}

739 
	$fl_2dnoi£8
(
CRGB
 *
Ëds
, 
width
, 
height
, 
boŞ
 
£½’tše
,

740 
ušt8_t
 
oùaves
, 
ušt16_t
 
x
, 
xsÿË
, ušt16_ˆ
y
, 
ysÿË
, ušt16_ˆ
time
,

741 
ušt8_t
 
hue_oùaves
, 
ušt16_t
 
hue_x
, 
hue_xsÿË
, ušt16_ˆ
hue_y
, ušt16_ˆ
hue_ysÿË
,ušt16_ˆ
hue_time
,
boŞ
 
bËnd
) {

742 
ušt8_t
 
V
[
height
][
width
];

743 
ušt8_t
 
H
[
height
][
width
];

745 
	`mem£t
(
V
,0,
height
*
width
);

746 
	`mem£t
(
H
,0,
height
*
width
);

748 
	`fl_¿w_2dnoi£8
((
ušt8_t
*)
V
,
width
,
height
,
oùaves
,
x
,
xsÿË
,
y
,
ysÿË
,
time
);

749 
	`fl_¿w_2dnoi£8
((
ušt8_t
*)
H
,
width
,
height
,
hue_oùaves
,
hue_x
,
hue_xsÿË
,
hue_y
,
hue_ysÿË
,
hue_time
);

751 
w1
 = 
width
-1;

752 
h1
 = 
height
-1;

753 
i
 = 0; i < 
height
; ++i) {

754 
wb
 = 
i
*
width
;

755 
j
 = 0; j < 
width
; ++j) {

756 
CRGB
 
	`Ëd
(
	`CHSV
(
H
[
h1
-
i
][
w1
-
j
],255,
V
[i][j]));

758 
pos
 = 
j
;

759 if(
£½’tše
 && (
i
 & 0x1)) {

760 
pos
 = 
w1
-
j
;

763 if(
bËnd
) {

764 
Ëds
[
wb
+
pos
] >>ğ1;†eds[wb+pos] +ğ(
Ëd
>>=1);

766 
Ëds
[
wb
+
pos
] = 
Ëd
;

770 
	}
}

772 
	$fl_2dnoi£16
(
CRGB
 *
Ëds
, 
width
, 
height
, 
boŞ
 
£½’tše
,

773 
ušt8_t
 
oùaves
, 
ušt32_t
 
x
, 
xsÿË
, ušt32_ˆ
y
, 
ysÿË
, ušt32_ˆ
time
,

774 
ušt8_t
 
hue_oùaves
, 
ušt16_t
 
hue_x
, 
hue_xsÿË
, ušt16_ˆ
hue_y
, ušt16_ˆ
hue_ysÿË
,ušt16_ˆ
hue_time
, 
boŞ
 
bËnd
, ušt16_ˆ
hue_shiá
) {

775 
ušt8_t
 
V
[
height
][
width
];

776 
ušt8_t
 
H
[
height
][
width
];

778 
	`mem£t
(
V
,0,
height
*
width
);

779 
	`mem£t
(
H
,0,
height
*
width
);

781 
	`fl_¿w_2dnoi£16što8
((
ušt8_t
*)
V
,
width
,
height
,
oùaves
,
	`q44
(2,0),171,1,
x
,
xsÿË
,
y
,
ysÿË
,
time
);

784 
	`fl_¿w_2dnoi£8
((
ušt8_t
*)
H
,
width
,
height
,
hue_oùaves
,
hue_x
,
hue_xsÿË
,
hue_y
,
hue_ysÿË
,
hue_time
);

787 
w1
 = 
width
-1;

788 
h1
 = 
height
-1;

789 
hue_shiá
 >>= 8;

791 
i
 = 0; i < 
height
; ++i) {

792 
wb
 = 
i
*
width
;

793 
j
 = 0; j < 
width
; ++j) {

794 
CRGB
 
	`Ëd
(
	`CHSV
(
hue_shiá
 + (
H
[
h1
-
i
][
w1
-
j
]),196,
V
[i][j]));

796 
pos
 = 
j
;

797 if(
£½’tše
 && (
i
 & 0x1)) {

798 
pos
 = 
w1
-
j
;

801 if(
bËnd
) {

802 
Ëds
[
wb
+
pos
] >>ğ1;†eds[wb+pos] +ğ(
Ëd
>>=1);

804 
Ëds
[
wb
+
pos
] = 
Ëd
;

808 
	}
}

810 
	gFASTLED_NAMESPACE_END


	@src/noise.h

1 #iâdeà
__INC_NOISE_H


2 
	#__INC_NOISE_H


	)

4 
	~"Fa¡LED.h
"

6 
FASTLED_NAMESPACE_BEGIN


21 
ušt16_t
 
šoi£16
(
ušt32_t
 
x
, ušt32_ˆ
y
, ušt32_ˆ
z
);

22 
ušt16_t
 
šoi£16
(
ušt32_t
 
x
, ušt32_ˆ
y
);

23 
ušt16_t
 
šoi£16
(
ušt32_t
 
x
);

30 
št16_t
 
šoi£16_¿w
(
ušt32_t
 
x
, ušt32_ˆ
y
, ušt32_ˆ
z
);

31 
št16_t
 
šoi£16_¿w
(
ušt32_t
 
x
, ušt32_ˆ
y
);

32 
št16_t
 
šoi£16_¿w
(
ušt32_t
 
x
);

41 
ušt8_t
 
šoi£8
(
ušt16_t
 
x
, ušt16_ˆ
y
, ušt16_ˆ
z
);

42 
ušt8_t
 
šoi£8
(
ušt16_t
 
x
, ušt16_ˆ
y
);

43 
ušt8_t
 
šoi£8
(
ušt16_t
 
x
);

50 
št8_t
 
šoi£8_¿w
(
ušt16_t
 
x
, ušt16_ˆ
y
, ušt16_ˆ
z
);

51 
št8_t
 
šoi£8_¿w
(
ušt16_t
 
x
, ušt16_ˆ
y
);

52 
št8_t
 
šoi£8_¿w
(
ušt16_t
 
x
);

67 
fl_¿w_noi£8
(
ušt8_t
 *
pD©a
, ušt8_ˆ
num_pošts
, ušt8_ˆ
oùaves
, 
ušt16_t
 
x
, 
sÿËx
, ušt16_ˆ
time
);

68 
fl_¿w_noi£16što8
(
ušt8_t
 *
pD©a
, ušt8_ˆ
num_pošts
, ušt8_ˆ
oùaves
, 
ušt32_t
 
x
, 
sÿËx
, ušt32_ˆ
time
);

69 
fl_¿w_2dnoi£8
(
ušt8_t
 *
pD©a
, 
width
, 
height
, ušt8_ˆ
oùaves
, 
ušt16_t
 
x
, 
sÿËx
, ušt16_ˆ
y
, 
sÿËy
, ušt16_ˆ
time
);

70 
fl_¿w_2dnoi£16što8
(
ušt8_t
 *
pD©a
, 
width
, 
height
, ušt8_ˆ
oùaves
, 
ušt32_t
 
x
, 
sÿËx
, ušt32_ˆ
y
, 
sÿËy
, ušt32_ˆ
time
);

72 
fl_¿w_2dnoi£16
(
ušt16_t
 *
pD©a
, 
width
, 
height
, 
ušt8_t
 
oùaves
, 
q88
 
äeq88
, 
äaù16
 
am¶™ude
, 
sk
, 
ušt32_t
 
x
, 
sÿËx
, ušt32_ˆ
y
, 
sÿËy
, ušt32_ˆ
time
);

73 
fl_¿w_2dnoi£16što8
(
ušt8_t
 *
pD©a
, 
width
, 
height
, ušt8_ˆ
oùaves
, 
q44
 
äeq44
, 
äaù8
 
am¶™ude
, 
sk
, 
ušt32_t
 
x
, 
sÿËx
, ušt32_ˆ
y
, 
sÿËy
, ušt32_ˆ
time
);

79 
fl_noi£8
(
CRGB
 *
Ëds
, 
num_Ëds
,

80 
ušt8_t
 
oùaves
, 
ušt16_t
 
x
, 
sÿË
,

81 
ušt8_t
 
hue_oùaves
, 
ušt16_t
 
hue_x
, 
hue_sÿË
,

82 
ušt16_t
 
time
);

83 
fl_noi£16
(
CRGB
 *
Ëds
, 
num_Ëds
,

84 
ušt8_t
 
oùaves
, 
ušt16_t
 
x
, 
sÿË
,

85 
ušt8_t
 
hue_oùaves
, 
ušt16_t
 
hue_x
, 
hue_sÿË
,

86 
ušt16_t
 
time
, 
ušt8_t
 
hue_shiá
=0);

87 
fl_2dnoi£8
(
CRGB
 *
Ëds
, 
width
, 
height
, 
boŞ
 
£½’tše
,

88 
ušt8_t
 
oùaves
, 
ušt16_t
 
x
, 
xsÿË
, ušt16_ˆ
y
, 
ysÿË
, ušt16_ˆ
time
,

89 
ušt8_t
 
hue_oùaves
, 
ušt16_t
 
hue_x
, 
hue_xsÿË
, ušt16_ˆ
hue_y
, ušt16_ˆ
hue_ysÿË
,ušt16_ˆ
hue_time
,
boŞ
 
bËnd
);

90 
fl_2dnoi£16
(
CRGB
 *
Ëds
, 
width
, 
height
, 
boŞ
 
£½’tše
,

91 
ušt8_t
 
oùaves
, 
ušt32_t
 
x
, 
xsÿË
, ušt32_ˆ
y
, 
ysÿË
, ušt32_ˆ
time
,

92 
ušt8_t
 
hue_oùaves
, 
ušt16_t
 
hue_x
, 
hue_xsÿË
, ušt16_ˆ
hue_y
, ušt16_ˆ
hue_ysÿË
,ušt16_ˆ
hue_time
, 
boŞ
 
bËnd
, ušt16_ˆ
hue_shiá
=0);

94 
	gFASTLED_NAMESPACE_END


	@src/pixelset.h

1 #iâdeà
__INC_PIXELSET_H


2 
	#__INC_PIXELSET_H


	)

4 
	~"Fa¡LED.h
"

6 #iâdeà
abs


7 
	~<¡dlib.h
>

13 
	g‹m¶©e
<
şass
 
	gPIXEL_TYPE
>

14 şas 
	cCPix–V›w
 {

15 
	mpublic
:

16 cÚ¡ 
št8_t
 
dœ
;

17 cÚ¡ 
	mËn
;

18 
PIXEL_TYPE
 * cÚ¡ 
	mËds
;

19 
PIXEL_TYPE
 * cÚ¡ 
	m’d_pos
;

21 
	mpublic
:

23 
šlše
 
	$CPix–V›w
(cÚ¡ 
CPix–V›w
 & 
Ùh”
è: 
	`dœ
(Ùh”.
dœ
), 
	`Ën
(Ùh”.
Ën
), 
	`Ëds
(Ùh”.
Ëds
), 
	$’d_pos
(
Ùh”
.
’d_pos
) {}

29 
šlše
 
	$CPix–V›w
(
PIXEL_TYPE
 *
_Ëds
, 
_Ën
è: 
	`dœ
(_ËÀ< 0 ? -1 : 1), 
	`Ën
(_Ën), 
	`Ëds
(_Ëds), 
	`’d_pos
(_Ëd + _Ënè{
	}
}

36 
šlše
 
	$CPix–V›w
(
PIXEL_TYPE
 *
_Ëds
, 
_¡¬t
, 
_’d
è: 
	`dœ
(((_’d-_¡¬t)<0è? -1 : 1), 
	`Ën
((_’d - _¡¬tè+ 
dœ
), 
	`Ëds
(_Ëd + _¡¬t), 
	`’d_pos
(_Ëd + _¡¬ˆ+ 
Ën
è{
	}
}

40 
	$size
(è{  
	`abs
(
Ën
); 
	}
}

44 
boŞ
 
	$»v”£d
(è{  
Ën
 < 0; 
	}
}

47 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
CPix–V›w
 & 
rhs
ècÚ¡ {  
Ëds
 =ğrhs.Ëd && 
Ën
 =ğrhs.ËÀ&& 
dœ
 ==„hs.dir; }

50 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
CPix–V›w
 & 
rhs
ècÚ¡ {  
Ëds
 !ğrhs.Ëd || 
Ën
 !ğrhs.ËÀ|| 
dœ
 !=„hs.dir; }

53 
šlše
 
	gPIXEL_TYPE
 & 
	gİ”©Ü
[](
	gx
ècÚ¡ { if(
	gdœ
 & 0x80è{  
	gËds
[-
x
]; } { †eds[x]; } }

59 
šlše
 
CPix–V›w
 
	$İ”©Ü
()(
¡¬t
, 
’d
è{  
	`CPix–V›w
(
Ëds
, s¹,ƒnd); 
	}
}

66 
šlše
 
CPix–V›w
 
	gİ”©Ü
-(è{  CPix–V›w(
Ëds
, 
Ën
 - 
dœ
, 0); }

69 
šlše
 
İ”©Ü
 
	gPIXEL_TYPE
* (ècÚ¡ {  
	gËds
; }

73 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
=(cÚ¡ 
PIXEL_TYPE
 & 
cŞÜ
) {

74 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–èğ
cŞÜ
; }

75  *
	gthis
;

79 
	$dump
() const {

86 
	}
}

90 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
=(cÚ¡ 
CPix–V›w
 & 
rhs
) {

91 
™”©Ü
 
pix–
 = 
begš
(), 
	grh¥ix–
 = 
rhs
.begš(), 
	g_’d
 = 
’d
(), 
	grhs_’d
 =„hs.’d(); (
	gpix–
 !ğ
_’d
è&& (
rh¥ix–
 !ğ
rhs_’d
); ++pixel, ++rhspixel) {

92 (*
	gpix–
èğ(*
rh¥ix–
);

94  *
	gthis
;

100 
šlše
 
	gCPix–V›w
 & 
	$addToRGB
(
ušt8_t
 
šc
è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
_’d
 = 
	`’d
();…ix– !ğ_’d; ++pix–è{ (*pix–è+ğšc; }  *
this
; 
	}
}

102 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
+=(
CPix–V›w
 & 
rhs
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	grh¥ix–
 =„hs.begš(), 
	g_’d
 = 
’d
(), 
	grhs_’d
 =„hs.’d(); (
	gpix–
 !ğ
_’d
è&& (
rh¥ix–
 !ğ
rhs_’d
); ++pix–, ++rh¥ix–è{ (*pix–è+ğ(*rh¥ix–); }  *
	gthis
; }

105 
šlše
 
	gCPix–V›w
 & 
	$subFromRGB
(
ušt8_t
 
šc
è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
_’d
 = 
	`’d
();…ix– !ğ_’d; ++pix–è{ (*pix–è-ğšc; }  *
this
; 
	}
}

107 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
-=(
CPix–V›w
 & 
rhs
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	grh¥ix–
 =„hs.begš(), 
	g_’d
 = 
’d
(), 
	grhs_’d
 =„hs.’d(); (
	gpix–
 !ğ
_’d
è&& (
rh¥ix–
 !ğ
rhs_’d
); ++pix–, ++rh¥ix–è{ (*pix–è-ğ(*rh¥ix–); }  *
	gthis
; }

110 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
++(è{ 
™”©Ü
 
	gpix–
 = 
begš
(), 
	g_’d
 = 
’d
();…ix– !ğ
_’d
; ++pix–è{ (*pix–)++; }  *
	gthis
; }

112 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
++(
	gDUMMY_ARG
è{ 
™”©Ü
 
	gpix–
 = 
begš
(), 
	g_’d
 = 
’d
();…ix– !ğ
_’d
; ++pix–è{ (*pix–)++; }  *
	gthis
; }

115 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
--(è{ 
™”©Ü
 
	gpix–
 = 
begš
(), 
	g_’d
 = 
’d
();…ix– !ğ
_’d
; ++pix–è{ (*pix–)--; }  *
	gthis
; }

117 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
--(
	gDUMMY_ARG
è{ 
™”©Ü
 
	gpix–
 = 
begš
(), 
	g_’d
 = 
’d
();…ix– !ğ
_’d
; ++pix–è{ (*pix–)--; }  *
	gthis
; }

120 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
/=(
ušt8_t
 
d
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–è/ğd; }  *
	gthis
; }

122 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
>>=(
ušt8_t
 
d
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–è>>ğd; }  *
	gthis
; }

124 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
*=(
ušt8_t
 
d
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–è*ğd; }  *
	gthis
; }

127 
šlše
 
	gCPix–V›w
 & 
	$nsÿË8_video
(
ušt8_t
 
sÿËdown
è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
_’d
 = 
	`’d
();…ix– !ğ_’d; ++pix–è{ (*pix–).
	`nsÿË8_video
(sÿËdown); }  *
this
;
	}
}

129 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
%=(
ušt8_t
 
sÿËdown
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–).
nsÿË8_video
(sÿËdown); }  *
	gthis
; }

131 
šlše
 
	gCPix–V›w
 & 
	$çdeLightBy
(
ušt8_t
 
çdeçùÜ
è{  
	`nsÿË8_video
(255 - fadeçùÜ); 
	}
}

134 
šlše
 
	gCPix–V›w
 & 
	$nsÿË8
(
ušt8_t
 
sÿËdown
è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
_’d
 = 
	`’d
();…ix– !ğ_’d; ++pix–è{ (*pix–).
	`nsÿË8
(sÿËdown); }  *
this
; 
	}
}

136 
šlše
 
	gCPix–V›w
 & 
	$nsÿË8
(
PIXEL_TYPE
 & 
sÿËdown
è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
_’d
 = 
	`’d
();…ix– !ğ_’d; ++pix–è{ (*pix–).
	`nsÿË8
(sÿËdown); }  *
this
; 
	}
}

138 
šlše
 
	gCPix–V›w
 & 
	$nsÿË8
(
CPix–V›w
 & 
rhs
è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
rh¥ix–
 =„hs.begš(), 
_’d
 = 
	`’d
(), 
rhs_’d
 =„hs.’d(); (pix– !ğ_’dè&& (rh¥ix– !ğrhs_’d); ++pix–, ++rh¥ix–è{ (*pix–).
	`nsÿË8
((*rh¥ix–)); }  *
this
; 
	}
}

141 
šlše
 
	gCPix–V›w
 & 
	$çdeToBÏckBy
(
ušt8_t
 
çde
è{  
	`nsÿË8
(255 - fade); 
	}
}

144 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
|=(cÚ¡ 
PIXEL_TYPE
 & 
rhs
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–è|ğrhs; }  *
	gthis
; }

146 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
|=(cÚ¡ 
CPix–V›w
 & 
rhs
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	grh¥ix–
 =„hs.begš(), 
	g_’d
 = 
’d
(), 
	grhs_’d
 =„hs.’d(); (
	gpix–
 !ğ
_’d
è&& (
rh¥ix–
 !ğ
rhs_’d
); ++pix–, ++rh¥ix–è{ (*pix–è|ğ(*rh¥ix–); }  *
	gthis
; }

148 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
|=(
ušt8_t
 
d
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–è|ğd; }  *
	gthis
; }

151 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
&=(cÚ¡ 
PIXEL_TYPE
 & 
rhs
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–è&ğrhs; }  *
	gthis
; }

153 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
&=(cÚ¡ 
CPix–V›w
 & 
rhs
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	grh¥ix–
 =„hs.begš(), 
	g_’d
 = 
’d
(), 
	grhs_’d
 =„hs.’d(); (
	gpix–
 !ğ
_’d
è&& (
rh¥ix–
 !ğ
rhs_’d
); ++pix–, ++rh¥ix–è{ (*pix–è&ğ(*rh¥ix–); }  *
	gthis
; }

155 
šlše
 
	gCPix–V›w
 & 
	gİ”©Ü
&=(
ušt8_t
 
d
è{ 
™”©Ü
 
pix–
 = 
begš
(), 
	g_’d
 = 
’d
(); 
	gpix–
 !ğ
_’d
; ++pix–è{ (*pix–è&ğd; }  *
	gthis
; }

159 
šlše
 
İ”©Ü
 
	$boŞ
(è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
_’d
 = 
	`’d
();…ix– !ğ_’d; ++pix–è{ if((*pix–)è 
Œue
; }  
çl£
; 
	}
}

162 
šlše
 
	gCPix–V›w
 & 
	$fl_sŞid
(cÚ¡ 
PIXEL_TYPE
 & 
cŞÜ
è{ *
this
 = cŞÜ;  *this; 
	}
}

163 
šlše
 
	gCPix–V›w
 & 
	$fl_sŞid
(cÚ¡ 
CHSV
 & 
cŞÜ
è{ if(
dœ
>0è{ *
this
 = cŞÜ;  *this; } 
	}
}

165 
šlše
 
	gCPix–V›w
 & 
	$fl_¿šbow
(
ušt8_t
 
š™Ÿlhue
, ušt8_ˆ
d–hue
=5) {

166 if(
dœ
 >= 0) {

167 ::
	`fl_¿šbow
(
Ëds
,
Ën
,
š™Ÿlhue
,
d–hue
);

169 ::
	`fl_¿šbow
(
Ëds
+
Ën
+1,-Ën,
š™Ÿlhue
,
d–hue
);

171  *
this
;

172 
	}
}

174 
šlše
 
	gCPix–V›w
 & 
	$fl_g¿d›Á
(cÚ¡ 
CHSV
 & 
¡¬tcŞÜ
, cÚ¡ CHSV & 
’dcŞÜ
, 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
) {

175 if(
dœ
 >= 0) {

176 ::
	`fl_g¿d›Á
(
Ëds
,
Ën
,
¡¬tcŞÜ
, 
’dcŞÜ
, 
dœeùiÚCode
);

178 ::
	`fl_g¿d›Á
(
Ëds
 + 
Ën
 + 1, (-Ën), 
’dcŞÜ
, 
¡¬tcŞÜ
, 
dœeùiÚCode
);

180  *
this
;

181 
	}
}

183 
šlše
 
	gCPix–V›w
 & 
	$fl_g¿d›Á
(cÚ¡ 
CHSV
 & 
c1
, cÚ¡ CHSV & 
c2
, cÚ¡ CHSV & 
c3
, 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
) {

184 if(
dœ
 >= 0) {

185 ::
	`fl_g¿d›Á
(
Ëds
, 
Ën
, 
c1
, 
c2
, 
c3
, 
dœeùiÚCode
);

187 ::
	`fl_g¿d›Á
(
Ëds
 + 
Ën
 + 1, -Ën, 
c3
, 
c2
, 
c1
, 
dœeùiÚCode
);

189  *
this
;

190 
	}
}

192 
šlše
 
	gCPix–V›w
 & 
	$fl_g¿d›Á
(cÚ¡ 
CHSV
 & 
c1
, cÚ¡ CHSV & 
c2
, cÚ¡ CHSV & 
c3
, cÚ¡ CHSV & 
c4
, 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
) {

193 if(
dœ
 >= 0) {

194 ::
	`fl_g¿d›Á
(
Ëds
, 
Ën
, 
c1
, 
c2
, 
c3
, 
c4
, 
dœeùiÚCode
);

196 ::
	`fl_g¿d›Á
(
Ëds
 + 
Ën
 + 1, -Ën, 
c4
, 
c3
, 
c2
, 
c1
, 
dœeùiÚCode
);

198  *
this
;

199 
	}
}

201 
šlše
 
	gCPix–V›w
 & 
	$fl_g¿d›Á_RGB
(cÚ¡ 
PIXEL_TYPE
 & 
¡¬tcŞÜ
, cÚ¡ PIXEL_TYPE & 
’dcŞÜ
, 
TG¿d›ÁDœeùiÚCode
 
dœeùiÚCode
 = 
SHORTEST_HUES
) {

202 if(
dœ
 >= 0) {

203 ::
	`fl_g¿d›Á_RGB
(
Ëds
,
Ën
,
¡¬tcŞÜ
, 
’dcŞÜ
);

205 ::
	`fl_g¿d›Á_RGB
(
Ëds
 + 
Ën
 + 1, (-Ën), 
’dcŞÜ
, 
¡¬tcŞÜ
);

207  *
this
;

208 
	}
}

210 
šlše
 
	gCPix–V›w
 & 
	$fl_g¿d›Á_RGB
(cÚ¡ 
PIXEL_TYPE
 & 
c1
, cÚ¡ PIXEL_TYPE & 
c2
, cÚ¡ PIXEL_TYPE & 
c3
) {

211 if(
dœ
 >= 0) {

212 ::
	`fl_g¿d›Á_RGB
(
Ëds
, 
Ën
, 
c1
, 
c2
, 
c3
);

214 ::
	`fl_g¿d›Á_RGB
(
Ëds
 + 
Ën
 + 1, -Ën, 
c3
, 
c2
, 
c1
);

216  *
this
;

217 
	}
}

219 
šlše
 
	gCPix–V›w
 & 
	$fl_g¿d›Á_RGB
(cÚ¡ 
PIXEL_TYPE
 & 
c1
, cÚ¡ PIXEL_TYPE & 
c2
, cÚ¡ PIXEL_TYPE & 
c3
, cÚ¡ PIXEL_TYPE & 
c4
) {

220 if(
dœ
 >= 0) {

221 ::
	`fl_g¿d›Á_RGB
(
Ëds
, 
Ën
, 
c1
, 
c2
, 
c3
, 
c4
);

223 ::
	`fl_g¿d›Á_RGB
(
Ëds
 + 
Ën
 + 1, -Ën, 
c4
, 
c3
, 
c2
, 
c1
);

225  *
this
;

226 
	}
}

228 
šlše
 
	gCPix–V›w
 & 
	$nbËnd
(cÚ¡ 
PIXEL_TYPE
 & 
ov”Ïy
, 
äaù8
 
amouÁOfOv”Ïy
è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
_’d
 = 
	`’d
();…ix– !ğ_’d; ++pix–è{ ::
	`nbËnd
((*pix–), ov”Ïy,‡mouÁOfOv”Ïy); }  *
this
; 
	}
}

229 
šlše
 
	gCPix–V›w
 & 
	$nbËnd
(cÚ¡ 
CPix–V›w
 & 
rhs
, 
äaù8
 
amouÁOfOv”Ïy
è{ 
™”©Ü
 
pix–
 = 
	`begš
(), 
rh¥ix–
 =„hs.begš(), 
_’d
 = 
	`’d
(), 
rhs_’d
 =„hs.’d(); (pix– !ğ_’dè&& (rh¥ix– !ğrhs_’d); ++pix–, ++rh¥ix–è{ ::
	`nbËnd
((*pix–), (*rh¥ix–),‡mouÁOfOv”Ïy); }  *
this
; 
	}
}

232 
šlše
 
	gCPix–V›w
 & 
	$blur1d
(
äaù8
 
blur_amouÁ
) {

233 if(
dœ
 >= 0) {

234 ::
	`blur1d
(
Ëds
, 
Ën
, 
blur_amouÁ
);

236 ::
	`blur1d
(
Ëds
 + 
Ën
 + 1, -Ën, 
blur_amouÁ
);

238  *
this
;

239 
	}
}

241 
šlše
 
	gCPix–V›w
 & 
	$ÇµlyGamma_video
(
gamma
) {

242 if(
dœ
 >= 0) {

243 ::
	`ÇµlyGamma_video
(
Ëds
, 
Ën
, 
gamma
);

245 ::
	`ÇµlyGamma_video
(
Ëds
 + 
Ën
 + 1, -Ën, 
gamma
);

247  *
this
;

248 
	}
}

250 
šlše
 
	gCPix–V›w
 & 
	$ÇµlyGamma_video
(
gammaR
, 
gammaG
, 
gammaB
) {

251 if(
dœ
 >= 0) {

252 ::
	`ÇµlyGamma_video
(
Ëds
, 
Ën
, 
gammaR
, 
gammaG
, 
gammaB
);

254 ::
	`ÇµlyGamma_video
(
Ëds
 + 
Ën
 + 1, -Ën, 
gammaR
, 
gammaG
, 
gammaB
);

256  *
this
;

257 
	}
}

260 
	g‹m¶©e
 <
şass
 
	gT
>

261 şas 
	cpix–£t_™”©Ü_ba£
 {

262 
T
 * 
	gËds
;

263 cÚ¡ 
št8_t
 
	gdœ
;

265 
	gpublic
:

266 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
pix–£t_™”©Ü_ba£
(cÚ¡…ix–£t_™”©Ü_ba£ & 
rhs
è: 
Ëds
Ôhs.Ëds), 
dœ
(rhs.dir) {}

267 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
pix–£t_™”©Ü_ba£
(
T
 * 
_Ëds
, cÚ¡ 
_dœ
è: 
Ëds
(_Ëds), 
dœ
(_dir) {}

269 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gpix–£t_™”©Ü_ba£
& 
	gİ”©Ü
++(è{ 
	gËds
 +ğ
dœ
;  *
	gthis
; }

270 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
pix–£t_™”©Ü_ba£
 
	gİ”©Ü
++(è{…ix–£t_™”©Ü_ba£ 
tmp
(*
this
); 
	gËds
 +ğ
dœ
;  
	gtmp
; }

272 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
boŞ
 
	gİ”©Ü
==(
pix–£t_™”©Ü_ba£
 & 
Ùh”
ècÚ¡ {  
Ëds
 == other.leds; }

273 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
boŞ
 
	gİ”©Ü
!=(
pix–£t_™”©Ü_ba£
 & 
Ùh”
ècÚ¡ {  
Ëds
 != other.leds; }

275 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	gPIXEL_TYPE
& 
	gİ”©Ü
*(ècÚ¡ {  *
	gËds
; }

278 
	gpix–£t_™”©Ü_ba£
<
	tPIXEL_TYPE
> 
	t™”©Ü
;

279 
	gpix–£t_™”©Ü_ba£
<cÚ¡ 
	tPIXEL_TYPE
> 
	tcÚ¡_™”©Ü
;

281 
™”©Ü
 
	$begš
(è{  
	`™”©Ü
(
Ëds
, 
dœ
); 
	}
}

282 
™”©Ü
 
	$’d
(è{  
	`™”©Ü
(
’d_pos
, 
dœ
); 
	}
}

284 
™”©Ü
 
	$begš
(ècÚ¡ {  
	`™”©Ü
(
Ëds
, 
dœ
); 
	}
}

285 
™”©Ü
 
	$’d
(ècÚ¡ {  
	`™”©Ü
(
’d_pos
, 
dœ
); 
	}
}

287 
cÚ¡_™”©Ü
 
	$cbegš
(ècÚ¡ {  
	`cÚ¡_™”©Ü
(
Ëds
, 
dœ
); 
	}
}

288 
cÚ¡_™”©Ü
 
	$ûnd
(ècÚ¡ {  
	`cÚ¡_™”©Ü
(
’d_pos
, 
dœ
); 
	}
}

291 
	gCPix–V›w
<
	tCRGB
> 
	tCRGBS‘
;

293 
__©Œibu‹__
((
®ways_šlše
))

294 
šlše
 
CRGB
 *
	gİ”©Ü
+(cÚ¡ 
	gCRGBS‘
 & 
	gpix–s
, 
	goff£t
è{  (
	gCRGB
*)pixels + offset; }

297 
	g‹m¶©e
<
	gSIZE
>

298 
şass
 
	gCRGBA¼ay
 : 
public
 
CPix–V›w
<
CRGB
> {

299 
CRGB
 
¿wËds
[
SIZE
];

301 
	gpublic
:

302 
CRGBA¼ay
(è: 
CPix–V›w
<
CRGB
>(
¿wËds
, 
	gSIZE
) {}

303 
usšg
 
	gCPix–V›w
::
İ”©Ü
=;

	@src/pixeltypes.h

1 #iâdeà
__INC_PIXELS_H


2 
	#__INC_PIXELS_H


	)

4 
	~"Fa¡LED.h
"

6 
	~<¡dšt.h
>

7 
	~"lib8tiÚ.h
"

8 
	~"cŞÜ.h
"

10 
FASTLED_NAMESPACE_BEGIN


12 
	gCRGB
;

13 
	gCHSV
;

20 
hsv2rgb_¿šbow
ĞcÚ¡ 
CHSV
& 
hsv
, 
CRGB
& 
rgb
);

23 
	sCHSV
 {

27 
ušt8_t
 
	mhue
;

28 
ušt8_t
 
	mh
; };

30 
ušt8_t
 
	m§tu¿tiÚ
;

31 
ušt8_t
 
	m§t
;

32 
ušt8_t
 
	ms
; };

34 
ušt8_t
 
	mv®ue
;

35 
ušt8_t
 
	mv®
;

36 
ušt8_t
 
	mv
; };

38 
ušt8_t
 
	m¿w
[3];

42 
šlše
 
	mušt8_t
& 
	mİ”©Ü
[] (
ušt8_t
 
	mx
è
__©Œibu‹__
((
®ways_šlše
))

44  
	m¿w
[
x
];

48 
šlše
 cÚ¡ 
	mušt8_t
& 
	mİ”©Ü
[] (
ušt8_t
 
	mx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

50  
	m¿w
[
x
];

54 
šlše
 
CHSV
(è
__©Œibu‹__
((
®ways_šlše
)) = ;

57 
šlše
 
CHSV
Ğ
ušt8_t
 
ih
, ušt8_ˆ
is
, ušt8_ˆ
iv
è
__©Œibu‹__
((
®ways_šlše
))

58 : 
h
(
ih
), 
s
(
is
), 
v
(
iv
)

63 
šlše
 
CHSV
(cÚ¡ CHSV& 
rhs
è
__©Œibu‹__
((
®ways_šlše
)) = ;

65 
šlše
 
	mCHSV
& 
	mİ”©Ü
ğ(cÚ¡ 
CHSV
& 
rhs
è
__©Œibu‹__
((
®ways_šlše
)) = ;

67 
šlše
 
	mCHSV
& 
£tHSV
(
ušt8_t
 
ih
, ušt8_ˆ
is
, ušt8_ˆ
iv
è
__©Œibu‹__
((
®ways_šlše
))

69 
	mh
 = 
ih
;

70 
	ms
 = 
is
;

71 
	mv
 = 
iv
;

72  *
	mthis
;

78 
	mHUE_RED
 = 0,

79 
	mHUE_ORANGE
 = 32,

80 
	mHUE_YELLOW
 = 64,

81 
	mHUE_GREEN
 = 96,

82 
	mHUE_AQUA
 = 128,

83 
	mHUE_BLUE
 = 160,

84 
	mHUE_PURPLE
 = 192,

85 
	mHUE_PINK
 = 224

86 } 
	tHSVHue
;

89 
	sCRGB
 {

93 
ušt8_t
 
	mr
;

94 
ušt8_t
 
	m»d
;

97 
ušt8_t
 
	mg
;

98 
ušt8_t
 
	mg»’
;

101 
ušt8_t
 
	mb
;

102 
ušt8_t
 
	mblue
;

105 
ušt8_t
 
	m¿w
[3];

109 
šlše
 
	mušt8_t
& 
	mİ”©Ü
[] (
ušt8_t
 
	mx
è
__©Œibu‹__
((
®ways_šlše
))

111  
	m¿w
[
x
];

115 
šlše
 cÚ¡ 
	mušt8_t
& 
	mİ”©Ü
[] (
ušt8_t
 
	mx
ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

117  
	m¿w
[
x
];

121 
šlše
 
CRGB
(è
__©Œibu‹__
((
®ways_šlše
)) = ;

124 
šlše
 
CRGB
Ğ
ušt8_t
 
œ
, ušt8_ˆ
ig
, ušt8_ˆ
ib
è
__©Œibu‹__
((
®ways_šlše
))

125 : 
r
(
œ
), 
g
(
ig
), 
b
(
ib
)

130 
šlše
 
CRGB
Ğ
ušt32_t
 
cŞÜcode
è
__©Œibu‹__
((
®ways_šlše
))

131 : 
r
((
cŞÜcode
 >> 16è& 0xFF), 
g
((cŞÜcod>> 8è& 0xFF), 
b
((colorcode >> 0) & 0xFF)

136 
šlše
 
CRGB
Ğ
LEDCŞÜCÜ»ùiÚ
 
cŞÜcode
è
__©Œibu‹__
((
®ways_šlše
))

137 : 
r
((
cŞÜcode
 >> 16è& 0xFF), 
g
((cŞÜcod>> 8è& 0xFF), 
b
((colorcode >> 0) & 0xFF)

143 
šlše
 
CRGB
Ğ
CŞÜTem³¿tu»
 
cŞÜcode
è
__©Œibu‹__
((
®ways_šlše
))

144 : 
r
((
cŞÜcode
 >> 16è& 0xFF), 
g
((cŞÜcod>> 8è& 0xFF), 
b
((colorcode >> 0) & 0xFF)

150 
šlše
 
CRGB
(cÚ¡ CRGB& 
rhs
è
__©Œibu‹__
((
®ways_šlše
)) = ;

152 
šlše
 
CRGB
(cÚ¡ 
CHSV
& 
rhs
è
__©Œibu‹__
((
®ways_šlše
))

154 
hsv2rgb_¿šbow
Ğ
rhs
, *
this
);

158 
šlše
 
	mCRGB
& 
	mİ”©Ü
ğ(cÚ¡ 
CRGB
& 
rhs
è
__©Œibu‹__
((
®ways_šlše
)) = ;

161 
šlše
 
	mCRGB
& 
	mİ”©Ü
ğ(cÚ¡ 
ušt32_t
 
cŞÜcode
è
__©Œibu‹__
((
®ways_šlše
))

163 
r
 = (
cŞÜcode
 >> 16) & 0xFF;

164 
	mg
 = (
cŞÜcode
 >> 8) & 0xFF;

165 
	mb
 = (
cŞÜcode
 >> 0) & 0xFF;

166  *
	mthis
;

170 
šlše
 
	mCRGB
& 
£tRGB
 (
ušt8_t
 
Ä
, ušt8_ˆ
ng
, ušt8_ˆ
nb
è
__©Œibu‹__
((
®ways_šlše
))

172 
	mr
 = 
Ä
;

173 
	mg
 = 
ng
;

174 
	mb
 = 
nb
;

175  *
	mthis
;

179 
šlše
 
	mCRGB
& 
£tHSV
 (
ušt8_t
 
hue
, ušt8_ˆ
§t
, ušt8_ˆ
v®
è
__©Œibu‹__
((
®ways_šlše
))

181 
hsv2rgb_¿šbow
Ğ
CHSV
(
hue
, 
§t
, 
v®
), *
this
);

182  *
	mthis
;

186 
šlše
 
	mCRGB
& 
£tHue
 (
ušt8_t
 
hue
è
__©Œibu‹__
((
®ways_šlše
))

188 
hsv2rgb_¿šbow
Ğ
CHSV
(
hue
, 255, 255), *
this
);

189  *
	mthis
;

193 
šlše
 
	mCRGB
& 
	mİ”©Ü
ğ(cÚ¡ 
CHSV
& 
rhs
è
__©Œibu‹__
((
®ways_šlše
))

195 
hsv2rgb_¿šbow
Ğ
rhs
, *
this
);

196  *
	mthis
;

200 
šlše
 
	mCRGB
& 
£tCŞÜCode
 (
ušt32_t
 
cŞÜcode
è
__©Œibu‹__
((
®ways_šlše
))

202 
	mr
 = (
cŞÜcode
 >> 16) & 0xFF;

203 
	mg
 = (
cŞÜcode
 >> 8) & 0xFF;

204 
	mb
 = (
cŞÜcode
 >> 0) & 0xFF;

205  *
	mthis
;

210 
šlše
 
	mCRGB
& 
	mİ”©Ü
+ğ(cÚ¡ 
CRGB
& 
rhs
 )

212 
r
 = 
qadd8
Ğr, 
rhs
.r);

213 
	mg
 = 
qadd8
Ğ
g
, 
rhs
.g);

214 
	mb
 = 
qadd8
Ğ
b
, 
rhs
.b);

215  *
	mthis
;

222 
šlše
 
	mCRGB
& 
addToRGB
 (
ušt8_t
 
d
 )

224 
	mr
 = 
qadd8
Ğ
r
, 
d
);

225 
	mg
 = 
qadd8
Ğ
g
, 
d
);

226 
	mb
 = 
qadd8
Ğ
b
, 
d
);

227  *
	mthis
;

231 
šlše
 
	mCRGB
& 
	mİ”©Ü
-ğ(cÚ¡ 
CRGB
& 
rhs
 )

233 
r
 = 
qsub8
Ğr, 
rhs
.r);

234 
	mg
 = 
qsub8
Ğ
g
, 
rhs
.g);

235 
	mb
 = 
qsub8
Ğ
b
, 
rhs
.b);

236  *
	mthis
;

243 
šlše
 
	mCRGB
& 
subŒaùFromRGB
(
ušt8_t
 
d
 )

245 
	mr
 = 
qsub8
Ğ
r
, 
d
);

246 
	mg
 = 
qsub8
Ğ
g
, 
d
);

247 
	mb
 = 
qsub8
Ğ
b
, 
d
);

248  *
	mthis
;

252 
šlše
 
	mCRGB
& 
	mİ”©Ü
-- (è
__©Œibu‹__
((
®ways_šlše
))

254 
subŒaùFromRGB
(1);

255  *
	mthis
;

259 
šlše
 
CRGB
 
	mİ”©Ü
-- (è
__©Œibu‹__
((
®ways_šlše
))

261 
CRGB
 
»tv®
(*
this
);

262 --(*
	mthis
);

263  
	m»tv®
;

267 
šlše
 
	mCRGB
& 
	mİ”©Ü
++ (è
__©Œibu‹__
((
®ways_šlše
))

269 
addToRGB
(1);

270  *
	mthis
;

274 
šlše
 
CRGB
 
	mİ”©Ü
++ (è
__©Œibu‹__
((
®ways_šlše
))

276 
CRGB
 
»tv®
(*
this
);

277 ++(*
	mthis
);

278  
	m»tv®
;

282 
šlše
 
	mCRGB
& 
	mİ”©Ü
/ğ(
ušt8_t
 
d
 )

284 
r
 /ğ
d
;

285 
	mg
 /ğ
d
;

286 
	mb
 /ğ
d
;

287  *
	mthis
;

291 
šlše
 
	mCRGB
& 
	mİ”©Ü
>>ğ(
ušt8_t
 
d
)

293 
r
 >>ğ
d
;

294 
	mg
 >>ğ
d
;

295 
	mb
 >>ğ
d
;

296  *
	mthis
;

301 
šlše
 
	mCRGB
& 
	mİ”©Ü
*ğ(
ušt8_t
 
d
 )

303 
r
 = 
qmul8
Ğr, 
d
);

304 
	mg
 = 
qmul8
Ğ
g
, 
d
);

305 
	mb
 = 
qmul8
Ğ
b
, 
d
);

306  *
	mthis
;

314 
šlše
 
	mCRGB
& 
nsÿË8_video
 (
ušt8_t
 
sÿËdown
 )

316 
nsÿË8x3_video
Ğ
r
, 
g
, 
b
, 
sÿËdown
);

317  *
	mthis
;

322 
šlše
 
	mCRGB
& 
	mİ”©Ü
%ğ(
ušt8_t
 
sÿËdown
 )

324 
nsÿË8x3_video
Ğ
r
, 
g
, 
b
, 
sÿËdown
);

325  *
	mthis
;

329 
šlše
 
	mCRGB
& 
çdeLightBy
 (
ušt8_t
 
çdeçùÜ
 )

331 
nsÿË8x3_video
Ğ
r
, 
g
, 
b
, 255 - 
çdeçùÜ
);

332  *
	mthis
;

338 
šlše
 
	mCRGB
& 
nsÿË8
 (
ušt8_t
 
sÿËdown
 )

340 
nsÿË8x3
Ğ
r
, 
g
, 
b
, 
sÿËdown
);

341  *
	mthis
;

347 
šlše
 
	mCRGB
& 
nsÿË8
 (cÚ¡ 
CRGB
 & 
sÿËdown
 )

349 
	mr
 = ::
sÿË8
(
r
, 
sÿËdown
.r);

350 
	mg
 = ::
sÿË8
(
g
, 
sÿËdown
.g);

351 
	mb
 = ::
sÿË8
(
b
, 
sÿËdown
.b);

352  *
	mthis
;

356 
šlše
 
CRGB
 
sÿË8
 (cÚ¡ CRGB & 
sÿËdown
 ) const

358 
CRGB
 
	mout
;

359 
	mout
.
	mr
 = ::
sÿË8
(
r
, 
sÿËdown
.r);

360 
	mout
.
	mg
 = ::
sÿË8
(
g
, 
sÿËdown
.g);

361 
	mout
.
	mb
 = ::
sÿË8
(
b
, 
sÿËdown
.b);

362  
	mout
;

366 
šlše
 
	mCRGB
& 
çdeToBÏckBy
 (
ušt8_t
 
çdeçùÜ
 )

368 
nsÿË8x3
Ğ
r
, 
g
, 
b
, 255 - 
çdeçùÜ
);

369  *
	mthis
;

373 
šlše
 
	mCRGB
& 
	mİ”©Ü
|ğ(cÚ¡ 
CRGB
& 
rhs
 )

375 ifĞ
rhs
.
r
 >„)„ =„hs.r;

376 ifĞ
	mrhs
.
	mg
 > gèg = 
rhs
.
g
;

377 ifĞ
	mrhs
.
	mb
 > bèb = 
rhs
.
b
;

378  *
	mthis
;

382 
šlše
 
	mCRGB
& 
	mİ”©Ü
|ğ(
ušt8_t
 
d
 )

384 ifĞ
d
 > 
r
)„ = d;

385 ifĞ
	md
 > 
	mg
èg = 
d
;

386 ifĞ
	md
 > 
	mb
èb = 
d
;

387  *
	mthis
;

391 
šlše
 
	mCRGB
& 
	mİ”©Ü
&ğ(cÚ¡ 
CRGB
& 
rhs
 )

393 ifĞ
rhs
.
r
 <„)„ =„hs.r;

394 ifĞ
	mrhs
.
	mg
 < gèg = 
rhs
.
g
;

395 ifĞ
	mrhs
.
	mb
 < bèb = 
rhs
.
b
;

396  *
	mthis
;

400 
šlše
 
	mCRGB
& 
	mİ”©Ü
&ğ(
ušt8_t
 
d
 )

402 ifĞ
d
 < 
r
)„ = d;

403 ifĞ
	md
 < 
	mg
èg = 
d
;

404 ifĞ
	md
 < 
	mb
èb = 
d
;

405  *
	mthis
;

409 
šlše
 
İ”©Ü
 
boŞ
(ècÚ¡ 
__©Œibu‹__
((
®ways_šlše
))

411  
	mr
 || 
	mg
 || 
	mb
;

415 
šlše
 
CRGB
 
	mİ”©Ü
- ()

417 
CRGB
 
	m»tv®
;

418 
	m»tv®
.
	mr
 = 255 - 
r
;

419 
	m»tv®
.
	mg
 = 255 - 
g
;

420 
	m»tv®
.
	mb
 = 255 - 
b
;

421  
	m»tv®
;

424 #ià(
defšed
 
Sm¬tM©rix_h
 || defšed 
Sm¬tM©rix3_h
)

425 
İ”©Ü
 
rgb24
() const {

426 
rgb24
 
	m»t
;

427 
	m»t
.
	m»d
 = 
r
;

428 
	m»t
.
	mg»’
 = 
g
;

429 
	m»t
.
	mblue
 = 
b
;

430  
	m»t
;

436 
šlše
 
ušt8_t
 
g‘Luma
 ( ) const {

440 
ušt8_t
 
	mluma
 = 
sÿË8_LEAVING_R1_DIRTY
Ğ
r
, 54) + \

441 
sÿË8_LEAVING_R1_DIRTY
Ğ
g
, 183) + \

442 
sÿË8_LEAVING_R1_DIRTY
Ğ
b
, 18);

443 
ş—nup_R1
();

444  
	mluma
;

448 
šlše
 
ušt8_t
 
g‘Av”ageLight
( ) const {

449 #ià
FASTLED_SCALE8_FIXED
 == 1

450 cÚ¡ 
ušt8_t
 
	meightyfive
 = 85;

452 cÚ¡ 
ušt8_t
 
	meightyfive
 = 86;

454 
ušt8_t
 
	mavg
 = 
sÿË8_LEAVING_R1_DIRTY
Ğ
r
, 
eightyfive
) + \

455 
sÿË8_LEAVING_R1_DIRTY
Ğ
g
, 
eightyfive
) + \

456 
sÿË8_LEAVING_R1_DIRTY
Ğ
b
, 
eightyfive
);

457 
ş—nup_R1
();

458  
	mavg
;

462 
šlše
 
maximizeBrighŠess
Ğ
ušt8_t
 
lim™
 = 255 ) {

463 
ušt8_t
 
max
 = 
»d
;

464 ifĞ
	mg»’
 > 
	mmax
èmax = 
g»’
;

465 ifĞ
	mblue
 > 
	mmax
èmax = 
blue
;

468 if(
	mmax
 > 0) {

469 
ušt16_t
 
	mçùÜ
 = ((ušt16_t)(
lim™
è* 256è/ 
max
;

470 
	m»d
 = (
»d
 * 
çùÜ
) / 256;

471 
	mg»’
 = (
g»’
 * 
çùÜ
) / 256;

472 
	mblue
 = (
blue
 * 
çùÜ
) / 256;

477 
šlše
 
CRGB
 
Ë½8
ĞcÚ¡ CRGB& 
Ùh”
, 
äaù8
 
äac
) const

479 
CRGB
 
	m»t
;

481 
	m»t
.
	mr
 = 
Ë½8by8
(
r
,
Ùh”
.r,
äac
);

482 
	m»t
.
	mg
 = 
Ë½8by8
(
g
,
Ùh”
.g,
äac
);

483 
	m»t
.
	mb
 = 
Ë½8by8
(
b
,
Ùh”
.b,
äac
);

485  
	m»t
;

489 
šlše
 
CRGB
 
Ë½16
ĞcÚ¡ CRGB& 
Ùh”
, 
äaù16
 
äac
) const

491 
CRGB
 
	m»t
;

493 
	m»t
.
	mr
 = 
Ë½16by16
(
r
<<8,
Ùh”
.r<<8,
äac
)>>8;

494 
	m»t
.
	mg
 = 
Ë½16by16
(
g
<<8,
Ùh”
.g<<8,
äac
)>>8;

495 
	m»t
.
	mb
 = 
Ë½16by16
(
b
<<8,
Ùh”
.b<<8,
äac
)>>8;

497  
	m»t
;

502 
šlše
 
ušt8_t
 
g‘P¬™y
()

504 
ušt8_t
 
	msum
 = 
r
 + 
g
 + 
b
;

505  (
	msum
 & 0x01);

531 
šlše
 
£tP¬™y
Ğ
ušt8_t
 
·r™y
)

533 
ušt8_t
 
	mcu½¬™y
 = 
g‘P¬™y
();

535 ifĞ
	m·r™y
 =ğ
cu½¬™y
) ;

537 ifĞ
	m·r™y
 ) {

539 ifĞ(
	mb
 > 0) && (b < 255)) {

540 ifĞ
	mr
 =ğ
g
 && g =ğ
b
) {

541 ++
r
;

542 ++
	mg
;

544 ++
	mb
;

545 } ifĞ(
	mr
 > 0) && (r < 255)) {

546 ++
	mr
;

547 } ifĞ(
	mg
 > 0) && (g < 255)) {

548 ++
	mg
;

550 ifĞ
	mr
 =ğ
g
 && g =ğ
b
) {

551 
r
 ^= 0x01;

552 
	mg
 ^= 0x01;

554 
	mb
 ^= 0x01;

558 ifĞ
	mb
 > 1) {

559 ifĞ
	mr
 =ğ
g
 && g =ğ
b
) {

560 --
r
;

561 --
	mg
;

563 --
	mb
;

564 } ifĞ
	mg
 > 1) {

565 --
	mg
;

566 } ifĞ
	mr
 > 1) {

567 --
	mr
;

569 ifĞ
	mr
 =ğ
g
 && g =ğ
b
) {

570 
r
 ^= 0x01;

571 
	mg
 ^= 0x01;

573 
	mb
 ^= 0x01;

580 
	mAliûBlue
=0xF0F8FF,

581 
	mAm‘hy¡
=0x9966CC,

582 
	mAÁiqueWh™e
=0xFAEBD7,

583 
	mAqua
=0x00FFFF,

584 
	mAquam¬še
=0x7FFFD4,

585 
	mAzu»
=0xF0FFFF,

586 
	mBeige
=0xF5F5DC,

587 
	mBisque
=0xFFE4C4,

588 
	mBÏck
=0x000000,

589 
	mBÏnchedAlmÚd
=0xFFEBCD,

590 
	mBlue
=0x0000FF,

591 
	mBlueViŞ‘
=0x8A2BE2,

592 
	mBrown
=0xA52A2A,

593 
	mBu¾yWood
=0xDEB887,

594 
	mCad‘Blue
=0x5F9EA0,

595 
	mCh¬Œeu£
=0x7FFF00,

596 
	mChocŞ©e
=0xD2691E,

597 
	mCÜ®
=0xFF7F50,

598 
	mCÜnæow”Blue
=0x6495ED,

599 
	mCÜnsk
=0xFFF8DC,

600 
	mCrimsÚ
=0xDC143C,

601 
	mCyª
=0x00FFFF,

602 
	mD¬kBlue
=0x00008B,

603 
	mD¬kCyª
=0x008B8B,

604 
	mD¬kGŞd’rod
=0xB8860B,

605 
	mD¬kG¿y
=0xA9A9A9,

606 
	mD¬kG»y
=0xA9A9A9,

607 
	mD¬kG»’
=0x006400,

608 
	mD¬kKhaki
=0xBDB76B,

609 
	mD¬kMag’
=0x8B008B,

610 
	mD¬kOliveG»’
=0x556B2F,

611 
	mD¬kO¿nge
=0xFF8C00,

612 
	mD¬kOrchid
=0x9932CC,

613 
	mD¬kRed
=0x8B0000,

614 
	mD¬kS®mÚ
=0xE9967A,

615 
	mD¬kS—G»’
=0x8FBC8F,

616 
	mD¬kSÏ‹Blue
=0x483D8B,

617 
	mD¬kSÏ‹G¿y
=0x2F4F4F,

618 
	mD¬kSÏ‹G»y
=0x2F4F4F,

619 
	mD¬kTurquoi£
=0x00CED1,

620 
	mD¬kViŞ‘
=0x9400D3,

621 
	mD“pPšk
=0xFF1493,

622 
	mD“pSkyBlue
=0x00BFFF,

623 
	mDimG¿y
=0x696969,

624 
	mDimG»y
=0x696969,

625 
	mDodg”Blue
=0x1E90FF,

626 
	mFœeBrick
=0xB22222,

627 
	mFlÜ®Wh™e
=0xFFFAF0,

628 
	mFÜe¡G»’
=0x228B22,

629 
	mFuchsŸ
=0xFF00FF,

630 
	mGašsbÜo
=0xDCDCDC,

631 
	mGho¡Wh™e
=0xF8F8FF,

632 
	mGŞd
=0xFFD700,

633 
	mGŞd’rod
=0xDAA520,

634 
	mG¿y
=0x808080,

635 
	mG»y
=0x808080,

636 
	mG»’
=0x008000,

637 
	mG»’Y–low
=0xADFF2F,

638 
	mHÚeydew
=0xF0FFF0,

639 
	mHÙPšk
=0xFF69B4,

640 
	mIndŸnRed
=0xCD5C5C,

641 
	mIndigo
=0x4B0082,

642 
	mIvÜy
=0xFFFFF0,

643 
	mKhaki
=0xF0E68C,

644 
	mLav’d”
=0xE6E6FA,

645 
	mLav’d”Blush
=0xFFF0F5,

646 
	mLawnG»’
=0x7CFC00,

647 
	mLemÚChiffÚ
=0xFFFACD,

648 
	mLightBlue
=0xADD8E6,

649 
	mLightCÜ®
=0xF08080,

650 
	mLightCyª
=0xE0FFFF,

651 
	mLightGŞd’rodY–low
=0xFAFAD2,

652 
	mLightG»’
=0x90EE90,

653 
	mLightG»y
=0xD3D3D3,

654 
	mLightPšk
=0xFFB6C1,

655 
	mLightS®mÚ
=0xFFA07A,

656 
	mLightS—G»’
=0x20B2AA,

657 
	mLightSkyBlue
=0x87CEFA,

658 
	mLightSÏ‹G¿y
=0x778899,

659 
	mLightSÏ‹G»y
=0x778899,

660 
	mLightS‹–Blue
=0xB0C4DE,

661 
	mLightY–low
=0xFFFFE0,

662 
	mLime
=0x00FF00,

663 
	mLimeG»’
=0x32CD32,

664 
	mLš’
=0xFAF0E6,

665 
	mMag’
=0xFF00FF,

666 
	mM¬oÚ
=0x800000,

667 
	mMediumAquam¬še
=0x66CDAA,

668 
	mMediumBlue
=0x0000CD,

669 
	mMediumOrchid
=0xBA55D3,

670 
	mMediumPu½Ë
=0x9370DB,

671 
	mMediumS—G»’
=0x3CB371,

672 
	mMediumSÏ‹Blue
=0x7B68EE,

673 
	mMediumS´šgG»’
=0x00FA9A,

674 
	mMediumTurquoi£
=0x48D1CC,

675 
	mMediumViŞ‘Red
=0xC71585,

676 
	mMidnightBlue
=0x191970,

677 
	mMštC»am
=0xF5FFFA,

678 
	mMi¡yRo£
=0xFFE4E1,

679 
	mMocÿsš
=0xFFE4B5,

680 
	mNavajoWh™e
=0xFFDEAD,

681 
	mNavy
=0x000080,

682 
	mOldLaû
=0xFDF5E6,

683 
	mOlive
=0x808000,

684 
	mOliveD¿b
=0x6B8E23,

685 
	mO¿nge
=0xFFA500,

686 
	mO¿ngeRed
=0xFF4500,

687 
	mOrchid
=0xDA70D6,

688 
	mP®eGŞd’rod
=0xEEE8AA,

689 
	mP®eG»’
=0x98FB98,

690 
	mP®eTurquoi£
=0xAFEEEE,

691 
	mP®eViŞ‘Red
=0xDB7093,

692 
	mP­ayaWh
=0xFFEFD5,

693 
	mP—chPuff
=0xFFDAB9,

694 
	mP”u
=0xCD853F,

695 
	mPšk
=0xFFC0CB,

696 
	mPÏid
=0xCC5533,

697 
	mPlum
=0xDDA0DD,

698 
	mPowd”Blue
=0xB0E0E6,

699 
	mPu½Ë
=0x800080,

700 
	mRed
=0xFF0000,

701 
	mRosyBrown
=0xBC8F8F,

702 
	mRoy®Blue
=0x4169E1,

703 
	mSaddËBrown
=0x8B4513,

704 
	mS®mÚ
=0xFA8072,

705 
	mSªdyBrown
=0xF4A460,

706 
	mS—G»’
=0x2E8B57,

707 
	mS—sh–l
=0xFFF5EE,

708 
	mS›Âa
=0xA0522D,

709 
	mSv”
=0xC0C0C0,

710 
	mSkyBlue
=0x87CEEB,

711 
	mSÏ‹Blue
=0x6A5ACD,

712 
	mSÏ‹G¿y
=0x708090,

713 
	mSÏ‹G»y
=0x708090,

714 
	mSnow
=0xFFFAFA,

715 
	mS´šgG»’
=0x00FF7F,

716 
	mS‹–Blue
=0x4682B4,

717 
	mTª
=0xD2B48C,

718 
	mT—l
=0x008080,

719 
	mThi¡Ë
=0xD8BFD8,

720 
	mTom©o
=0xFF6347,

721 
	mTurquoi£
=0x40E0D0,

722 
	mViŞ‘
=0xEE82EE,

723 
	mWh—t
=0xF5DEB3,

724 
	mWh™e
=0xFFFFFF,

725 
	mWh™eSmoke
=0xF5F5F5,

726 
	mY–low
=0xFFFF00,

727 
	mY–lowG»’
=0x9ACD32,

733 
	mFaœyLight
=0xFFE42D,

735 
	mFaœyLightNCC
=0xFF9D2A

737 } 
	tHTMLCŞÜCode
;

741 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
boŞ
 
	gİ”©Ü
=ğ(cÚ¡ 
CRGB
& 
lhs
, cÚ¡ 
	gCRGB
& 
	grhs
)

743  (
	glhs
.
	gr
 =ğ
rhs
.
r
è&& (
lhs
.
g
 =ğrhs.gè&& (lhs.
b
 ==„hs.b);

746 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
boŞ
 
	gİ”©Ü
!ğ(cÚ¡ 
CRGB
& 
lhs
, cÚ¡ 
	gCRGB
& 
	grhs
)

748  !(
	glhs
 =ğ
rhs
);

751 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
boŞ
 
	gİ”©Ü
< (cÚ¡ 
	gCRGB
& 
	glhs
, cÚ¡ CRGB& 
	grhs
)

753 
ušt16_t
 
	g¦
, 
	g¤
;

754 
	g¦
 = 
lhs
.
r
 +†hs.
g
 +†hs.
b
;

755 
	g¤
 = 
rhs
.
r
 +„hs.
g
 +„hs.
b
;

756  
	g¦
 < 
	g¤
;

759 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
boŞ
 
	gİ”©Ü
> (cÚ¡ 
	gCRGB
& 
	glhs
, cÚ¡ CRGB& 
	grhs
)

761 
ušt16_t
 
	g¦
, 
	g¤
;

762 
	g¦
 = 
lhs
.
r
 +†hs.
g
 +†hs.
b
;

763 
	g¤
 = 
rhs
.
r
 +„hs.
g
 +„hs.
b
;

764  
	g¦
 > 
	g¤
;

767 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
boŞ
 
	gİ”©Ü
>ğ(cÚ¡ 
CRGB
& 
lhs
, cÚ¡ 
	gCRGB
& 
	grhs
)

769 
ušt16_t
 
	g¦
, 
	g¤
;

770 
	g¦
 = 
lhs
.
r
 +†hs.
g
 +†hs.
b
;

771 
	g¤
 = 
rhs
.
r
 +„hs.
g
 +„hs.
b
;

772  
	g¦
 >ğ
¤
;

775 
šlše
 
__©Œibu‹__
((
®ways_šlše
)è
boŞ
 
	gİ”©Ü
<ğ(cÚ¡ 
CRGB
& 
lhs
, cÚ¡ 
	gCRGB
& 
	grhs
)

777 
ušt16_t
 
	g¦
, 
	g¤
;

778 
	g¦
 = 
lhs
.
r
 +†hs.
g
 +†hs.
b
;

779 
	g¤
 = 
rhs
.
r
 +„hs.
g
 +„hs.
b
;

780  
	g¦
 <ğ
¤
;

784 
__©Œibu‹__
((
®ways_šlše
))

785 
šlše
 
CRGB
 
	gİ”©Ü
+ĞcÚ¡ 
	gCRGB
& 
	gp1
, cÚ¡ CRGB& 
	gp2
)

787  
CRGB
Ğ
qadd8
Ğ
p1
.
r
, 
p2
.r),

788 
qadd8
Ğ
p1
.
g
, 
p2
.g),

789 
qadd8
Ğ
p1
.
b
, 
p2
.b));

792 
__©Œibu‹__
((
®ways_šlše
))

793 
šlše
 
CRGB
 
	gİ”©Ü
-ĞcÚ¡ 
	gCRGB
& 
	gp1
, cÚ¡ CRGB& 
	gp2
)

795  
CRGB
Ğ
qsub8
Ğ
p1
.
r
, 
p2
.r),

796 
qsub8
Ğ
p1
.
g
, 
p2
.g),

797 
qsub8
Ğ
p1
.
b
, 
p2
.b));

800 
__©Œibu‹__
((
®ways_šlše
))

801 
šlše
 
CRGB
 
	gİ”©Ü
*ĞcÚ¡ 
	gCRGB
& 
	gp1
, 
ušt8_t
 
	gd
)

803  
CRGB
Ğ
qmul8
Ğ
p1
.
r
, 
d
),

804 
qmul8
Ğ
p1
.
g
, 
d
),

805 
qmul8
Ğ
p1
.
b
, 
d
));

808 
__©Œibu‹__
((
®ways_šlše
))

809 
šlše
 
CRGB
 
	gİ”©Ü
/ĞcÚ¡ 
	gCRGB
& 
	gp1
, 
ušt8_t
 
	gd
)

811  
CRGB
Ğ
p1
.
r
/
d
,…1.
g
/d,…1.
b
/d);

815 
__©Œibu‹__
((
®ways_šlše
))

816 
šlše
 
CRGB
 
	gİ”©Ü
&ĞcÚ¡ 
	gCRGB
& 
	gp1
, cÚ¡ CRGB& 
	gp2
)

818  
CRGB
Ğ
p1
.
r
 < 
p2
.r ?…1.r :…2.r,

819 
p1
.
g
 < 
p2
.g ?…1.g :…2.g,

820 
p1
.
b
 < 
p2
.b ?…1.b :…2.b);

823 
__©Œibu‹__
((
®ways_šlše
))

824 
šlše
 
CRGB
 
	gİ”©Ü
|ĞcÚ¡ 
	gCRGB
& 
	gp1
, cÚ¡ CRGB& 
	gp2
)

826  
CRGB
Ğ
p1
.
r
 > 
p2
.r ?…1.r :…2.r,

827 
p1
.
g
 > 
p2
.g ?…1.g :…2.g,

828 
p1
.
b
 > 
p2
.b ?…1.b :…2.b);

831 
__©Œibu‹__
((
®ways_šlše
))

832 
šlše
 
CRGB
 
	gİ”©Ü
%ĞcÚ¡ 
	gCRGB
& 
	gp1
, 
ušt8_t
 
	gd
)

834 
CRGB
 
»tv®
Ğ
p1
);

835 
	g»tv®
.
nsÿË8_video
Ğ
d
);

836  
	g»tv®
;

844 
	eEOrd”
 {

845 
	mRGB
=0012,

846 
	mRBG
=0021,

847 
	mGRB
=0102,

848 
	mGBR
=0120,

849 
	mBRG
=0201,

850 
	mBGR
=0210

853 
	gFASTLED_NAMESPACE_END


	@src/platforms.cpp

1 
	#FASTLED_INTERNAL


	)

8 #ià
defšed
(
NRF52_SERIES
)

10 
	~"¶©fÜms/¬m/Äf52/Ëd_sysdefs_¬m_Äf52.h
"

11 
	~"¶©fÜms/¬m/Äf52/¬b™”_Äf52.h
"

13 
ušt32_t
 
	gi¤CouÁ
;

15 #ifdeà
__ılu¥lus


19 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE0
)

20 
	$PWM0_IRQHªdËr
(è{ ++
i¤CouÁ
; 
PWM_Arb™”
<0>::
	`i¤_hªdËr
(); 
	}
}

22 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE1
)

23 
	$PWM1_IRQHªdËr
(è{ ++
i¤CouÁ
; 
PWM_Arb™”
<1>::
	`i¤_hªdËr
(); 
	}
}

25 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE2
)

26 
	$PWM2_IRQHªdËr
(è{ ++
i¤CouÁ
; 
PWM_Arb™”
<2>::
	`i¤_hªdËr
(); 
	}
}

28 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE3
)

29 
	$PWM3_IRQHªdËr
(è{ ++
i¤CouÁ
; 
PWM_Arb™”
<3>::
	`i¤_hªdËr
(); 
	}
}

31 #ifdeà
__ılu¥lus


	@src/platforms.h

1 #iâdeà
__INC_PLATFORMS_H


2 
	#__INC_PLATFORMS_H


	)

4 
	~"Fa¡LED.h
"

6 
	~"ç¡Ëd_cÚfig.h
"

8 #ià
defšed
(
NRF51
)

9 
	~"¶©fÜms/¬m/Äf51/ç¡Ëd_¬m_Äf51.h
"

10 #–ià
defšed
(
NRF52_SERIES
)

11 
	~"¶©fÜms/¬m/Äf52/ç¡Ëd_¬m_Äf52.h
"

12 #–ià
defšed
(
__MK20DX128__
è|| defšed(
__MK20DX256__
)

14 
	~"¶©fÜms/¬m/k20/ç¡Ëd_¬m_k20.h
"

15 #–ià
defšed
(
__MK66FX1M0__
è|| defšed(
__MK64FX512__
)

17 
	~"¶©fÜms/¬m/k66/ç¡Ëd_¬m_k66.h
"

18 #–ià
defšed
(
__MKL26Z64__
)

20 
	~"¶©fÜms/¬m/kl26/ç¡Ëd_¬m_kl26.h
"

21 #–ià
defšed
(
__IMXRT1062__
)

23 
	~"¶©fÜms/¬m/mx¹1062/ç¡Ëd_¬m_mx¹1062.h
"

24 #–ià
defšed
(
__SAM3X8E__
)

26 
	~"¶©fÜms/¬m/§m/ç¡Ëd_¬m_§m.h
"

27 #–ià
defšed
(
STM32F10X_MD
è|| defšed(
__STM32F1__
)

28 
	~"¶©fÜms/¬m/¡m32/ç¡Ëd_¬m_¡m32.h
"

29 #–ià
defšed
(
__SAMD21G18A__
è|| defšed(
__SAMD21J18A__
è|| defšed(
__SAMD21E17A__
è|| defšed(
__SAMD21E18A__
)

30 
	~"¶©fÜms/¬m/d21/ç¡Ëd_¬m_d21.h
"

31 #–ià
defšed
(
__SAMD51G19A__
è|| defšed(
__SAMD51J19A__
)

32 
	~"¶©fÜms/¬m/d51/ç¡Ëd_¬m_d51.h
"

33 #–ià
defšed
(
ESP8266
)

34 
	~"¶©fÜms/e¥/8266/ç¡Ëd_e¥8266.h
"

35 #–ià
defšed
(
ESP32
)

36 
	~"¶©fÜms/e¥/32/ç¡Ëd_e¥32.h
"

37 #–ià
defšed
(
ARDUINO_ARCH_APOLLO3
)

38 
	~"¶©fÜms/­Şlo3/ç¡Ëd_­Şlo3.h
"

41 
	~"¶©fÜms/avr/ç¡Ëd_avr.h
"

	@src/platforms/apollo3/clockless_apollo3.h

1 #iâdeà
__INC_CLOCKLESS_APOLLO3_H


2 
	#__INC_CLOCKLESS_APOLLO3_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_APOLLO3
)

23 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
ušt32_t
 
	$__am_h®_sy¡ick_couÁ
() {

24  
SysTick
->
VAL
;

25 
	}
}

27 
	#FASTLED_HAS_CLOCKLESS
 1

	)

29 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

30 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

31 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

32 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

34 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

36 
	gpublic
:

37 
vœtu®
 
š™
() {

41 
Fa¡Pš
<
DATA_PIN
>::
£tOuut
();

42 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

45 
am_h®_şkg’_cÚŒŞ
(
AM_HAL_CLKGEN_CONTROL_SYSCLK_MAX
, 0);

58 
am_h®_sy¡ick_¡İ
();

72 
SysTick_CÚfig
(0xFFFFFFUL);

75 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

77 
	g´Ùeùed
:

78 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

79 
mWa™
.
wa™
();

80 if(!
showRGBIÁ”Çl
(
pix–s
)) {

81 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

82 
showRGBIÁ”Çl
(
pix–s
);

84 
	gmWa™
.
m¬k
();

87 
	g‹m¶©e
<
	gBITS
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
ušt8_t
 & 
b
) {

89 
ušt32_t
 
	gi
 = 
BITS
-1; i > 0; i--) {

90 
__am_h®_sy¡ick_couÁ
(è> 
	gÃxt_m¬k
) { ; }

93 
	gÃxt_m¬k
 = (
__am_h®_sy¡ick_couÁ
(è- (
T1
+
T2
+
T3
)) & 0xFFFFFFUL;

94 
	gFa¡Pš
<
	gDATA_PIN
>::
hi
();

95 if(
	gb
&0x80) {

97 (
__am_h®_sy¡ick_couÁ
(è- 
	gÃxt_m¬k
è> (
	gT3
+(3*(
	gF_CPU
/24000000)))) { ; }

98 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

101 (
__am_h®_sy¡ick_couÁ
(è- 
	gÃxt_m¬k
è> (
	gT2
+
	gT3
+(4*(
	gF_CPU
/24000000)))) { ; }

102 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

104 
	gb
 <<= 1;

107 
__am_h®_sy¡ick_couÁ
(è> 
	gÃxt_m¬k
) { ; }

110 
	gÃxt_m¬k
 = (
__am_h®_sy¡ick_couÁ
(è- (
T1
+
T2
+
T3
)) & 0xFFFFFFUL;

111 
	gFa¡Pš
<
	gDATA_PIN
>::
hi
();

112 if(
	gb
&0x80) {

114 (
__am_h®_sy¡ick_couÁ
(è- 
	gÃxt_m¬k
è> (
	gT3
+(2*(
	gF_CPU
/24000000)))) { ; }

115 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

118 (
__am_h®_sy¡ick_couÁ
(è- 
	gÃxt_m¬k
è> (
	gT2
+
	gT3
+(4*(
	gF_CPU
/24000000)))) { ; }

119 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

125 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

128 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

129 
ušt8_t
 
	gb
 = 
pix–s
.
lßdAndSÿË0
();

131 
şi
();

136 
ušt32_t
 
	gÃxt_m¬k
 = (
__am_h®_sy¡ick_couÁ
(è- (
T1
+
T2
+
T3
)) & 0xFFFFFFUL;

138 
	gpix–s
.
has
(1)) {

139 
	gpix–s
.
¡•D™h”šg
();

141 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

142 
şi
();

145 if(
__am_h®_sy¡ick_couÁ
(è< 
	gÃxt_m¬k
) {

147 if((
	gÃxt_m¬k
 - 
__am_h®_sy¡ick_couÁ
()è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)è{ 
£i
();  0; }

152 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gb
);

153 
	gb
 = 
pix–s
.
lßdAndSÿË1
();

156 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gb
);

157 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

160 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gb
);

161 
	gb
 = 
pix–s
.
advªûAndLßdAndSÿË0
();

163 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

164 
£i
();

171 
am_h®_sy¡ick_lßd
(0xFFFFFFUL);

173 
£i
();

182 
	gFASTLED_NAMESPACE_END


	@src/platforms/apollo3/fastled_apollo3.h

1 #iâdeà
__INC_FASTLED_APOLLO3_H


2 
	#__INC_FASTLED_APOLLO3_H


	)

4 
	~"ç¡pš_­Şlo3.h
"

5 
	~"ç¡¥i_­Şlo3.h
"

6 
	~"şockËss_­Şlo3.h
"

	@src/platforms/apollo3/fastpin_apollo3.h

1 #iâdeà
__INC_FASTPIN_APOLLO3_H


2 
	#__INC_FASTPIN_APOLLO3_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


13 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, ušt8_ˆ
	gPAD
> cÏs 
	c_APOLLO3PIN
 {

14 
	mpublic
:

15 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

16 
ušt32_t
 
	tpÜt_t
;

18 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); 
	`am_h®_gpio_ç¡gpio_’abË
(
PAD
); }

19 
šlše
 
	$£tIÅut
(è{ 
	`am_h®_gpio_ç¡gpio_di§bË
(
PAD
); 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

21 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`am_h®_gpio_ç¡gpio_£t
(
PAD
); 
	}
}

22 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`am_h®_gpio_ç¡gpio_şr
(
PAD
); 
	}
}

23 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ if(v®è{ 
	`am_h®_gpio_ç¡gpio_£t
(
PAD
); } { 
	`am_h®_gpio_ç¡gpio_şr
(PAD); } 
	}
}

25 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

27 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ ifĞ
	`am_h®_gpio_ç¡gpio_»ad
(
PAD
)è{ 
	`lo
(); } { 
	`hi
(); } 
	}
}

29 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

30 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

31 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`£t
(v®); 
	}
}

33 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0; 
	}
}

34 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0; 
	}
}

35 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
NULL
; 
	}
}

36 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0; 
	}
}

41 
	#_FL_DEFPIN
(
PIN
, 
PAD
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_APOLLO3PIN
<PIN, PAD> {};

	)

44 #ià
defšed
(
ARDUINO_SFE_EDGE
)

46 
	#MAX_PIN
 49

	)

47 
_FL_DEFPIN
(0, 0); _FL_DEFPIN(1, 1); _FL_DEFPIN(3, 3); _FL_DEFPIN(4, 4);

48 
_FL_DEFPIN
(5, 5); _FL_DEFPIN(6, 6); _FL_DEFPIN(7, 7); _FL_DEFPIN(8, 8); _FL_DEFPIN(9, 9);

49 
_FL_DEFPIN
(10, 10); _FL_DEFPIN(11, 11); _FL_DEFPIN(12, 12); _FL_DEFPIN(13, 13); _FL_DEFPIN(14, 14);

50 
_FL_DEFPIN
(15, 15); _FL_DEFPIN(17, 17);

51 
_FL_DEFPIN
(20, 20); _FL_DEFPIN(21, 21); _FL_DEFPIN(22, 22); _FL_DEFPIN(23, 23); _FL_DEFPIN(24, 24);

52 
_FL_DEFPIN
(25, 25); _FL_DEFPIN(26, 26); _FL_DEFPIN(27, 27); _FL_DEFPIN(28, 28); _FL_DEFPIN(29, 29);

53 
_FL_DEFPIN
(33, 33);

54 
_FL_DEFPIN
(36, 36); _FL_DEFPIN(37, 37); _FL_DEFPIN(38, 38); _FL_DEFPIN(39, 39);

55 
_FL_DEFPIN
(40, 40); _FL_DEFPIN(42, 42); _FL_DEFPIN(43, 43); _FL_DEFPIN(44, 44);

56 
_FL_DEFPIN
(46, 46); _FL_DEFPIN(47, 47); _FL_DEFPIN(48, 48); _FL_DEFPIN(49, 49);

58 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

60 #–ià
defšed
(
ARDUINO_SFE_EDGE2
)

62 
	#MAX_PIN
 49

	)

63 
_FL_DEFPIN
(0, 0);

64 
_FL_DEFPIN
(5, 5); _FL_DEFPIN(6, 6); _FL_DEFPIN(7, 7); _FL_DEFPIN(8, 8); _FL_DEFPIN(9, 9);

65 
_FL_DEFPIN
(11, 11); _FL_DEFPIN(12, 12); _FL_DEFPIN(13, 13); _FL_DEFPIN(14, 14);

66 
_FL_DEFPIN
(15, 15); _FL_DEFPIN(16, 16); _FL_DEFPIN(17, 17); _FL_DEFPIN(18, 18); _FL_DEFPIN(19, 19);

67 
_FL_DEFPIN
(20, 20); _FL_DEFPIN(21, 21); _FL_DEFPIN(23, 23);

68 
_FL_DEFPIN
(25, 25); _FL_DEFPIN(26, 26); _FL_DEFPIN(27, 27); _FL_DEFPIN(28, 28); _FL_DEFPIN(29, 29);

69 
_FL_DEFPIN
(31, 31); _FL_DEFPIN(32, 32); _FL_DEFPIN(33, 33); _FL_DEFPIN(34, 34);

70 
_FL_DEFPIN
(35, 35); _FL_DEFPIN(37, 37); _FL_DEFPIN(39, 39);

71 
_FL_DEFPIN
(40, 40); _FL_DEFPIN(41, 41); _FL_DEFPIN(42, 42); _FL_DEFPIN(43, 43); _FL_DEFPIN(44, 44);

72 
_FL_DEFPIN
(45, 45); _FL_DEFPIN(48, 48); _FL_DEFPIN(49, 49);

74 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

76 #–ià
defšed
(
ARDUINO_AM_AP3_SFE_BB_ARTEMIS
)

78 
	#MAX_PIN
 31

	)

79 
_FL_DEFPIN
(0, 25); _FL_DEFPIN(1, 24); _FL_DEFPIN(2, 35); _FL_DEFPIN(3, 4); _FL_DEFPIN(4, 22);

80 
_FL_DEFPIN
(5, 23); _FL_DEFPIN(6, 27); _FL_DEFPIN(7, 28); _FL_DEFPIN(8, 32); _FL_DEFPIN(9, 12);

81 
_FL_DEFPIN
(10, 13); _FL_DEFPIN(11, 7); _FL_DEFPIN(12, 6); _FL_DEFPIN(13, 5); _FL_DEFPIN(14, 40);

82 
_FL_DEFPIN
(15, 39); _FL_DEFPIN(16, 29); _FL_DEFPIN(17, 11); _FL_DEFPIN(18, 34); _FL_DEFPIN(19, 33);

83 
_FL_DEFPIN
(20, 16); _FL_DEFPIN(21, 31); _FL_DEFPIN(22, 48); _FL_DEFPIN(23, 49); _FL_DEFPIN(24, 8);

84 
_FL_DEFPIN
(25, 9); _FL_DEFPIN(26, 10); _FL_DEFPIN(27, 38); _FL_DEFPIN(28, 42); _FL_DEFPIN(29, 43);

85 
_FL_DEFPIN
(30, 36); _FL_DEFPIN(31, 37);

87 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

89 #–ià
defšed
(
ARDUINO_AM_AP3_SFE_BB_ARTEMIS_NANO
)

91 
	#MAX_PIN
 23

	)

92 
_FL_DEFPIN
(0, 13); _FL_DEFPIN(1, 33); _FL_DEFPIN(2, 11); _FL_DEFPIN(3, 29); _FL_DEFPIN(4, 18);

93 
_FL_DEFPIN
(5, 31); _FL_DEFPIN(6, 43); _FL_DEFPIN(7, 42); _FL_DEFPIN(8, 38); _FL_DEFPIN(9, 39);

94 
_FL_DEFPIN
(10, 40); _FL_DEFPIN(11, 5); _FL_DEFPIN(12, 7); _FL_DEFPIN(13, 6); _FL_DEFPIN(14, 35);

95 
_FL_DEFPIN
(15, 32); _FL_DEFPIN(16, 12); _FL_DEFPIN(17, 32); _FL_DEFPIN(18, 12); _FL_DEFPIN(19, 19);

96 
_FL_DEFPIN
(20, 48); _FL_DEFPIN(21, 49); _FL_DEFPIN(22, 36); _FL_DEFPIN(23, 37);

98 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

100 #–ià
defšed
(
ARDUINO_AM_AP3_SFE_THING_PLUS
)

102 
	#MAX_PIN
 28

	)

103 
_FL_DEFPIN
(0, 25); _FL_DEFPIN(1, 24); _FL_DEFPIN(2, 44); _FL_DEFPIN(3, 35); _FL_DEFPIN(4, 4);

104 
_FL_DEFPIN
(5, 22); _FL_DEFPIN(6, 23); _FL_DEFPIN(7, 27); _FL_DEFPIN(8, 28); _FL_DEFPIN(9, 32);

105 
_FL_DEFPIN
(10, 14); _FL_DEFPIN(11, 7); _FL_DEFPIN(12, 6); _FL_DEFPIN(13, 5); _FL_DEFPIN(14, 40);

106 
_FL_DEFPIN
(15, 39); _FL_DEFPIN(16, 43); _FL_DEFPIN(17, 42); _FL_DEFPIN(18, 26); _FL_DEFPIN(19, 33);

107 
_FL_DEFPIN
(20, 13); _FL_DEFPIN(21, 11); _FL_DEFPIN(22, 29); _FL_DEFPIN(23, 12); _FL_DEFPIN(24, 31);

108 
_FL_DEFPIN
(25, 48); _FL_DEFPIN(26, 49); _FL_DEFPIN(27, 36); _FL_DEFPIN(28, 37);

110 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

112 #–ià
defšed
(
ARDUINO_AM_AP3_SFE_BB_ARTEMIS_ATP
è|| defšed(
ARDUINO_SFE_ARTEMIS
)

114 
	#MAX_PIN
 49

	)

115 
_FL_DEFPIN
(0, 0); _FL_DEFPIN(1, 1); _FL_DEFPIN(2, 2); _FL_DEFPIN(3, 3); _FL_DEFPIN(4, 4);

116 
_FL_DEFPIN
(5, 5); _FL_DEFPIN(6, 6); _FL_DEFPIN(7, 7); _FL_DEFPIN(8, 8); _FL_DEFPIN(9, 9);

117 
_FL_DEFPIN
(10, 10); _FL_DEFPIN(11, 11); _FL_DEFPIN(12, 12); _FL_DEFPIN(13, 13); _FL_DEFPIN(14, 14);

118 
_FL_DEFPIN
(15, 15); _FL_DEFPIN(16, 16); _FL_DEFPIN(17, 17); _FL_DEFPIN(18, 18); _FL_DEFPIN(19, 19);

119 
_FL_DEFPIN
(20, 20); _FL_DEFPIN(21, 21); _FL_DEFPIN(22, 22); _FL_DEFPIN(23, 23); _FL_DEFPIN(24, 24);

120 
_FL_DEFPIN
(25, 25); _FL_DEFPIN(26, 26); _FL_DEFPIN(27, 27); _FL_DEFPIN(28, 28); _FL_DEFPIN(29, 29);

121 
_FL_DEFPIN
(31, 31); _FL_DEFPIN(32, 32); _FL_DEFPIN(33, 33); _FL_DEFPIN(34, 34);

122 
_FL_DEFPIN
(35, 35); _FL_DEFPIN(36, 36); _FL_DEFPIN(37, 37); _FL_DEFPIN(38, 38); _FL_DEFPIN(39, 39);

123 
_FL_DEFPIN
(40, 40); _FL_DEFPIN(41, 41); _FL_DEFPIN(42, 42); _FL_DEFPIN(43, 43); _FL_DEFPIN(44, 44);

124 
_FL_DEFPIN
(45, 45); _FL_DEFPIN(47, 47); _FL_DEFPIN(48, 48); _FL_DEFPIN(49, 49);

126 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

128 #–ià
defšed
(
ARDUINO_AM_AP3_SFE_ARTEMIS_DK
)

130 
	#MAX_PIN
 49

	)

131 
_FL_DEFPIN
(0, 0); _FL_DEFPIN(1, 1); _FL_DEFPIN(2, 2); _FL_DEFPIN(3, 3); _FL_DEFPIN(4, 4);

132 
_FL_DEFPIN
(5, 5); _FL_DEFPIN(6, 6); _FL_DEFPIN(7, 7); _FL_DEFPIN(8, 8); _FL_DEFPIN(9, 9);

133 
_FL_DEFPIN
(10, 10); _FL_DEFPIN(11, 11); _FL_DEFPIN(12, 12); _FL_DEFPIN(13, 13); _FL_DEFPIN(14, 14);

134 
_FL_DEFPIN
(15, 15); _FL_DEFPIN(16, 16); _FL_DEFPIN(17, 17); _FL_DEFPIN(18, 18); _FL_DEFPIN(19, 19);

135 
_FL_DEFPIN
(20, 20); _FL_DEFPIN(21, 21); _FL_DEFPIN(22, 22); _FL_DEFPIN(23, 23); _FL_DEFPIN(24, 24);

136 
_FL_DEFPIN
(25, 25); _FL_DEFPIN(26, 26); _FL_DEFPIN(27, 27); _FL_DEFPIN(28, 28); _FL_DEFPIN(29, 29);

137 
_FL_DEFPIN
(31, 31); _FL_DEFPIN(32, 32); _FL_DEFPIN(33, 33); _FL_DEFPIN(34, 34);

138 
_FL_DEFPIN
(35, 35); _FL_DEFPIN(36, 36); _FL_DEFPIN(37, 37); _FL_DEFPIN(38, 38); _FL_DEFPIN(39, 39);

139 
_FL_DEFPIN
(40, 40); _FL_DEFPIN(41, 41); _FL_DEFPIN(42, 42); _FL_DEFPIN(43, 43); _FL_DEFPIN(44, 44);

140 
_FL_DEFPIN
(45, 45); _FL_DEFPIN(47, 47); _FL_DEFPIN(48, 48); _FL_DEFPIN(49, 49);

141 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

151 
	gFASTLED_NAMESPACE_END


	@src/platforms/apollo3/fastspi_apollo3.h

1 #iâdeà
__INC_FASTSPI_APOLLO3_H


2 
	#__INC_FASTSPI_APOLLO3_H


	)

8 
	~"Fa¡LED.h
"

10 
	gFASTLED_NAMESPACE_BEGIN


12 #ià
defšed
(
FASTLED_APOLLO3
)

14 
	#FASTLED_ALL_PINS_HARDWARE_SPI


	)

16 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

17 şas 
	cAPOLLO3H¬dw¬eSPIOuut
 {

18 
S–eùabË
 *
	mm_pS–eù
;

20 
	mpublic
:

21 
	$APOLLO3H¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; }

22 
	$APOLLO3H¬dw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

25 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

28 
	$š™
() {

29 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

30 
Fa¡Pš
<
_CLOCK_PIN
>::
	`lo
();

31 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

32 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

33 
	}
}

36 
šlše
 
	$£Ëù
(è{ 
	}
}

39 
šlše
 
	$»Ëa£
(è{ 
	}
}

42 
	$wa™FuÎy
(è{ 
	}
}

45 
	$wr™eBy‹
(
ušt8_t
 
b
) {

46 
wr™eB™
<7>(
b
);

47 
wr™eB™
<6>(
b
);

48 
wr™eB™
<5>(
b
);

49 
wr™eB™
<4>(
b
);

50 
wr™eB™
<3>(
b
);

51 
wr™eB™
<2>(
b
);

52 
wr™eB™
<1>(
b
);

53 
wr™eB™
<0>(
b
);

54 
	}
}

57 
	$wr™eWÜd
(
ušt16_t
 
w
) {

58 
	`wr™eBy‹
((
ušt8_t
)((
w
 >> 8) & 0xff));

59 
	`wr™eBy‹
((
ušt8_t
)(
w
 & 0xff));

60 
	}
}

63 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

64 
Ën
--è{ 
	`wr™eBy‹
(
v®ue
); }

65 
	}
}

68 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

69 
	`£Ëù
();

70 
	`wr™eBy‹sV®ueRaw
(
v®ue
, 
Ën
);

71 
	`»Ëa£
();

72 
	}
}

75 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

76 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

77 
	`£Ëù
();

79 
d©a
 !ğ
’d
) {

80 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

82 
D
::
	`po¡Block
(
Ën
);

83 
	`wa™FuÎy
();

84 
	`»Ëa£
();

85 
	}
}

88 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

91 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

93 if(
b
 & (1 << 
BIT
)) {

94 
Fa¡Pš
<
_DATA_PIN
>::
	`hi
();

96 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

99 
Fa¡Pš
<
_CLOCK_PIN
>::
	`hi
();

100 
ušt32_t
 
d
 = (
_SPI_CLOCK_DIVIDER
 >> 1); d > 0; d--è{ 
	`__NOP
(); }

101 
Fa¡Pš
<
_CLOCK_PIN
>::
	`lo
();

102 
ušt32_t
 
d
 = (
_SPI_CLOCK_DIVIDER
 >> 1); d > 0; d--è{ 
	`__NOP
(); }

103 
	}
}

107 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

108 
£Ëù
();

110 
	gËn
 = 
pix–s
.
mL’
;

112 
	gpix–s
.
has
(1)) {

113 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

114 
	gwr™eB™
<0>(1);

116 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

117 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

118 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

120 
	gpix–s
.
advªûD©a
();

121 
	gpix–s
.
¡•D™h”šg
();

123 
	gD
::
po¡Block
(
Ën
);

125 
»Ëa£
();

132 
	gFASTLED_NAMESPACE_END


	@src/platforms/apollo3/led_sysdefs_apollo3.h

1 #iâdeà
__INC_LED_SYSDEFS_APOLLO3_H


2 
	#__INC_LED_SYSDEFS_APOLLO3_H


	)

4 
	#FASTLED_APOLLO3


	)

6 #iâdeà
INTERRUPT_THRESHOLD


7 
	#INTERRUPT_THRESHOLD
 1

	)

11 #iâdeà
FASTLED_ALLOW_INTERRUPTS


12 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

15 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

16 
	#FASTLED_ACCURATE_CLOCK


	)

19 #iâdeà
F_CPU


20 
	#F_CPU
 48000000

	)

24 #iâdeà
FASTLED_USE_PROGMEM


25 
	#FASTLED_USE_PROGMEM
 0

	)

29 vŞ©
	tušt8_t
 
	tRoReg
;

30 vŞ©
	tušt8_t
 
	tRwReg
;

32 
	#FASTLED_NO_PINMAP


	)

36 
	#şi
(è
	`__di§bË_œq
();

37 
	#£i
(è
	`__’abË_œq
();

38 

	)

	@src/platforms/arm/common/m0clockless.h

1 #iâdeà
__INC_M0_CLOCKLESS_H


2 
	#__INC_M0_CLOCKLESS_H


	)

4 
	sM0ClockËssD©a
 {

5 
ušt8_t
 
	md
[3];

6 
ušt8_t
 
	me
[3];

7 
ušt8_t
 
	madj
;

8 
ušt8_t
 
	m·d
;

9 
ušt32_t
 
	ms
[3];

13 
	g‹m¶©e
<
	gHI_OFFSET
, 
	gLO_OFFSET
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
, 
	gWAIT_TIME
>

14 
	$showLedD©a
(vŞ©
ušt32_t
 *
_pÜt
, ušt32_ˆ
_b™mask
, cÚ¡ 
ušt8_t
 *
_Ëds
, ušt32_ˆ
num_Ëds
, 
M0ClockËssD©a
 *
pD©a
) {

16 
ušt32_t
 
sü©ch
=0;

17 
M0ClockËssD©a
 *
ba£
 = 
pD©a
;

18 vŞ©
ušt32_t
 *
pÜt
 = 
_pÜt
;

19 
ušt32_t
 
d
=0;

20 
ušt32_t
 
couÁ”
=
num_Ëds
;

21 
ušt32_t
 
bn
=0;

22 
ušt32_t
 
b
=0;

23 
ušt32_t
 
b™mask
 = 
_b™mask
;

26 cÚ¡ 
ušt8_t
 *
Ëds
 = 
_Ëds
;

27 #ià(
FASTLED_SCALE8_FIXED
 == 1)

28 ++
pD©a
->
s
[0];

29 ++
pD©a
->
s
[1];

30 ++
pD©a
->
s
[2];

32 
asm
 
	`__vŞ©e__
 (

38 #ifdeà
FASTLED_ARM_M0_PLUS


182 
	#M0_ASM_ARGS
 : \

183 [
Ëds
] "+h" (leds), \

184 [
couÁ”
] "+l" (counter), \

185 [
sü©ch
] "+l" (scratch), \

186 [
d
] "+l" (d), \

187 [
bn
] "+l" (bn), \

188 [
b
] "+l" (b) \

190 [
pÜt
] "l" (port), \

191 [
ba£
] "l" (base), \

192 [
b™mask
] "l" (bitmask), \

193 [
hi_off
] "I" (
HI_OFFSET
), \

194 [
lo_off
] "I" (
LO_OFFSET
), \

195 [
Ëd0
] "I" (
	`RO
(0)), \

196 [
Ëd1
] "I" (
	`RO
(1)), \

197 [
Ëd2
] "I" (
	`RO
(2)), \

198 [
e0
] "I" (3+
	`RO
(0)), \

199 [
e1
] "I" (3+
	`RO
(1)), \

200 [
e2
] "I" (3+
	`RO
(2)), \

201 [
sÿË0
] "I" (4*(2+
	`RO
(0))), \

202 [
sÿË1
] "I" (4*(2+
	`RO
(1))), \

203 [
sÿË2
] "I" (4*(2+
	`RO
(2))), \

204 [
T1
] "I" (T1), \

205 [
T2
] "I" (T2), \

206 [
T3
] "I" (T3) \

207 :

	)

211 
	#LOOP
 "†oİ_%=:"

	)

212 
	#HI2
 " q£t2 %[b™mask], %[pÜt], %[hi_off];"

	)

213 
	#_D1
 " mod_d–ay %c[T1],2,0,%[sü©ch];"

	)

214 
	#QLO4
 " qlo4 %[b],%[b™mask],%[pÜt], %[lo_off];"

	)

215 
	#LOADLEDS3
(
X
è"†ßdËds3 %[Ëds], %[bn], %[Ëd" #X "] ,%[sü©ch];"

	)

216 
	#_D2
(
ADJ
è" mod_d–ay %c[T2],4," #ADJ ",%[sü©ch];"

	)

217 
	#LO2
 " q£t2 %[b™mask], %[pÜt], %[lo_off];"

	)

218 
	#_D3
(
ADJ
è" mod_d–ay %c[T3],2," #ADJ ",%[sü©ch];"

	)

219 
	#LOADDITHER7
(
X
è"†ßdd™h”7 %[bn], %[d], %[ba£], %[Ëd" #X "];"

	)

220 
	#DITHER5
 " d™h”5 %[bn], %[d];"

	)

221 
	#SCALE4
(
X
è" sÿË4 %[bn], %[ba£], %[sÿË" #X "], %[sü©ch];"

	)

222 
	#SWAPBBN1
 " sw­bbn1 %[b], %[bn];"

	)

223 
	#ADJDITHER7
(
X
è"‡djd™h”7 %[ba£],%[d],%[Ëd" #X "],%[e" #X "],%[sü©ch];"

	)

224 
	#INCLEDS3
 " inşeds3 %[Ëds],%[ba£],%[sü©ch];"

	)

225 
	#CMPLOOP5
 " cm¶oİ5 %[couÁ”],†oİ_%=;"

	)

226 
	#NOTHING
 ""

	)

228 #ià(
	`defšed
(
SEI_CHK
è&& (
FASTLED_ALLOW_INTERRUPTS
 == 1))

232 
asm
 
	`__vŞ©e__
 (

234 
	`LOADLEDS3
(0è
	`LOADDITHER7
(0è
DITHER5
 
	`SCALE4
(0è
	`ADJDITHER7
(0è
SWAPBBN1


235 
M0_ASM_ARGS
);

238 
asm
 
	`__vŞ©e__
 (

240 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

241 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(1è
	`_D2
(3è
LO2
 
	`_D3
(0)

242 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(1è
	`_D2
(7è
LO2
 
	`_D3
(0)

243 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

244 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(1è
	`_D2
(4è
LO2
 
	`_D3
(0)

245 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(1è
	`_D2
(7è
LO2
 
	`_D3
(0)

246 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

247 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(0)

250 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

251 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(2è
	`_D2
(3è
LO2
 
	`_D3
(0)

252 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(2è
	`_D2
(7è
LO2
 
	`_D3
(0)

253 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

254 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(2è
	`_D2
(4è
LO2
 
	`_D3
(0)

255 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(2è
	`_D2
(7è
LO2
 
	`_D3
(0)

256 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

257 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(0)

260 
HI2
 
_D1
 
QLO4
 
INCLEDS3
 
	`_D2
(3è
LO2
 
	`_D3
(0)

261 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(0è
	`_D2
(3è
LO2
 
	`_D3
(0)

262 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(0è
	`_D2
(7è
LO2
 
	`_D3
(0)

263 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

264 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(0è
	`_D2
(4è
LO2
 
	`_D3
(0)

265 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(0è
	`_D2
(7è
LO2
 
	`_D3
(0)

266 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

267 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(5)

269 
M0_ASM_ARGS


271 
SEI_CHK
; 
INNER_SEI
; --
couÁ”
; 
CLI_CHK
;

272 } 
couÁ”
);

273 #–ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

276 
asm
 
	`__vŞ©e__
 (

278 
	`LOADLEDS3
(0è
	`LOADDITHER7
(0è
DITHER5
 
	`SCALE4
(0è
	`ADJDITHER7
(0è
SWAPBBN1


279 
M0_ASM_ARGS
);

282 
asm
 
	`__vŞ©e__
 (

284 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

285 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(1è
	`_D2
(3è
LO2
 
	`_D3
(0)

286 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(1è
	`_D2
(7è
LO2
 
	`_D3
(0)

287 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

288 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(1è
	`_D2
(4è
LO2
 
	`_D3
(0)

289 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(1è
	`_D2
(7è
LO2
 
	`_D3
(0)

290 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

291 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(0)

294 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

295 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(2è
	`_D2
(3è
LO2
 
	`_D3
(0)

296 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(2è
	`_D2
(7è
LO2
 
	`_D3
(0)

297 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

298 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(2è
	`_D2
(4è
LO2
 
	`_D3
(0)

299 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(2è
	`_D2
(7è
LO2
 
	`_D3
(0)

300 
HI2
 
_D1
 
QLO4
 
INCLEDS3
 
	`_D2
(3è
LO2
 
	`_D3
(0)

301 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(0)

304 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

305 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(0è
	`_D2
(3è
LO2
 
	`_D3
(0)

306 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(0è
	`_D2
(7è
LO2
 
	`_D3
(0)

307 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

308 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(0è
	`_D2
(4è
LO2
 
	`_D3
(0)

309 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(0è
	`_D2
(7è
LO2
 
	`_D3
(0)

310 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

311 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(5)

313 
M0_ASM_ARGS


316 
ušt32_t
 
ticksBefÜeIÁ”ru±s
 = 
SysTick
->
VAL
;

317 
	`£i
();

318 --
couÁ”
;

319 
	`şi
();

326 cÚ¡ 
ušt32_t
 
kTicksP”Ms
 = 
VARIANT_MCK
 / 1000;

327 cÚ¡ 
ušt32_t
 
kTicksP”Us
 = 
kTicksP”Ms
 / 1000;

328 cÚ¡ 
ušt32_t
 
kTicksIn45us
 = 
kTicksP”Us
 * 45;

330 cÚ¡ 
ušt32_t
 
cu¼’tTicks
 = 
SysTick
->
VAL
;

332 ià(
ticksBefÜeIÁ”ru±s
 < 
cu¼’tTicks
) {

334 ià((
ticksBefÜeIÁ”ru±s
 + (
kTicksP”Ms
 - 
cu¼’tTicks
)è> 
kTicksIn45us
) {

338 ià((
ticksBefÜeIÁ”ru±s
 - 
cu¼’tTicks
è> 
kTicksIn45us
) {

342 } 
couÁ”
);

347 
asm
 
	`__vŞ©e__
 (

349 
	`LOADLEDS3
(0è
	`LOADDITHER7
(0è
DITHER5
 
	`SCALE4
(0è
	`ADJDITHER7
(0è
SWAPBBN1


352 
LOOP


354 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

355 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(1è
	`_D2
(3è
LO2
 
	`_D3
(0)

356 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(1è
	`_D2
(7è
LO2
 
	`_D3
(0)

357 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

358 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(1è
	`_D2
(4è
LO2
 
	`_D3
(0)

359 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(1è
	`_D2
(7è
LO2
 
	`_D3
(0)

360 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

361 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(0)

364 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

365 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(2è
	`_D2
(3è
LO2
 
	`_D3
(0)

366 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(2è
	`_D2
(7è
LO2
 
	`_D3
(0)

367 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

368 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(2è
	`_D2
(4è
LO2
 
	`_D3
(0)

369 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(2è
	`_D2
(7è
LO2
 
	`_D3
(0)

370 
HI2
 
_D1
 
QLO4
 
INCLEDS3
 
	`_D2
(3è
LO2
 
	`_D3
(0)

371 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(0)

374 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

375 
HI2
 
_D1
 
QLO4
 
	`LOADLEDS3
(0è
	`_D2
(3è
LO2
 
	`_D3
(0)

376 
HI2
 
_D1
 
QLO4
 
	`LOADDITHER7
(0è
	`_D2
(7è
LO2
 
	`_D3
(0)

377 
HI2
 
_D1
 
QLO4
 
DITHER5
 
	`_D2
(5è
LO2
 
	`_D3
(0)

378 
HI2
 
_D1
 
QLO4
 
	`SCALE4
(0è
	`_D2
(4è
LO2
 
	`_D3
(0)

379 
HI2
 
_D1
 
QLO4
 
	`ADJDITHER7
(0è
	`_D2
(7è
LO2
 
	`_D3
(0)

380 
HI2
 
_D1
 
QLO4
 
NOTHING
 
	`_D2
(0è
LO2
 
	`_D3
(0)

381 
HI2
 
_D1
 
QLO4
 
SWAPBBN1
 
	`_D2
(1è
LO2
 
	`_D3
(5è
CMPLOOP5


383 
M0_ASM_ARGS


386  
num_Ëds
;

387 
	}
}

	@src/platforms/arm/d21/clockless_arm_d21.h

1 #iâdeà
__INC_CLOCKLESS_ARM_D21


2 
	#__INC_CLOCKLESS_ARM_D21


	)

4 
	~"../commÚ/m0şockËss.h
"

5 
	gFASTLED_NAMESPACE_BEGIN


6 
	#FASTLED_HAS_CLOCKLESS
 1

	)

8 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

9 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

10 
ty³Çme
 
	tFa¡PšBB
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

11 
ty³Çme
 
	tFa¡PšBB
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

13 
d©a_t
 
	gmPšMask
;

14 
d©a_±r_t
 
	gmPÜt
;

15 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

17 
	gpublic
:

18 
vœtu®
 
š™
() {

19 
Fa¡PšBB
<
DATA_PIN
>::
£tOuut
();

20 
	gmPšMask
 = 
Fa¡PšBB
<
DATA_PIN
>::
mask
();

21 
	gmPÜt
 = 
Fa¡PšBB
<
DATA_PIN
>::
pÜt
();

24 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

26 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

27 
	gmWa™
.
wa™
();

28 
şi
();

29 if(!
showRGBIÁ”Çl
(
pix–s
)) {

30 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

31 
showRGBIÁ”Çl
(
pix–s
);

33 
£i
();

34 
	gmWa™
.
m¬k
();

39 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

40 
M0ClockËssD©a
 
	gd©a
;

41 
	gd©a
.
	gd
[0] = 
pix–s
.
d
[0];

42 
	gd©a
.
	gd
[1] = 
pix–s
.
d
[1];

43 
	gd©a
.
	gd
[2] = 
pix–s
.
d
[2];

44 
	gd©a
.
	gs
[0] = 
pix–s
.
mSÿË
[0];

45 
	gd©a
.
	gs
[1] = 
pix–s
.
mSÿË
[1];

46 
	gd©a
.
	gs
[2] = 
pix–s
.
mSÿË
[2];

47 
	gd©a
.
	ge
[0] = 
pix–s
.
e
[0];

48 
	gd©a
.
	ge
[1] = 
pix–s
.
e
[1];

49 
	gd©a
.
	ge
[2] = 
pix–s
.
e
[2];

50 
	gd©a
.
	gadj
 = 
pix–s
.
mAdvªû
;

52 
ty³Çme
 
	gFa¡Pš
<
	gDATA_PIN
>::
pÜt_±r_t
 
pÜtBa£
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

53  
	gshowLedD©a
<8,4,
	gT1
,
	gT2
,
	gT3
,
	gRGB_ORDER
, 
	gWAIT_TIME
>(
	gpÜtBa£
, 
	gFa¡Pš
<
	gDATA_PIN
>::
mask
(), 
	gpix–s
.
	gmD©a
,…ix–s.
	gmL’
, &
	gd©a
);

58 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/d21/fastled_arm_d21.h

1 #iâdeà
__INC_FASTLED_ARM_D21_H


2 
	#__INC_FASTLED_ARM_D21_H


	)

4 
	~"ç¡pš_¬m_d21.h
"

5 
	~"şockËss_¬m_d21.h
"

	@src/platforms/arm/d21/fastpin_arm_d21.h

1 #iâdeà
__INC_FASTPIN_ARM_SAM_H


2 
	#__INC_FASTPIN_ARM_SAM_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


18 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, ušt8_ˆ
	g_BIT
, 
ušt32_t
 
	g_MASK
, 
	g_GRP
> cÏs 
	c_ARMPIN
 {

19 
	mpublic
:

20 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

21 
ušt32_t
 
	tpÜt_t
;

24 
šlše
 
	$£tOuut
() {

25 if(
_BIT
<8) {

26 
_CRL
::
	`r
(èğ(_CRL::r(è& (0xF << (
_BIT
*4)) | (0x1 << (_BIT*4));

28 
_CRH
::
	`r
(èğ(_CRH::r(è& (0xF << ((
_BIT
-8)*4))) | (0x1 << ((_BIT-8)*4));

31 
šlše
 
	$£tIÅut
(è{ 
	}
}

34 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); 
	}
}

35 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

37 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
PORT_IOBUS
->
Group
[
_GRP
].
OUTSET
.
»g
 = 
_MASK
; 
	}
}

38 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
PORT_IOBUS
->
Group
[
_GRP
].
OUTCLR
.
»g
 = 
_MASK
; 
	}
}

39 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
PORT_IOBUS
->
Group
[
_GRP
].
OUT
.
»g
 = v®; 
	}
}

41 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

43 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
PORT_IOBUS
->
Group
[
_GRP
].
OUTTGL
.
»g
 = 
_MASK
; 
	}
}

45 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

46 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

47 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

49 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
PORT_IOBUS
->
Group
[
_GRP
].
OUT
.
»g
 | 
_MASK
; 
	}
}

50 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
PORT_IOBUS
->
Group
[
_GRP
].
OUT
.
»g
 & ~
_MASK
; 
	}
}

51 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
PORT_IOBUS
->
Group
[
_GRP
].
OUT
.
»g
; 
	}
}

52 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
PORT_IOBUS
->
Group
[
_GRP
].
OUTSET
.
»g
; 
	}
}

53 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
PORT_IOBUS
->
Group
[
_GRP
].
OUTCLR
.
»g
; 
	}
}

54 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

57 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

58 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 vŞ©
PÜtGroup
 * 
	`r
(è{  T; } };

	)

60 
	#_FL_IO
(
L
è
	`_RD32
(
GPIO
 ## L)

	)

62 
	#_FL_DEFPIN
(
PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, BIT, 1 << BIT, L> {};

	)

65 #ià
defšed
(
ARDUINO_SAMD_CIRCUITPLAYGROUND_EXPRESS
)

67 
	#MAX_PIN
 17

	)

68 
_FL_DEFPIN
( 8,23,1);

69 
_FL_DEFPIN
( 0, 9,1); _FL_DEFPIN( 1, 8,1); _FL_DEFPIN( 2, 2,1); _FL_DEFPIN( 3, 3,1);

70 
_FL_DEFPIN
( 6, 5,0); _FL_DEFPIN( 9, 6,0); _FL_DEFPIN(10, 7,0); _FL_DEFPIN(12, 2,0);

71 
_FL_DEFPIN
(
A6
, 9,1); _FL_DEFPIN(
A7
, 8,1); _FL_DEFPIN(
A5
, 2,1); _FL_DEFPIN(
A4
, 3,1);

72 
_FL_DEFPIN
(
A1
, 5,0); _FL_DEFPIN(
A2
, 6,0); _FL_DEFPIN(
A3
, 7,0); _FL_DEFPIN(
A0
, 2,0);

74 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

77 #–ià
defšed
(
ADAFRUIT_HALLOWING
)

79 
	#MAX_PIN
 20

	)

81 
_FL_DEFPIN
( 0, 9, 0); _FL_DEFPIN( 1, 10, 0);

83 
_FL_DEFPIN
( 2, 14, 0); _FL_DEFPIN( 3, 11, 0); _FL_DEFPIN( 4, 8, 0);

85 
_FL_DEFPIN
( 5, 15, 0); _FL_DEFPIN( 6, 18, 0); _FL_DEFPIN( 7, 0, 0);

87 
_FL_DEFPIN
( 8, 12, 0); _FL_DEFPIN( 9, 19, 0); _FL_DEFPIN(10, 20, 0);

89 
_FL_DEFPIN
(11, 21, 0); _FL_DEFPIN(12, 22, 0); _FL_DEFPIN(13, 23, 0);

91 
_FL_DEFPIN
(14, 2, 0); _FL_DEFPIN(15, 8, 1); _FL_DEFPIN(16, 9, 1);

93 
_FL_DEFPIN
(17, 4, 0); _FL_DEFPIN(18, 5, 0); _FL_DEFPIN(19, 6, 0);

95 
	#SPI_DATA
 
PIN_SPI_MOSI


	)

96 
	#SPI_CLOCK
 
PIN_SPI_SCK


	)

98 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

100 #–ià
defšed
(
SEEED_XIAO_M0
)

102 
	#MAX_PIN
 10

	)

103 
_FL_DEFPIN
( 0, 2,0); _FL_DEFPIN( 1, 4,0); _FL_DEFPIN( 2,10,0); _FL_DEFPIN( 3,11,0);

104 
_FL_DEFPIN
( 4, 8,0); _FL_DEFPIN( 5, 9,0); _FL_DEFPIN( 6, 8,1); _FL_DEFPIN( 7, 9,1);

105 
_FL_DEFPIN
( 8, 7,0); _FL_DEFPIN( 9, 5,0); _FL_DEFPIN(10, 6,0);

107 
	#SPI_DATA
 9

	)

108 
	#SPI_CLOCK
 8

	)

110 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

112 #–ià
defšed
(
ARDUINO_SEEED_ZERO
)

114 
	#MAX_PIN
 24

	)

116 
_FL_DEFPIN
( 0,11,0); _FL_DEFPIN( 1,10,0); _FL_DEFPIN( 2,14,0); _FL_DEFPIN( 3,9,0);

117 
_FL_DEFPIN
( 4,8,0); _FL_DEFPIN( 5,15,0); _FL_DEFPIN( 6,20,0); _FL_DEFPIN( 7,21,0);

118 
_FL_DEFPIN
( 8,6,0); _FL_DEFPIN( 9,7,0); _FL_DEFPIN( 10,18,0); _FL_DEFPIN( 11,16,0);

119 
_FL_DEFPIN
( 12,19,0); _FL_DEFPIN( 13,17,0); _FL_DEFPIN( 14,2,0); _FL_DEFPIN( 15,8,1);

120 
_FL_DEFPIN
( 16,9,1); _FL_DEFPIN( 17,4,0); _FL_DEFPIN( 18,5,0); _FL_DEFPIN( 19,2,1);

121 
_FL_DEFPIN
( 20,22,0); _FL_DEFPIN( 21,23,0); _FL_DEFPIN( 22,12,0);

122 
_FL_DEFPIN
( 23,10,1);

123 
_FL_DEFPIN
( 24,11,1);

125 
	#SPI_DATA
 23

	)

126 
	#SPI_CLOCK
 24

	)

128 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

130 #–ià
defšed
(
ARDUINO_SAMD_ZERO
)

132 
	#MAX_PIN
 42

	)

133 
_FL_DEFPIN
( 0,10,0); _FL_DEFPIN( 1,11,0); _FL_DEFPIN( 2, 8,0); _FL_DEFPIN( 3, 9,0);

134 
_FL_DEFPIN
( 4,14,0); _FL_DEFPIN( 5,15,0); _FL_DEFPIN( 6,20,0); _FL_DEFPIN( 7,21,0);

135 
_FL_DEFPIN
( 8, 6,0); _FL_DEFPIN( 9, 7,0); _FL_DEFPIN(10,18,0); _FL_DEFPIN(11,16,0);

136 
_FL_DEFPIN
(12,19,0); _FL_DEFPIN(13,17,0); _FL_DEFPIN(14, 2,0); _FL_DEFPIN(15, 8,1);

137 
_FL_DEFPIN
(16, 9,1); _FL_DEFPIN(17, 4,0); _FL_DEFPIN(18, 5,0); _FL_DEFPIN(19, 2,1);

138 
_FL_DEFPIN
(20,22,0); _FL_DEFPIN(21,23,0); _FL_DEFPIN(22,12,0); _FL_DEFPIN(23,11,1);

139 
_FL_DEFPIN
(24,10,1); _FL_DEFPIN(25, 3,1); _FL_DEFPIN(26,27,0); _FL_DEFPIN(27,28,0);

140 
_FL_DEFPIN
(28,24,0); _FL_DEFPIN(29,25,0); _FL_DEFPIN(30,22,1); _FL_DEFPIN(31,23,1);

141 
_FL_DEFPIN
(32,22,0); _FL_DEFPIN(33,23,0); _FL_DEFPIN(34,19,0); _FL_DEFPIN(35,16,0);

142 
_FL_DEFPIN
(36,18,0); _FL_DEFPIN(37,17,0); _FL_DEFPIN(38,13,0); _FL_DEFPIN(39,21,0);

143 
_FL_DEFPIN
(40, 6,0); _FL_DEFPIN(41, 7,0); _FL_DEFPIN(42, 3,0);

145 
	#SPI_DATA
 24

	)

146 
	#SPI_CLOCK
 23

	)

148 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

150 #–ià
defšed
(
ARDUINO_SODAQ_AUTONOMO
)

152 
	#MAX_PIN
 56

	)

153 
_FL_DEFPIN
( 0, 9,0); _FL_DEFPIN( 1,10,0); _FL_DEFPIN( 2,11,0); _FL_DEFPIN( 3,10,1);

154 
_FL_DEFPIN
( 4,11,1); _FL_DEFPIN( 5,12,1); _FL_DEFPIN( 6,13,1); _FL_DEFPIN( 7,14,1);

155 
_FL_DEFPIN
( 8,15,1); _FL_DEFPIN( 9,14,0); _FL_DEFPIN(10,15,0); _FL_DEFPIN(11,16,0);

156 
_FL_DEFPIN
(12,17,0); _FL_DEFPIN(13,18,0); _FL_DEFPIN(14,19,0); _FL_DEFPIN(15,16,1);

157 
_FL_DEFPIN
(16, 8,0); _FL_DEFPIN(17,28,0); _FL_DEFPIN(18,17,1); _FL_DEFPIN(19, 2,0);

158 
_FL_DEFPIN
(20, 6,0); _FL_DEFPIN(21, 5,0); _FL_DEFPIN(22, 4,0); _FL_DEFPIN(23, 9,1);

159 
_FL_DEFPIN
(24, 8,1); _FL_DEFPIN(25, 7,1); _FL_DEFPIN(26, 6,1); _FL_DEFPIN(27, 5,1);

160 
_FL_DEFPIN
(28, 4,1); _FL_DEFPIN(29, 7,0); _FL_DEFPIN(30, 3,1); _FL_DEFPIN(31, 2,1);

161 
_FL_DEFPIN
(32, 1,1); _FL_DEFPIN(33, 0,1); _FL_DEFPIN(34, 3,0); _FL_DEFPIN(35, 3,0);

162 
_FL_DEFPIN
(36,30,1); _FL_DEFPIN(37,31,1); _FL_DEFPIN(38,22,1); _FL_DEFPIN(39,23,1);

163 
_FL_DEFPIN
(40,12,0); _FL_DEFPIN(41,13,0); _FL_DEFPIN(42,22,0); _FL_DEFPIN(43,23,0);

164 
_FL_DEFPIN
(44,20,0); _FL_DEFPIN(45,21,0); _FL_DEFPIN(46,27,0); _FL_DEFPIN(47,24,0);

165 
_FL_DEFPIN
(48,25,0); _FL_DEFPIN(49,13,1); _FL_DEFPIN(50,14,1); _FL_DEFPIN(51,17,0);

166 
_FL_DEFPIN
(52,18,0); _FL_DEFPIN(53,12,1); _FL_DEFPIN(54,13,1); _FL_DEFPIN(55,14,1);

167 
_FL_DEFPIN
(56,15,1);

169 
	#SPI_DATA
 44

	)

170 
	#SPI_CLOCK
 45

	)

172 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

174 #–ià
defšed
(
ARDUINO_SAMD_WINO
)

176 
	#MAX_PIN
 22

	)

177 
_FL_DEFPIN
( 0, 23, 0); _FL_DEFPIN( 1, 22, 0); _FL_DEFPIN( 2, 16, 0); _FL_DEFPIN( 3, 17, 0);

178 
_FL_DEFPIN
( 4, 18, 0); _FL_DEFPIN( 5, 19, 0); _FL_DEFPIN( 6, 24, 0); _FL_DEFPIN( 7, 25, 0);

179 
_FL_DEFPIN
( 8, 27, 0); _FL_DEFPIN( 9, 28, 0); _FL_DEFPIN( 10, 30, 0); _FL_DEFPIN( 11, 31, 0);

180 
_FL_DEFPIN
( 12, 15, 0); _FL_DEFPIN( 13, 14, 0); _FL_DEFPIN( 14, 2, 0); _FL_DEFPIN( 15, 3, 0);

181 
_FL_DEFPIN
( 16, 4, 0); _FL_DEFPIN( 17, 5, 0); _FL_DEFPIN( 18, 6, 0); _FL_DEFPIN( 19, 7, 0);

182 
_FL_DEFPIN
( 20, 8, 0); _FL_DEFPIN( 21, 9, 0); _FL_DEFPIN( 22, 10, 0); _FL_DEFPIN( 23, 11, 0);

184 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

186 #–ià
defšed
(
ARDUINO_SAMD_MKR1000
è|| defšed(
ARDUINO_SAMD_MKRWIFI1010
)

188 
	#MAX_PIN
 22

	)

189 
_FL_DEFPIN
( 0, 22, 0); _FL_DEFPIN( 1, 23, 0); _FL_DEFPIN( 2, 10, 0); _FL_DEFPIN( 3, 11, 0);

190 
_FL_DEFPIN
( 4, 10, 1); _FL_DEFPIN( 5, 11, 1); _FL_DEFPIN( 6, 20, 0); _FL_DEFPIN( 7, 21, 0);

191 
_FL_DEFPIN
( 8, 16, 0); _FL_DEFPIN( 9, 17, 0); _FL_DEFPIN( 10, 19, 0); _FL_DEFPIN( 11, 8, 0);

192 
_FL_DEFPIN
( 12, 9, 0); _FL_DEFPIN( 13, 23, 1); _FL_DEFPIN( 14, 22, 1); _FL_DEFPIN( 15, 2, 0);

193 
_FL_DEFPIN
( 16, 2, 1); _FL_DEFPIN( 17, 3, 1); _FL_DEFPIN( 18, 4, 0); _FL_DEFPIN( 19, 5, 0);

194 
_FL_DEFPIN
( 20, 6, 0); _FL_DEFPIN( 21, 7, 0);

196 
	#SPI_DATA
 8

	)

197 
	#SPI_CLOCK
 9

	)

199 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

201 #–ià
defšed
(
ARDUINO_SAMD_NANO_33_IOT
)

203 
	#MAX_PIN
 26

	)

204 
_FL_DEFPIN
( 0, 23, 1); _FL_DEFPIN( 1, 22, 1); _FL_DEFPIN( 2, 10, 1); _FL_DEFPIN( 3, 11, 1);

205 
_FL_DEFPIN
( 4, 7, 0); _FL_DEFPIN( 5, 5, 0); _FL_DEFPIN( 6, 4, 0); _FL_DEFPIN( 7, 6, 0);

206 
_FL_DEFPIN
( 8, 18, 0); _FL_DEFPIN( 9, 20, 0); _FL_DEFPIN( 10, 21, 0); _FL_DEFPIN( 11, 16, 0);

207 
_FL_DEFPIN
( 12, 19, 0); _FL_DEFPIN( 13, 17, 0); _FL_DEFPIN( 14, 2, 0); _FL_DEFPIN( 15, 2, 1);

208 
_FL_DEFPIN
( 16, 11, 1); _FL_DEFPIN( 17, 10, 0); _FL_DEFPIN( 18, 8, 1); _FL_DEFPIN( 19, 9, 1);

209 
_FL_DEFPIN
( 20, 9, 0); _FL_DEFPIN( 21, 3, 1); _FL_DEFPIN( 22, 12, 0); _FL_DEFPIN( 23, 13, 0);

210 
_FL_DEFPIN
( 24, 14, 0); _FL_DEFPIN( 25, 15, 0);

212 
	#SPI_DATA
 22

	)

213 
	#SPI_CLOCK
 25

	)

215 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

217 #–ià
defšed
(
ARDUINO_GEMMA_M0
)

219 
	#MAX_PIN
 4

	)

220 
_FL_DEFPIN
( 0, 4, 0); _FL_DEFPIN( 1, 2, 0); _FL_DEFPIN( 2, 5, 0);

221 
_FL_DEFPIN
( 3, 0, 0); _FL_DEFPIN( 4, 1, 0);

223 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

225 #–ià
defšed
(
ADAFRUIT_TRINKET_M0
)

227 
	#MAX_PIN
 7

	)

228 
_FL_DEFPIN
( 0, 8, 0); _FL_DEFPIN( 1, 2, 0); _FL_DEFPIN( 2, 9, 0);

229 
_FL_DEFPIN
( 3, 7, 0); _FL_DEFPIN( 4, 6, 0); _FL_DEFPIN( 7, 0, 0); _FL_DEFPIN( 8, 1, 0);

231 
	#SPI_DATA
 4

	)

232 
	#SPI_CLOCK
 3

	)

234 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

236 #–ià
defšed
(
ADAFRUIT_QTPY_M0
)

238 
	#MAX_PIN
 10

	)

239 
_FL_DEFPIN
( 0, 2, 0); _FL_DEFPIN( 1, 3, 0); _FL_DEFPIN( 2, 4, 0); _FL_DEFPIN( 3, 5, 0);

240 
_FL_DEFPIN
( 4, 16, 0); _FL_DEFPIN( 5, 17, 0); _FL_DEFPIN( 6, 6, 0); _FL_DEFPIN( 7, 7, 0);

241 
_FL_DEFPIN
( 8, 11, 0); _FL_DEFPIN( 9, 9, 0); _FL_DEFPIN( 10, 10, 0);

243 
	#SPI_DATA
 10

	)

244 
	#SPI_CLOCK
 8

	)

246 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

249 #–ià
defšed
(
ADAFRUIT_ITSYBITSY_M0
)

251 
	#MAX_PIN
 16

	)

252 
_FL_DEFPIN
( 2, 14, 0); _FL_DEFPIN( 3, 9, 0); _FL_DEFPIN( 4, 8, 0);

253 
_FL_DEFPIN
( 5, 15, 0); _FL_DEFPIN( 6, 20, 0); _FL_DEFPIN( 7, 21, 0);

254 
_FL_DEFPIN
( 8, 6, 0); _FL_DEFPIN( 9, 7, 0); _FL_DEFPIN( 10, 18, 0);

255 
_FL_DEFPIN
( 11, 16, 0); _FL_DEFPIN( 12, 19, 0); _FL_DEFPIN( 13, 17, 0);

256 
_FL_DEFPIN
( 29, 10, 0);

257 
_FL_DEFPIN
( 30, 11, 0);

258 
_FL_DEFPIN
( 40, 0, 0);

259 
	$_FL_DEFPIN
( 41, 0, 1)

261 
	#SPI_DATA
 29

	)

262 
	#SPI_CLOCK
 30

	)

264 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

271 
FASTLED_NAMESPACE_END


	@src/platforms/arm/d21/led_sysdefs_arm_d21.h

1 #iâdeà
__INC_LED_SYSDEFS_ARM_D21_H


2 
	#__INC_LED_SYSDEFS_ARM_D21_H


	)

5 
	#FASTLED_ARM


	)

6 
	#FASTLED_ARM_M0_PLUS


	)

8 #iâdeà
INTERRUPT_THRESHOLD


9 
	#INTERRUPT_THRESHOLD
 1

	)

13 #iâdeà
FASTLED_ALLOW_INTERRUPTS


14 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

17 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

18 
	#FASTLED_ACCURATE_CLOCK


	)

22 
	#şi
(è
	`__di§bË_œq
();

	)

23 
	#£i
(è
	`__’abË_œq
();

	)

	@src/platforms/arm/d51/clockless_arm_d51.h

1 #iâdeà
__INC_CLOCKLESS_ARM_D51


2 
	#__INC_CLOCKLESS_ARM_D51


	)

4 
	gFASTLED_NAMESPACE_BEGIN


8 
	#ARM_DEMCR
 (*(vŞ©
ušt32_t
 *)0xE000EDFC)

9 
	#ARM_DEMCR_TRCENA
 (1 << 24)

10 
	#ARM_DWT_CTRL
 (*(vŞ©
ušt32_t
 *)0xE0001000)

11 
	#ARM_DWT_CTRL_CYCCNTENA
 (1 << 0)

12 
	#ARM_DWT_CYCCNT
 (*(vŞ©
ušt32_t
 *)0xE0001004)

13 

	)

15 
	#FASTLED_HAS_CLOCKLESS
 1

	)

17 
	g‹m¶©e
 <
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

18 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

19 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

20 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

22 
d©a_t
 
	gmPšMask
;

23 
d©a_±r_t
 
	gmPÜt
;

24 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

26 
	gpublic
:

27 
vœtu®
 
š™
() {

28 
Fa¡Pš
<
DATA_PIN
>::
£tOuut
();

29 
	gmPšMask
 = 
Fa¡Pš
<
DATA_PIN
>::
mask
();

30 
	gmPÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

33 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

35 
	g´Ùeùed
:

36 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

37 
mWa™
.
wa™
();

38 if(!
showRGBIÁ”Çl
(
pix–s
)) {

39 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

40 
showRGBIÁ”Çl
(
pix–s
);

42 
	gmWa™
.
m¬k
();

45 
	g‹m¶©e
<
	gBITS
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
d©a_±r_t
 
pÜt
, 
d©a_t
 
hi
, d©a_ˆ
lo
, 
ušt8_t
 & 
b
) {

46 
ušt32_t
 
	gi
 = 
BITS
-1; i > 0; --i) {

47 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

48 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

49 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
hi
);

50 if(
	gb
&0x80) {

51 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
+(2*(
	gF_CPU
/24000000))));

52 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

54 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

55 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

57 
	gb
 <<= 1;

60 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

61 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

62 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
hi
);

64 if(
	gb
&0x80) {

65 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
+(2*(
	gF_CPU
/24000000))));

66 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

68 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

69 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

75 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

77 
	gARM_DEMCR
 |ğ
ARM_DEMCR_TRCENA
;

78 
	gARM_DWT_CTRL
 |ğ
ARM_DWT_CTRL_CYCCNTENA
;

79 
	gARM_DWT_CYCCNT
 = 0;

81 
d©a_±r_t
 
	gpÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

82 
d©a_t
 
	ghi
 = *
pÜt
 | 
Fa¡Pš
<
DATA_PIN
>::
mask
();

83 
d©a_t
 
	glo
 = *
pÜt
 & ~
Fa¡Pš
<
DATA_PIN
>::
mask
();

84 *
	gpÜt
 = 
lo
;

87 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

88 
ušt8_t
 
	gb
 = 
pix–s
.
lßdAndSÿË0
();

90 
şi
();

91 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

93 
	gpix–s
.
has
(1)) {

94 
	gpix–s
.
¡•D™h”šg
();

95 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

96 
şi
();

98 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

99 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)è{ 
£i
();  0; }

102 
	ghi
 = *
pÜt
 | 
Fa¡Pš
<
DATA_PIN
>::
mask
();

103 
	glo
 = *
pÜt
 & ~
Fa¡Pš
<
DATA_PIN
>::
mask
();

106 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

107 
	gb
 = 
pix–s
.
lßdAndSÿË1
();

110 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

111 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

114 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

115 
	gb
 = 
pix–s
.
advªûAndLßdAndSÿË0
();

116 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

117 
£i
();

121 
£i
();

122  
	gARM_DWT_CYCCNT
;

126 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/d51/fastled_arm_d51.h

1 #iâdeà
__INC_FASTLED_ARM_D51_H


2 
	#__INC_FASTLED_ARM_D51_H


	)

4 
	~"ç¡pš_¬m_d51.h
"

5 
	~"şockËss_¬m_d51.h
"

	@src/platforms/arm/d51/fastpin_arm_d51.h

1 #iâdeà
__INC_FASTPIN_ARM_D51_H


2 
	#__INC_FASTPIN_ARM_D51_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


18 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, ušt8_ˆ
	g_BIT
, 
ušt32_t
 
	g_MASK
, 
	g_GRP
> cÏs 
	c_ARMPIN
 {

19 
	mpublic
:

20 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

21 
ušt32_t
 
	tpÜt_t
;

24 
šlše
 
	$£tOuut
() {

25 if(
_BIT
<8) {

26 
_CRL
::
	`r
(èğ(_CRL::r(è& (0xF << (
_BIT
*4)) | (0x1 << (_BIT*4));

28 
_CRH
::
	`r
(èğ(_CRH::r(è& (0xF << ((
_BIT
-8)*4))) | (0x1 << ((_BIT-8)*4));

31 
šlše
 
	$£tIÅut
(è{ 
	}
}

34 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); 
	}
}

35 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

37 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
PORT
->
Group
[
_GRP
].
OUTSET
.
»g
 = 
_MASK
; 
	}
}

38 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
PORT
->
Group
[
_GRP
].
OUTCLR
.
»g
 = 
_MASK
; 
	}
}

39 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
PORT
->
Group
[
_GRP
].
OUT
.
»g
 = v®; 
	}
}

41 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

43 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
PORT
->
Group
[
_GRP
].
OUTTGL
.
»g
 = 
_MASK
; 
	}
}

45 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

46 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

47 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

49 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
PORT
->
Group
[
_GRP
].
OUT
.
»g
 | 
_MASK
; 
	}
}

50 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
PORT
->
Group
[
_GRP
].
OUT
.
»g
 & ~
_MASK
; 
	}
}

51 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
PORT
->
Group
[
_GRP
].
OUT
.
»g
; 
	}
}

52 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
PORT
->
Group
[
_GRP
].
OUTSET
.
»g
; 
	}
}

53 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
PORT
->
Group
[
_GRP
].
OUTCLR
.
»g
; 
	}
}

54 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

57 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

58 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 vŞ©
PÜtGroup
 * 
	`r
(è{  T; } };

	)

60 
	#_FL_IO
(
L
è
	`_RD32
(
GPIO
 ## L)

	)

62 
	#_FL_DEFPIN
(
PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, BIT, 1 << BIT, L> {};

	)

65 #ià
defšed
(
ADAFRUIT_ITSYBITSY_M4_EXPRESS
)

67 
	#MAX_PIN
 19

	)

69 
_FL_DEFPIN
( 0, 16, 0); _FL_DEFPIN( 1, 17, 0); _FL_DEFPIN( 2, 7, 0); _FL_DEFPIN( 3, 22, 1);

70 
_FL_DEFPIN
( 4, 14, 0); _FL_DEFPIN( 5, 15, 0); _FL_DEFPIN( 6, 2, 1); _FL_DEFPIN( 7, 18, 0);

71 
_FL_DEFPIN
( 8, 3, 1); _FL_DEFPIN( 9, 19, 0); _FL_DEFPIN(10, 20, 0); _FL_DEFPIN(11, 21, 0);

72 
_FL_DEFPIN
(12, 23, 0); _FL_DEFPIN(13, 22, 0);

74 
_FL_DEFPIN
(14, 2, 0); _FL_DEFPIN(15, 5, 0); _FL_DEFPIN(16, 8, 1); _FL_DEFPIN(17, 9, 1);

75 
_FL_DEFPIN
(18, 4, 0); _FL_DEFPIN(19, 6, 0);

77 
_FL_DEFPIN
(21, 12, 0); _FL_DEFPIN(22, 13, 0);

80 
_FL_DEFPIN
(23, 23, 1); _FL_DEFPIN(24, 1, 0); _FL_DEFPIN(25, 0, 0);

82 
	#SPI_DATA
 25

	)

83 
	#SPI_CLOCK
 24

	)

85 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

88 #–ià
defšed
(
ADAFRUIT_METRO_M4_AIRLIFT_LITE
)

90 
	#MAX_PIN
 20

	)

92 
_FL_DEFPIN
( 0, 23, 0); _FL_DEFPIN( 1, 22, 0); _FL_DEFPIN( 2, 17, 1); _FL_DEFPIN( 3, 16, 1);

93 
_FL_DEFPIN
( 4, 13, 1); _FL_DEFPIN( 5, 14, 1); _FL_DEFPIN( 6, 15, 1); _FL_DEFPIN( 7, 12, 1);

94 
_FL_DEFPIN
( 8, 21, 0); _FL_DEFPIN( 9, 20, 0); _FL_DEFPIN(10, 18, 0); _FL_DEFPIN(11, 19, 0);

95 
_FL_DEFPIN
(12, 17, 0); _FL_DEFPIN(13, 16, 0);

97 
_FL_DEFPIN
(14, 2, 0); _FL_DEFPIN(15, 5, 0); _FL_DEFPIN(16, 6, 0); _FL_DEFPIN(17, 0, 1);

98 
_FL_DEFPIN
(18, 8, 1); _FL_DEFPIN(19, 9, 1);

100 
_FL_DEFPIN
(22, 2, 1); _FL_DEFPIN(23, 3, 1);

103 
_FL_DEFPIN
(24, 14, 0); _FL_DEFPIN(25, 13, 0); _FL_DEFPIN(26, 12, 0);

105 
	#SPI_DATA
 26

	)

106 
	#SPI_CLOCK
 25

	)

108 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

110 #–ià
defšed
(
ADAFRUIT_FEATHER_M4_EXPRESS
)

112 
	#MAX_PIN
 19

	)

114 
_FL_DEFPIN
( 0, 17, 1); _FL_DEFPIN( 1, 16, 1);

115 
_FL_DEFPIN
( 4, 14, 0); _FL_DEFPIN( 5, 16, 0); _FL_DEFPIN( 6, 18, 0);

116 
_FL_DEFPIN
( 8, 3, 1); _FL_DEFPIN( 9, 19, 0); _FL_DEFPIN(10, 20, 0); _FL_DEFPIN(11, 21, 0);

117 
_FL_DEFPIN
(12, 22, 0); _FL_DEFPIN(13, 23, 0);

119 
_FL_DEFPIN
(14, 2, 0); _FL_DEFPIN(15, 5, 0); _FL_DEFPIN(16, 8, 1); _FL_DEFPIN(17, 9, 1);

120 
_FL_DEFPIN
(18, 4, 0); _FL_DEFPIN(19, 6, 0);

122 
_FL_DEFPIN
(21, 12, 0); _FL_DEFPIN(22, 13, 0);

124 
_FL_DEFPIN
(23, 22, 1); _FL_DEFPIN(24, 23, 1); _FL_DEFPIN(25, 17, 0);

126 
	#SPI_DATA
 24

	)

127 
	#SPI_CLOCK
 25

	)

129 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

135 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/d51/led_sysdefs_arm_d51.h

1 #iâdeà
__INC_LED_SYSDEFS_ARM_D51_H


2 
	#__INC_LED_SYSDEFS_ARM_D51_H


	)

5 
	#FASTLED_ARM


	)

7 
	#FASTLED_ARM_M0_PLUS


	)

9 #iâdeà
INTERRUPT_THRESHOLD


10 
	#INTERRUPT_THRESHOLD
 1

	)

14 #iâdeà
FASTLED_ALLOW_INTERRUPTS


15 
	#FASTLED_ALLOW_INTERRUPTS
 0

	)

18 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

19 
	#FASTLED_ACCURATE_CLOCK


	)

23 
	#şi
(è
	`__di§bË_œq
();

	)

24 
	#£i
(è
	`__’abË_œq
();

	)

	@src/platforms/arm/k20/clockless_arm_k20.h

1 #iâdeà
__INC_CLOCKLESS_ARM_K20_H


2 
	#__INC_CLOCKLESS_ARM_K20_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


8 #ià
defšed
(
FASTLED_TEENSY3
)

10 
	#FASTLED_HAS_CLOCKLESS
 1

	)

12 
	g‹m¶©e
 <
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

13 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

14 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

15 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

17 
d©a_t
 
	gmPšMask
;

18 
d©a_±r_t
 
	gmPÜt
;

19 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

21 
	gpublic
:

22 
vœtu®
 
š™
() {

23 
Fa¡Pš
<
DATA_PIN
>::
£tOuut
();

24 
	gmPšMask
 = 
Fa¡Pš
<
DATA_PIN
>::
mask
();

25 
	gmPÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

28 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

30 
	g´Ùeùed
:

31 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

32 
mWa™
.
wa™
();

33 if(!
showRGBIÁ”Çl
(
pix–s
)) {

34 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

35 
showRGBIÁ”Çl
(
pix–s
);

37 
	gmWa™
.
m¬k
();

40 
	g‹m¶©e
<
	gBITS
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
d©a_±r_t
 
pÜt
, 
d©a_t
 
hi
, d©a_ˆ
lo
, 
ušt8_t
 & 
b
) {

41 
ušt32_t
 
	gi
 = 
BITS
-1; i > 0; --i) {

42 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

43 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

44 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
hi
);

45 if(
	gb
&0x80) {

46 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
+(2*(
	gF_CPU
/24000000))));

47 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

49 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

50 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

52 
	gb
 <<= 1;

55 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

56 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

57 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
hi
);

59 if(
	gb
&0x80) {

60 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
+(2*(
	gF_CPU
/24000000))));

61 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

63 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

64 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

70 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

72 
	gARM_DEMCR
 |ğ
ARM_DEMCR_TRCENA
;

73 
	gARM_DWT_CTRL
 |ğ
ARM_DWT_CTRL_CYCCNTENA
;

74 
	gARM_DWT_CYCCNT
 = 0;

76 
d©a_±r_t
 
	gpÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

77 
d©a_t
 
	ghi
 = *
pÜt
 | 
Fa¡Pš
<
DATA_PIN
>::
mask
();

78 
d©a_t
 
	glo
 = *
pÜt
 & ~
Fa¡Pš
<
DATA_PIN
>::
mask
();

79 *
	gpÜt
 = 
lo
;

82 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

83 
ušt8_t
 
	gb
 = 
pix–s
.
lßdAndSÿË0
();

85 
şi
();

86 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

88 
	gpix–s
.
has
(1)) {

89 
	gpix–s
.
¡•D™h”šg
();

90 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

91 
şi
();

93 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

94 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)è{ 
£i
();  0; }

97 
	ghi
 = *
pÜt
 | 
Fa¡Pš
<
DATA_PIN
>::
mask
();

98 
	glo
 = *
pÜt
 & ~
Fa¡Pš
<
DATA_PIN
>::
mask
();

101 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

102 
	gb
 = 
pix–s
.
lßdAndSÿË1
();

105 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

106 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

109 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

110 
	gb
 = 
pix–s
.
advªûAndLßdAndSÿË0
();

111 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

112 
£i
();

116 
£i
();

117  
	gARM_DWT_CYCCNT
;

122 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k20/clockless_block_arm_k20.h

1 #iâdeà
__INC_BLOCK_CLOCKLESS_ARM_K20_H


2 
	#__INC_BLOCK_CLOCKLESS_ARM_K20_H


	)

6 #ià
defšed
(
FASTLED_TEENSY3
)

7 
	#FASTLED_HAS_BLOCKLESS
 1

	)

9 
	#PORTC_FIRST_PIN
 15

	)

10 
	#PORTD_FIRST_PIN
 2

	)

11 
	#HAS_PORTDC
 1

	)

13 
	#PORT_MASK
 (((1<<
LANES
)-1è& ((
FIRST_PIN
==2è? 0xFF : 0xFFF))

	)

15 
	#MIN
(
X
,
Y
è(((X)<(Y)è? (X):(Y))

	)

16 
	#USED_LANES
 ((
FIRST_PIN
==2è? 
	`MIN
(
LANES
,8è: MIN(LANES,12))

	)

18 
	~<kš‘is.h
>

20 
FASTLED_NAMESPACE_BEGIN


22 
	g‹m¶©e
 <
ušt8_t
 
	gLANES
, 
	gFIRST_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
GRB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 40>

23 
şass
 
IÆšeBlockClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 
	gLANES
, 
	gPORT_MASK
> {

24 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

25 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_t
 
	td©a_t
;

27 
d©a_t
 
	gmPšMask
;

28 
d©a_±r_t
 
	gmPÜt
;

29 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

31 
	gpublic
:

32 
vœtu®
 
size
(è{  
CLEDCÚŒŞËr
::size(è* 
LANES
; }

34 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> & 
pix–s
) {

35 
	gmWa™
.
wa™
();

36 
ušt32_t
 
	gşocks
 = 
showRGBIÁ”Çl
(
pix–s
);

37 #ià
FASTLED_ALLOW_INTERRUPTS
 == 0

39 
	gmiüosTak’
 = 
CLKS_TO_MICROS
(
şocks
);

40 
	gMS_COUNTER
 +ğ(1 + (
miüosTak’
 / 1000));

43 
	gmWa™
.
m¬k
();

46 
vœtu®
 
š™
() {

47 if(
	gFIRST_PIN
 =ğ
PORTC_FIRST_PIN
) {

48 
USED_LANES
) {

49 12: 
Fa¡Pš
<30>::
£tOuut
();

50 11: 
Fa¡Pš
<29>::
£tOuut
();

51 10: 
Fa¡Pš
<27>::
£tOuut
();

52 9: 
Fa¡Pš
<28>::
£tOuut
();

53 8: 
Fa¡Pš
<12>::
£tOuut
();

54 7: 
Fa¡Pš
<11>::
£tOuut
();

55 6: 
Fa¡Pš
<13>::
£tOuut
();

56 5: 
Fa¡Pš
<10>::
£tOuut
();

57 4: 
Fa¡Pš
<9>::
£tOuut
();

58 3: 
Fa¡Pš
<23>::
£tOuut
();

59 2: 
Fa¡Pš
<22>::
£tOuut
();

60 1: 
Fa¡Pš
<15>::
£tOuut
();

62 } if(
	gFIRST_PIN
 =ğ
PORTD_FIRST_PIN
) {

63 
USED_LANES
) {

64 8: 
Fa¡Pš
<5>::
£tOuut
();

65 7: 
Fa¡Pš
<21>::
£tOuut
();

66 6: 
Fa¡Pš
<20>::
£tOuut
();

67 5: 
Fa¡Pš
<6>::
£tOuut
();

68 4: 
Fa¡Pš
<8>::
£tOuut
();

69 3: 
Fa¡Pš
<7>::
£tOuut
();

70 2: 
Fa¡Pš
<14>::
£tOuut
();

71 1: 
Fa¡Pš
<2>::
£tOuut
();

74 
	gmPšMask
 = 
Fa¡Pš
<
FIRST_PIN
>::
mask
();

75 
	gmPÜt
 = 
Fa¡Pš
<
FIRST_PIN
>::
pÜt
();

78 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

81 
ušt8_t
 
	gby‹s
[12];

82 
ušt16_t
 
	gshÜts
[6];

83 
ušt32_t
 
	g¿w
[3];

84 } 
	tLšes
;

86 
	g‹m¶©e
<
	gBITS
,
	gPX
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
Lšes
 & 
b
, 
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> &
pix–s
) {

87 
Lšes
 
	gb2
;

88 if(
	gUSED_LANES
>8) {

89 
	gŒª¥o£8
<1,2>(
	gb
.
	gby‹s
,
	gb2
.bytes);

90 
	gŒª¥o£8
<1,2>(
	gb
.
	gby‹s
+8,
	gb2
.bytes+1);

92 
Œª¥o£8x1
(
b
.
by‹s
,
b2
.bytes);

94 
ušt8_t
 
	gd
 = 
pix–s
.
‹m¶©e
 
g‘d
<
PX
>(pixels);

95 
ušt8_t
 
	gsÿË
 = 
pix–s
.
‹m¶©e
 
g‘sÿË
<
PX
>(pixels);

97 
ušt32_t
 
	gi
 = 0; i < (
	gUSED_LANES
/2); ++i) {

98 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

99 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
)-3;

100 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PORT_MASK
;

102 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

103 if(
	gUSED_LANES
>8) {

104 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ((~
b2
.
shÜts
[
i
]è& 
PORT_MASK
);

106 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ((~
b2
.
by‹s
[7-
i
]è& 
PORT_MASK
);

109 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
));

110 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PORT_MASK
;

112 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
,
	gd
,
	gsÿË
);

113 
	gb
.
	gby‹s
[
i
+(
USED_LANES
/2)] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
+(
	gUSED_LANES
/2),
	gd
,
	gsÿË
);

117 if(
	gUSED_LANES
 & 0x01) {

118 
	gb
.
	gby‹s
[
USED_LANES
-1] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gUSED_LANES
-1,
	gd
,
	gsÿË
);

121 
ušt32_t
 
	gi
 = 
USED_LANES
/2; i < 8; ++i) {

122 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

123 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
)-3;

124 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PORT_MASK
;

125 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

126 if(
	gUSED_LANES
>8) {

127 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ((~
b2
.
shÜts
[
i
]è& 
PORT_MASK
);

130 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ((~
b2
.
by‹s
[7-
i
]è& 
PORT_MASK
);

133 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
));

134 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PORT_MASK
;

143 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> &
®Íix–s
) {

145 
	gARM_DEMCR
 |ğ
ARM_DEMCR_TRCENA
;

146 
	gARM_DWT_CTRL
 |ğ
ARM_DWT_CTRL_CYCCNTENA
;

147 
	gARM_DWT_CYCCNT
 = 0;

150 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

151 
Lšes
 
	gb0
;

153 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

154 
	gi
 = 0; i < 
	gUSED_LANES
; ++i) {

155 
	gb0
.
	gby‹s
[
i
] = 
®Íix–s
.
lßdAndSÿË0
(i);

158 
şi
();

159 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

161 
	g®Íix–s
.
has
(1)) {

162 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

163 
şi
();

165 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

166 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-5)*
	gCLKS_PER_US
)è{ 
£i
();  ARM_DWT_CYCCNT; }

169 
	g®Íix–s
.
¡•D™h”šg
();

172 
	gwr™eB™s
<8+
	gXTRA0
,1>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

175 
	gwr™eB™s
<8+
	gXTRA0
,2>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

176 
	g®Íix–s
.
advªûD©a
();

179 
	gwr™eB™s
<8+
	gXTRA0
,0>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

180 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

181 
£i
();

185  
	gARM_DWT_CYCCNT
;

189 
	#PMASK
 ((1<<(
LANES
))-1)

	)

190 
	#PMASK_HI
 (
PMASK
>>8 & 0xFF)

	)

191 
	#PMASK_LO
 (
PMASK
 & 0xFF)

	)

193 
	g‹m¶©e
 <
ušt8_t
 
	gLANES
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
GRB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

194 
şass
 
Six‹’WayIÆšeBlockClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 
	gLANES
, 
	gPMASK
> {

195 
ty³Çme
 
	tFa¡Pš
<
	tPORTC_FIRST_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

196 
ty³Çme
 
	tFa¡Pš
<
	tPORTC_FIRST_PIN
>::
	tpÜt_t
 
	td©a_t
;

198 
d©a_t
 
	gmPšMask
;

199 
d©a_±r_t
 
	gmPÜt
;

200 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

202 
	gpublic
:

203 
vœtu®
 
š™
() {

204 
¡©ic_as£¹
(
LANES
 <= 16, "Maximum of 16†anes for Teensy…arallel controllers!");

209 
	gLANES
) {

210 16: 
Fa¡Pš
<12>::
£tOuut
();

211 15: 
Fa¡Pš
<11>::
£tOuut
();

212 14: 
Fa¡Pš
<13>::
£tOuut
();

213 13: 
Fa¡Pš
<10>::
£tOuut
();

214 12: 
Fa¡Pš
<9>::
£tOuut
();

215 11: 
Fa¡Pš
<23>::
£tOuut
();

216 10: 
Fa¡Pš
<22>::
£tOuut
();

217 9: 
Fa¡Pš
<15>::
£tOuut
();

219 8: 
Fa¡Pš
<5>::
£tOuut
();

220 7: 
Fa¡Pš
<21>::
£tOuut
();

221 6: 
Fa¡Pš
<20>::
£tOuut
();

222 5: 
Fa¡Pš
<6>::
£tOuut
();

223 4: 
Fa¡Pš
<8>::
£tOuut
();

224 3: 
Fa¡Pš
<7>::
£tOuut
();

225 2: 
Fa¡Pš
<14>::
£tOuut
();

226 1: 
Fa¡Pš
<2>::
£tOuut
();

230 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PMASK
> & 
pix–s
) {

231 
	gmWa™
.
wa™
();

232 
ušt32_t
 
	gşocks
 = 
showRGBIÁ”Çl
(
pix–s
);

233 #ià
FASTLED_ALLOW_INTERRUPTS
 == 0

235 
	gmiüosTak’
 = 
CLKS_TO_MICROS
(
şocks
);

236 
	gMS_COUNTER
 +ğ(1 + (
miüosTak’
 / 1000));

239 
	gmWa™
.
m¬k
();

243 
ušt8_t
 
	gby‹s
[16];

244 
ušt16_t
 
	gshÜts
[8];

245 
ušt32_t
 
	g¿w
[4];

246 } 
	tLšes
;

248 
	g‹m¶©e
<
	gBITS
,
	gPX
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
Lšes
 & 
b
, 
Pix–CÚŒŞËr
<
RGB_ORDER
,
LANES
, 
PMASK
> &
pix–s
) {

249 
Lšes
 
	gb2
;

250 
Œª¥o£8x1
(
b
.
by‹s
,
b2
.bytes);

251 
Œª¥o£8x1
(
b
.
by‹s
+8,
b2
.bytes+8);

252 
ušt8_t
 
	gd
 = 
pix–s
.
‹m¶©e
 
g‘d
<
PX
>(pixels);

253 
ušt8_t
 
	gsÿË
 = 
pix–s
.
‹m¶©e
 
g‘sÿË
<
PX
>(pixels);

255 
ušt32_t
 
	gi
 = 0; (˜< 
	gLANES
) && (i < 8); ++i) {

256 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

257 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
)-3;

258 *
	gFa¡Pš
<
	gPORTD_FIRST_PIN
>::
¥Üt
(èğ
PMASK_LO
;

259 *
	gFa¡Pš
<
	gPORTC_FIRST_PIN
>::
¥Üt
(èğ
PMASK_HI
;

261 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+6));

262 *
	gFa¡Pš
<
	gPORTD_FIRST_PIN
>::
ıÜt
(èğ((~
b2
.
by‹s
[7-
i
]è& 
PMASK_LO
);

263 *
	gFa¡Pš
<
	gPORTC_FIRST_PIN
>::
ıÜt
(èğ((~
b2
.
by‹s
[15-
i
]è& 
PMASK_HI
);

265 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
));

266 *
	gFa¡Pš
<
	gPORTD_FIRST_PIN
>::
ıÜt
(èğ
PMASK_LO
;

267 *
	gFa¡Pš
<
	gPORTC_FIRST_PIN
>::
ıÜt
(èğ
PMASK_HI
;

269 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
,
	gd
,
	gsÿË
);

270 if(
	gLANES
==16 || (
LANES
>8 && ((
i
+8) < LANES))) {

271 
b
.
by‹s
[
i
+8] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
+8,
	gd
,
	gsÿË
);

280 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
,
LANES
, 
PMASK
> &
®Íix–s
) {

282 
	gARM_DEMCR
 |ğ
ARM_DEMCR_TRCENA
;

283 
	gARM_DWT_CTRL
 |ğ
ARM_DWT_CTRL_CYCCNTENA
;

284 
	gARM_DWT_CYCCNT
 = 0;

287 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

288 
Lšes
 
	gb0
;

290 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

291 
	gi
 = 0; i < 
	gLANES
; ++i) {

292 
	gb0
.
	gby‹s
[
i
] = 
®Íix–s
.
lßdAndSÿË0
(i);

295 
şi
();

296 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

298 
	g®Íix–s
.
has
(1)) {

299 
	g®Íix–s
.
¡•D™h”šg
();

300 #ià0 && (
FASTLED_ALLOW_INTERRUPTS
 == 1)

301 
şi
();

303 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

304 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)è{ 
£i
();  ARM_DWT_CYCCNT; }

309 
	gwr™eB™s
<8+
	gXTRA0
,1>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

312 
	gwr™eB™s
<8+
	gXTRA0
,2>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

313 
	g®Íix–s
.
advªûD©a
();

316 
	gwr™eB™s
<8+
	gXTRA0
,0>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

318 #ià0 && (
FASTLED_ALLOW_INTERRUPTS
 == 1)

319 
£i
();

322 
£i
();

324  
	gARM_DWT_CYCCNT
;

328 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k20/fastled_arm_k20.h

1 #iâdeà
__INC_FASTLED_ARM_K20_H


2 
	#__INC_FASTLED_ARM_K20_H


	)

5 
	~"ç¡pš_¬m_k20.h
"

6 
	~"ç¡¥i_¬m_k20.h
"

7 
	~"oùows2811_cÚŒŞËr.h
"

8 
	~"ws2812£rŸl_cÚŒŞËr.h
"

9 
	~"sm¬tm©rix_t3.h
"

10 
	~"şockËss_¬m_k20.h
"

11 
	~"şockËss_block_¬m_k20.h
"

	@src/platforms/arm/k20/fastpin_arm_k20.h

1 #iâdeà
__FASTPIN_ARM_K20_H


2 
	#__FASTPIN_ARM_K20_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


18 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	g_MASK
, 
ty³Çme
 
	g_PDOR
,y³Çm
	g_PSOR
,y³Çm
	g_PCOR
,y³Çm
	g_PTOR
,y³Çm
	g_PDIR
,y³Çm
	g_PDDR
> cÏs 
	c_ARMPIN
 {

19 
	mpublic
:

20 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

21 
ušt32_t
 
	tpÜt_t
;

23 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

24 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

26 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PSOR
::
	`r
(èğ
_MASK
; 
	}
}

27 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PCOR
::
	`r
(èğ
_MASK
; 
	}
}

28 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PDOR
::
	`r
(èğv®; 
	}
}

30 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

32 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PTOR
::
	`r
(èğ
_MASK
; 
	}
}

34 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

35 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

36 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

38 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
	`r
(è| 
_MASK
; 
	}
}

39 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
	`r
(è& ~
_MASK
; 
	}
}

40 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PDOR
::
	`r
(); 
	}
}

41 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PSOR
::
	`r
(); 
	}
}

42 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PCOR
::
	`r
(); 
	}
}

43 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

48 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
	g_BIT
, 
ty³Çme
 
	g_PDOR
,y³Çm
	g_PSOR
,y³Çm
	g_PCOR
,y³Çm
	g_PTOR
,y³Çm
	g_PDIR
,y³Çm
	g_PDDR
> cÏs 
	c_ARMPIN_BITBAND
 {

49 
	mpublic
:

50 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

51 
ušt32_t
 
	tpÜt_t
;

53 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

54 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

56 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğ1; 
	}
}

57 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğ0; 
	}
}

58 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğv®; 
	}
}

60 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

62 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PTOR
::
‹m¶©e
 
rx
<
_BIT
>(èğ1; 
	}
}

64 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

65 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

66 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğv®; 
	}
}

68 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  1; 
	}
}

69 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0; 
	}
}

70 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(); 
	}
}

71 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  1; 
	}
}

75 
	#GPIO_BITBAND_ADDR
(
»g
, 
b™
è(((
ušt32_t
)&Ôegè- 0x40000000è* 32 + (b™è* 4 + 0x42000000)

	)

76 
	#GPIO_BITBAND_PTR
(
»g
, 
b™
è((
ušt32_t
 *)
	`GPIO_BITBAND_ADDR
(Ôeg), (b™)))

	)

78 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

79 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
»g32_t
 
	`r
() {  T; } \

80 
‹m¶©e
<
BIT
> 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
±r_»g32_t
 
	`rx
(è{  
	`GPIO_BITBAND_PTR
(
T
, BIT); } };

	)

81 
	#_FL_IO
(
L
,
C
è
	`_RD32
(
GPIO
 ## L ## 
_PDOR
); _RD32(GPIO ## L ## 
_PSOR
); _RD32(GPIO ## L ## 
_PCOR
); _RD32(GPIO ## L ## 
_PTOR
); _RD32(GPIO ## L ## 
_PDIR
); _RD32(GPIO ## L ## 
_PDDR
); 
	`_FL_DEFINE_PORT3
(L,C,
	`_R
(GPIO ## L ## _PDOR));

	)

83 
	#_FL_DEFPIN
(
PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, 1 << BIT, 
	`_R
(
GPIO
 ## L ## 
_PDOR
), _R(GPIO ## L ## 
_PSOR
), _R(GPIO ## L ## 
_PCOR
), \

84 
	`_R
(
GPIO
 ## 
L
 ## 
_PTOR
), _R(GPIO ## L ## 
_PDIR
), _R(GPIO ## L ## 
_PDDR
)> {}; \

85 
‹m¶©e
<> 
şass
 
Fa¡PšBB
<
PIN
> : 
public
 
_ARMPIN_BITBAND
<PIN, 
BIT
, 
	`_R
(
GPIO
 ## 
L
 ## 
_PDOR
), _R(GPIO ## L ## 
_PSOR
), _R(GPIO ## L ## 
_PCOR
), \

86 
	`_R
(
GPIO
 ## 
L
 ## 
_PTOR
), _R(GPIO ## L ## 
_PDIR
), _R(GPIO ## L ## 
_PDDR
)> {};

	)

89 
_FL_IO
(
A
,0); _FL_IO(
B
,1); _FL_IO(
C
,2); _FL_IO(
D
,3); _FL_IO(
E
,4);

91 #ià
defšed
(
FASTLED_TEENSY3
è&& defšed(
CORE_TEENSY
)

93 
	#MAX_PIN
 33

	)

94 
_FL_DEFPIN
(0, 16, 
B
); _FL_DEFPIN(1, 17, B); _FL_DEFPIN(2, 0, 
D
); _FL_DEFPIN(3, 12, 
A
);

95 
_FL_DEFPIN
(4, 13, 
A
); _FL_DEFPIN(5, 7, 
D
); _FL_DEFPIN(6, 4, D); _FL_DEFPIN(7, 2, D);

96 
_FL_DEFPIN
(8, 3, 
D
); _FL_DEFPIN(9, 3, 
C
); _FL_DEFPIN(10, 4, C); _FL_DEFPIN(11, 6, C);

97 
_FL_DEFPIN
(12, 7, 
C
); _FL_DEFPIN(13, 5, C); _FL_DEFPIN(14, 1, 
D
); _FL_DEFPIN(15, 0, C);

98 
_FL_DEFPIN
(16, 0, 
B
); _FL_DEFPIN(17, 1, B); _FL_DEFPIN(18, 3, B); _FL_DEFPIN(19, 2, B);

99 
_FL_DEFPIN
(20, 5, 
D
); _FL_DEFPIN(21, 6, D); _FL_DEFPIN(22, 1, 
C
); _FL_DEFPIN(23, 2, C);

100 
_FL_DEFPIN
(24, 5, 
A
); _FL_DEFPIN(25, 19, 
B
); _FL_DEFPIN(26, 1, 
E
); _FL_DEFPIN(27, 9, 
C
);

101 
_FL_DEFPIN
(28, 8, 
C
); _FL_DEFPIN(29, 10, C); _FL_DEFPIN(30, 11, C); _FL_DEFPIN(31, 0, 
E
);

102 
_FL_DEFPIN
(32, 18, 
B
); _FL_DEFPIN(33, 4, 
A
);

104 
	#SPI_DATA
 11

	)

105 
	#SPI_CLOCK
 13

	)

106 
	#SPI1
 (*(
SPI_t
 *)0x4002D000)

	)

108 
	#SPI2_DATA
 7

	)

109 
	#SPI2_CLOCK
 14

	)

111 
	#FASTLED_TEENSY3


	)

112 
	#ARM_HARDWARE_SPI


	)

113 
	#HAS_HARDWARE_PIN_SUPPORT


	)

118 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k20/fastspi_arm_k20.h

1 #iâdeà
__INC_FASTSPI_ARM_H


2 
	#__INC_FASTSPI_ARM_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_TEENSY3
è&& defšed(
CORE_TEENSY
)

9 #ià
TEENSYDUINO
 >= 120

10 
	#SPI_t
 
KINETISK_SPI_t


	)

13 #iâdeà
KINETISK_SPI0


14 
	#KINETISK_SPI0
 
SPI0


	)

17 #iâdeà
SPI_PUSHR_CONT


18 
	#SPI_PUSHR_CONT
 
SPIX
.
PUSHR_CONT


	)

19 
	#SPI_PUSHR_CTAS
(
X
è
SPIX
.
	`PUSHR_CTAS
(X)

	)

20 
	#SPI_PUSHR_EOQ
 
SPIX
.
PUSHR_EOQ


	)

21 
	#SPI_PUSHR_CTCNT
 
SPIX
.
PUSHR_CTCNT


	)

22 
	#SPI_PUSHR_PCS
(
X
è
SPIX
.
	`PUSHR_PCS
(X)

	)

28 
	g‹m¶©e
<
	gVAL
, 
	gBIT
> cÏs 
	cB™WÜk
 {

29 
	mpublic
:

30 
	$highe¡B™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{  (
VAL
 & 1 << 
BIT
è? BIT : 
B™WÜk
<VAL, BIT-1>::
	`highe¡B™
(); }

31 
	}
};

33 
	g‹m¶©e
<
	gVAL
> 
şass
 
	gB™WÜk
<VAL, 0> {

34 
	gpublic
:

35 
highe¡B™
(è
__©Œibu‹__
((
®ways_šlše
)) {  0; }

38 
	#MAX
(
A
, 
B
è(Ğ(Aè> (Bèè? (Aè: (B))

	)

40 
	#USE_CONT
 0

	)

42 
	sSPIS‹
 {

43 
ušt32_t
 
	m_ù¬0
,
	m_ù¬1
;

44 
ušt32_t
 
	mpšs
[4];

51 
	g‹m¶©e
 <
	gVAL
> 
	$g‘SÿÏrs
(
ušt32_t
 & 
´eSÿÏr
, ušt32_ˆ& 
sÿÏr
, ušt32_ˆ& 
dbl
) {

52 
VAL
) {

55 2: 
´eSÿÏr
 = 0; 
sÿÏr
 = 0; 
dbl
 = 1; ;

56 3: 
´eSÿÏr
 = 1; 
sÿÏr
 = 0; 
dbl
 = 1; ;

57 5: 
´eSÿÏr
 = 2; 
sÿÏr
 = 0; 
dbl
 = 1; ;

58 7: 
´eSÿÏr
 = 3; 
sÿÏr
 = 0; 
dbl
 = 1; ;

62 9: 
´eSÿÏr
 = 1; 
sÿÏr
 = 2; 
dbl
 = 1; ;

63 18: 19: 
´eSÿÏr
 = 1; 
sÿÏr
 = 2; 
dbl
 = 0; ;

65 15: 
´eSÿÏr
 = 2; 
sÿÏr
 = 2; 
dbl
 = 1; ;

66 30: 31: 
´eSÿÏr
 = 2; 
sÿÏr
 = 2; 
dbl
 = 0; ;

68 21: 22: 23: 
´eSÿÏr
 = 3; 
sÿÏr
 = 2; 
dbl
 = 1; ;

69 42: 43: 44: 45: 46: 47: 
´eSÿÏr
 = 3; 
sÿÏr
 = 2; 
dbl
 = 0; ;

71 
p2
 = 
B™WÜk
<
VAL
/2, 15>::
	`highe¡B™
();

72 
p3
 = 
B™WÜk
<
VAL
/3, 15>::
	`highe¡B™
();

73 
p5
 = 
B™WÜk
<
VAL
/5, 15>::
	`highe¡B™
();

74 
p7
 = 
B™WÜk
<
VAL
/7, 15>::
	`highe¡B™
();

76 
w2
 = 2 * (1 << 
p2
);

77 
w3
 = (
VAL
/3è> 0 ? 3 * (1 << 
p3
) : 0;

78 
w5
 = (
VAL
/5è> 0 ? 5 * (1 << 
p5
) : 0;

79 
w7
 = (
VAL
/7è> 0 ? 7 * (1 << 
p7
) : 0;

81 
maxv®
 = 
	`MAX
(MAX(
w2
, 
w3
), MAX(
w5
, 
w7
));

83 if(
w2
 =ğ
maxv®
è{ 
´eSÿÏr
 = 0; 
sÿÏr
 = 
p2
; }

84 if(
w3
 =ğ
maxv®
è{ 
´eSÿÏr
 = 1; 
sÿÏr
 = 
p3
; }

85 if(
w5
 =ğ
maxv®
è{ 
´eSÿÏr
 = 2; 
sÿÏr
 = 
p5
; }

86 if(
w7
 =ğ
maxv®
è{ 
´eSÿÏr
 = 3; 
sÿÏr
 = 
p7
; }

88 
dbl
 = 0;

89 if(
sÿÏr
 =ğ0è{ 
dbl
 = 1; }

90 if(
sÿÏr
 < 3) { --scalar; }

94 
	}
}

96 
	#SPIX
 (*(
SPI_t
*)
pSPIX
)

	)

98 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
, ušt32_ˆ
	gpSPIX
>

99 şas 
	cARMH¬dw¬eSPIOuut
 {

100 
S–eùabË
 *
	mm_pS–eù
;

101 
SPIS‹
 
	mgS‹
;

105 
šlše
 
	$’abË_pšs
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

107 
_DATA_PIN
) {

109 
CORE_PIN7_CONFIG
 = 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(2);

110 
CORE_PIN11_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1);

113 
CORE_PIN11_CONFIG
 = 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(2);

114 
CORE_PIN7_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1);

118 
_CLOCK_PIN
) {

120 
CORE_PIN13_CONFIG
 = 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(2);

121 
CORE_PIN14_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1);

124 
CORE_PIN14_CONFIG
 = 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(2);

125 
CORE_PIN13_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1);

131 
šlše
 
	$di§bË_pšs
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

132 
_DATA_PIN
) {

133 7: 
CORE_PIN7_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1); 
CORE_PIN11_CONFIG
 = 
gS‹
.
pšs
[1]; ;

134 11: 
CORE_PIN11_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1); 
CORE_PIN7_CONFIG
 = 
gS‹
.
pšs
[0]; ;

137 
_CLOCK_PIN
) {

138 13: 
CORE_PIN13_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1); 
CORE_PIN14_CONFIG
 = 
gS‹
.
pšs
[3]; ;

139 14: 
CORE_PIN14_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1); 
CORE_PIN13_CONFIG
 = 
gS‹
.
pšs
[2]; ;

141 
	}
}

143 
šlše
 
	$upd©e_ù¬s
(
ušt32_t
 
ù¬0
, ušt32_ˆ
ù¬1
è
	`__©Œibu‹__
((
®ways_šlše
)) {

144 if(
SPIX
.
CTAR0
 =ğ
ù¬0
 && SPIX.
CTAR1
 =ğ
ù¬1
) ;

145 
ušt32_t
 
mü
 = 
SPIX
.
MCR
;

146 if(
mü
 & 
SPI_MCR_MDIS
) {

147 
SPIX
.
CTAR0
 = 
ù¬0
;

148 
SPIX
.
CTAR1
 = 
ù¬1
;

150 
SPIX
.
MCR
 = 
mü
 | 
SPI_MCR_MDIS
 | 
SPI_MCR_HALT
;

151 
SPIX
.
CTAR0
 = 
ù¬0
;

152 
SPIX
.
CTAR1
 = 
ù¬1
;

153 
SPIX
.
MCR
 = 
mü
;

155 
	}
}

157 
šlše
 
	$upd©e_ù¬0
(
ušt32_t
 
ù¬
è
	`__©Œibu‹__
((
®ways_šlše
)) {

158 ià(
SPIX
.
CTAR0
 =ğ
ù¬
) ;

159 
ušt32_t
 
mü
 = 
SPIX
.
MCR
;

160 ià(
mü
 & 
SPI_MCR_MDIS
) {

161 
SPIX
.
CTAR0
 = 
ù¬
;

163 
SPIX
.
MCR
 = 
mü
 | 
SPI_MCR_MDIS
 | 
SPI_MCR_HALT
;

164 
SPIX
.
CTAR0
 = 
ù¬
;

166 
SPIX
.
MCR
 = 
mü
;

168 
	}
}

170 
šlše
 
	$upd©e_ù¬1
(
ušt32_t
 
ù¬
è
	`__©Œibu‹__
((
®ways_šlše
)) {

171 ià(
SPIX
.
CTAR1
 =ğ
ù¬
) ;

172 
ušt32_t
 
mü
 = 
SPIX
.
MCR
;

173 ià(
mü
 & 
SPI_MCR_MDIS
) {

174 
SPIX
.
CTAR1
 = 
ù¬
;

176 
SPIX
.
MCR
 = 
mü
 | 
SPI_MCR_MDIS
 | 
SPI_MCR_HALT
;

177 
SPIX
.
CTAR1
 = 
ù¬
;

178 
SPIX
.
MCR
 = 
mü
;

181 
	}
}

183 
	$£tSPIR©e
() {

185 
ušt32_t
 
_PBR
 = 0;

186 
ušt32_t
 
_BR
 = 0;

187 
ušt32_t
 
_CSSCK
 = 0;

188 
ušt32_t
 
_DBR
 = 0;

202 
g‘SÿÏrs
<
_SPI_CLOCK_DIVIDER
>(
_PBR
, 
_BR
, 
_DBR
);

203 
_CSSCK
 = 
_BR
;

205 
ušt32_t
 
ù¬0
 = 
	`SPI_CTAR_FMSZ
(7è| 
	`SPI_CTAR_PBR
(
_PBR
è| 
	`SPI_CTAR_BR
(
_BR
è| 
	`SPI_CTAR_CSSCK
(
_CSSCK
);

206 
ušt32_t
 
ù¬1
 = 
	`SPI_CTAR_FMSZ
(15è| 
	`SPI_CTAR_PBR
(
_PBR
è| 
	`SPI_CTAR_BR
(
_BR
è| 
	`SPI_CTAR_CSSCK
(
_CSSCK
);

208 #ià
USE_CONT
 == 1

209 
ù¬0
 |ğ
SPI_CTAR_CPHA
 | 
SPI_CTAR_CPOL
;

210 
ù¬1
 |ğ
SPI_CTAR_CPHA
 | 
SPI_CTAR_CPOL
;

213 if(
_DBR
) {

214 
ù¬0
 |ğ
SPI_CTAR_DBR
;

215 
ù¬1
 |ğ
SPI_CTAR_DBR
;

218 
	`upd©e_ù¬s
(
ù¬0
,
ù¬1
);

219 
	}
}

221 
šlše
 
	$§ve_¥i_¡©e
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

223 
gS‹
.
_ù¬0
 = 
SPIX
.
CTAR0
;

224 
gS‹
.
_ù¬1
 = 
SPIX
.
CTAR1
;

227 
gS‹
.
pšs
[0] = 
CORE_PIN7_CONFIG
;

228 
gS‹
.
pšs
[1] = 
CORE_PIN11_CONFIG
;

229 
gS‹
.
pšs
[2] = 
CORE_PIN13_CONFIG
;

230 
gS‹
.
pšs
[3] = 
CORE_PIN14_CONFIG
;

231 
	}
}

233 
šlše
 
	$»¡Üe_¥i_¡©e
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

235 
	`upd©e_ù¬s
(
gS‹
.
_ù¬0
,gS‹.
_ù¬1
);

242 
	}
}

245 
	gpublic
:

246 
	$ARMH¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; 
	}
}

247 
	$ARMH¬dw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

248 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

250 
	$š™
() {

252 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

253 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

256 
ušt32_t
 
sim6
 = 
SIM_SCGC6
;

257 if((
SPI_t
*)
pSPIX
 =ğ&
KINETISK_SPI0
) {

258 ià(!(
sim6
 & 
SIM_SCGC6_SPI0
)) {

260 
SIM_SCGC6
 = 
sim6
 | 
SIM_SCGC6_SPI0
;

261 
SPIX
.
CTAR0
 = 
	`SPI_CTAR_FMSZ
(7è| 
	`SPI_CTAR_PBR
(1è| 
	`SPI_CTAR_BR
(1);

263 } if((
SPI_t
*)
pSPIX
 =ğ&
SPI1
) {

264 ià(!(
sim6
 & 
SIM_SCGC6_SPI1
)) {

266 
SIM_SCGC6
 = 
sim6
 | 
SIM_SCGC6_SPI1
;

267 
SPIX
.
CTAR0
 = 
	`SPI_CTAR_FMSZ
(7è| 
	`SPI_CTAR_PBR
(1è| 
	`SPI_CTAR_BR
(1);

272 
SPIX
.
MCR
 |ğ
SPI_MCR_MSTR
;

273 
SPIX
.
MCR
 &ğ~(
SPI_MCR_MDIS
 | 
SPI_MCR_HALT
);

276 
	}
}

278 
	$wa™FuÎy
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

280 
boŞ
 
em±y
 = 
çl£
;

283 
	`şi
();

284 ià((
SPIX
.
SR
 & 0xF000) > 0) {

286 
SPIX
.
SR
 |ğ
SPI_SR_TCF
;

288 
em±y
 = 
Œue
;

290 
	`£i
();

291 } !
em±y
);

294 !(
SPIX
.
SR
 & 
SPI_SR_TCF
));

295 
SPIX
.
SR
 |ğ(
SPI_SR_TCF
 | 
SPI_SR_EOQF
);

296 
	}
}

298 
boŞ
 
	$Ãedwa™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{  (
SPIX
.
SR
 & 0x4000); 
	}
}

299 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{  (
SPIX
.
SR
 & 0x4000è); 
	}
}

300 
	$wa™1
(è
	`__©Œibu‹__
((
®ways_šlše
)è{  (
SPIX
.
SR
 & 0xF000è>ğ0x2000); 
	}
}

302 
	eECÚt
 { 
	gCONT
, 
	gNOCONT
 };

303 
	eEWa™
 { 
	gPRE
, 
	gPOST
, 
	gNONE
 };

304 
	eELa¡
 { 
	gNOTLAST
, 
	gLAST
 };

306 #ià
USE_CONT
 == 1

307 
	#CM
 
CONT


	)

309 
	#CM
 
NOCONT


	)

311 
	#WM
 
PRE


	)

313 
	g‹m¶©e
<
ECÚt
 
	gCONT_STATE
, 
EWa™
 
	gWAIT_STATE
, 
ELa¡
 
	gLAST_STATE
> cÏs 
	cWr™e
 {

314 
	gpublic
:

315 
wr™eWÜd
(
ušt16_t
 
w
è
__©Œibu‹__
((
®ways_šlše
)) {

316 if(
WAIT_STATE
 =ğ
PRE
è{ 
wa™
(); }

317 
şi
();

318 
	gSPIX
.
	gPUSHR
 = ((
LAST_STATE
 =ğ
LAST
è? 
SPI_PUSHR_EOQ
 : 0) |

319 ((
CONT_STATE
 =ğ
CONT
è? 
SPI_PUSHR_CONT
 : 0) |

320 
SPI_PUSHR_CTAS
(1è| (
w
 & 0xFFFF);

321 
	gSPIX
.
	gSR
 |ğ
SPI_SR_TCF
;

322 
£i
();

323 if(
	gWAIT_STATE
 =ğ
POST
è{ 
wa™
(); }

326 
wr™eBy‹
(
ušt8_t
 
b
è
__©Œibu‹__
((
®ways_šlše
)) {

327 if(
	gWAIT_STATE
 =ğ
PRE
è{ 
wa™
(); }

328 
şi
();

329 
	gSPIX
.
	gPUSHR
 = ((
LAST_STATE
 =ğ
LAST
è? 
SPI_PUSHR_EOQ
 : 0) |

330 ((
CONT_STATE
 =ğ
CONT
è? 
SPI_PUSHR_CONT
 : 0) |

331 
SPI_PUSHR_CTAS
(0è| (
b
 & 0xFF);

332 
	gSPIX
.
	gSR
 |ğ
SPI_SR_TCF
;

333 
£i
();

334 if(
	gWAIT_STATE
 =ğ
POST
è{ 
wa™
(); }

338 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	`şi
(); 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(1è| (w & 0xFFFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	}
}

339 
	$wr™eWÜdNoWa™
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`şi
(); 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(1è| (w & 0xFFFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	}
}

341 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	`şi
(); 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	}
}

342 
	$wr™eBy‹Po¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`şi
(); 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF);SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	`wa™
(); 
	}
}

343 
	$wr™eBy‹NoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`şi
(); 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	}
}

345 
	$wr™eWÜdCÚt
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	`şi
(); 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(1è| (w & 0xFFFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	}
}

346 
	$wr™eWÜdCÚtNoWa™
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`şi
(); 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(1è| (w & 0xFFFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
();
	}
}

348 
	$wr™eBy‹CÚt
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	`şi
(); 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	}
}

349 
	$wr™eBy‹CÚtPo¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`şi
(); 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	`wa™
(); 
	}
}

350 
	$wr™eBy‹CÚtNoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`şi
(); 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`£i
(); 
	}
}

353 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

354 
ušt32_t
 
ù¬1_§ve
 = 
SPIX
.
CTAR1
;

357 
ušt32_t
 
ù¬1
 = (
ù¬1_§ve
 & (~
	`SPI_CTAR_FMSZ
(15))) | SPI_CTAR_FMSZ(0);

358 
	`upd©e_ù¬1
(
ù¬1
);

360 
	`wr™eWÜd
Ğ(
b
 & (1 << 
BIT
)) != 0);

362 
	`upd©e_ù¬1
(
ù¬1_§ve
);

363 
	}
}

365 
šlše
 
	$£Ëù
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

366 
	`§ve_¥i_¡©e
();

367 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); }

368 
	`£tSPIR©e
();

369 
	`’abË_pšs
();

370 
	}
}

372 
šlše
 
	$»Ëa£
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

373 
	`di§bË_pšs
();

374 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); }

375 
	`»¡Üe_¥i_¡©e
();

376 
	}
}

378 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

379 
Ën
--è{ 
Wr™e
<
CM
, 
WM
, 
NOTLAST
>::
	`wr™eBy‹
(
v®ue
); }

380 
	}
}

382 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

383 
	`£Ëù
();

384 
Ën
--) {

385 
	`wr™eBy‹
(
v®ue
);

387 
	`wa™FuÎy
();

388 
	`»Ëa£
();

389 
	}
}

392 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

393 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

394 
	`£Ëù
();

396 
d©a
 !ğ
’d
) {

397 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

399 
D
::
	`po¡Block
(
Ën
);

400 
	`wa™FuÎy
();

401 
	`»Ëa£
();

402 
	}
}

404 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

408 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

409 
£Ëù
();

410 
	gËn
 = 
pix–s
.
mL’
;

413 if((
	gFLAGS
 & 
	gFLAG_START_BIT
) == 0) {

415 
pix–s
.
has
(2)) {

417 if(
WM
 =ğ
NONE
è{ 
wa™1
(); }

418 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eWÜd
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()è<< 8 | D::adju¡Õix–s.
lßdAndSÿË1
()));

422 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eWÜd
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()è<< 8 | D::adju¡Õix–s.
¡•AdvªûAndLßdAndSÿË0
()));

425 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eWÜd
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()è<< 8 | D::adju¡Õix–s.
lßdAndSÿË2
()));

426 
	gpix–s
.
¡•D™h”šg
();

427 
	gpix–s
.
advªûD©a
();

430 if(
	gpix–s
.
has
(1)) {

431 if(
	gWM
 =ğ
NONE
è{ 
wa™1
(); }

433 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eWÜd
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()è<< 8 | D::adju¡Õix–s.
lßdAndSÿË1
()));

434 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

437 
	gD
::
po¡Block
(
Ën
);

438 
wa™FuÎy
();

439 } if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

440 
ušt32_t
 
	gù¬1_§ve
 = 
SPIX
.
CTAR1
;

443 
ušt32_t
 
	gù¬1
 = (
ù¬1_§ve
 & (~
SPI_CTAR_FMSZ
(15))) | SPI_CTAR_FMSZ(8);

444 
upd©e_ù¬1
(
ù¬1
);

446 
	gpix–s
.
has
(1)) {

447 
wr™eWÜd
Ğ0x100 | 
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

448 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

449 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

450 
	gpix–s
.
advªûD©a
();

451 
	gpix–s
.
¡•D™h”šg
();

453 
	gD
::
po¡Block
(
Ën
);

454 
wa™FuÎy
();

457 
upd©e_ù¬1
(
ù¬1_§ve
);

459 
»Ëa£
();

464 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k20/led_sysdefs_arm_k20.h

1 #iâdeà
__INC_LED_SYSDEFS_ARM_K20_H


2 
	#__INC_LED_SYSDEFS_ARM_K20_H


	)

4 
	#FASTLED_TEENSY3


	)

5 
	#FASTLED_ARM


	)

7 #iâdeà
INTERRUPT_THRESHOLD


8 
	#INTERRUPT_THRESHOLD
 1

	)

12 #iâdeà
FASTLED_ALLOW_INTERRUPTS


13 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

16 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

17 
	#FASTLED_ACCURATE_CLOCK


	)

20 #ià(
F_CPU
 == 96000000)

21 
	#CLK_DBL
 1

	)

25 
	~<avr/io.h
>

26 
	~<avr/š‹¼u±.h
>

29 #ià
defšed
(
ARDUINO
)

30 vŞ©
	tušt8_t
 
	tRoReg
;

31 vŞ©
	tušt8_t
 
	tRwReg
;

34 vŞ©
ušt32_t
 
sy¡ick_mlis_couÁ
;

35 
	#MS_COUNTER
 
sy¡ick_mlis_couÁ


	)

41 #iâdeà
FASTLED_USE_PROGMEM


42 
	#FASTLED_USE_PROGMEM
 1

	)

	@src/platforms/arm/k20/octows2811_controller.h

1 #iâdeà
__INC_OCTOWS2811_CONTROLLER_H


2 
	#__INC_OCTOWS2811_CONTROLLER_H


	)

4 #ifdeà
USE_OCTOWS2811


8 
FASTLED_NAMESPACE_BEGIN


10 
	g‹m¶©e
<
EOrd”
 
	gRGB_ORDER
 = 
GRB
, 
ušt8_t
 
	gCHIP
 = 
WS2811_800kHz
>

11 
şass
 
COùoWS2811CÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 8, 0xFF> {

12 
OùoWS2811
 *
	gpoùo
;

13 
ušt8_t
 *
	gd¿wbufãr
,*
	gäamebufãr
;

15 
_š™
(
nLeds
) {

16 if(
	gpoùo
 =ğ
NULL
) {

17 
d¿wbufãr
 = (
ušt8_t
*)
m®loc
(
nLeds
 * 8 * 3);

18 
	gäamebufãr
 = (
ušt8_t
*)
m®loc
(
nLeds
 * 8 * 3);

21 
	gcÚfig
 = 
WS2811_RGB
;

22 
	gcÚfig
 |ğ
CHIP
;

24 
	gpoùo
 = 
Ãw
 
OùoWS2811
(
nLeds
, 
äamebufãr
, 
d¿wbufãr
, 
cÚfig
);

26 
	gpoùo
->
begš
();

29 
	gpublic
:

30 
COùoWS2811CÚŒŞËr
(è{ 
poùo
 = 
NULL
; }

31 
vœtu®
 
size
(è{  
	gCLEDCÚŒŞËr
::size() * 8; }

33 
vœtu®
 
š™
() { }

36 
ušt8_t
 
	gby‹s
[8];

37 
ušt32_t
 
	g¿w
[2];

38 } 
	tLšes
;

40 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 8, 0xFF> & 
pix–s
) {

41 
_š™
(
pix–s
.
size
());

43 
ušt8_t
 *
	gpD©a
 = 
d¿wbufãr
;

44 
	gpix–s
.
has
(1)) {

45 
Lšes
 
	gb
;

47 
	gi
 = 0; i < 8; ++iè{ 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
lßdAndSÿË0
(i); }

48 
Œª¥o£8x1_MSB
(
b
.
by‹s
,
pD©a
); 
	gpD©a
 += 8;

49 
	gi
 = 0; i < 8; ++iè{ 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
lßdAndSÿË1
(i); }

50 
Œª¥o£8x1_MSB
(
b
.
by‹s
,
pD©a
); 
	gpD©a
 += 8;

51 
	gi
 = 0; i < 8; ++iè{ 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
lßdAndSÿË2
(i); }

52 
Œª¥o£8x1_MSB
(
b
.
by‹s
,
pD©a
); 
	gpD©a
 += 8;

53 
	gpix–s
.
¡•D™h”šg
();

54 
	gpix–s
.
advªûD©a
();

57 
	gpoùo
->
show
();

62 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k20/smartmatrix_t3.h

1 #iâdeà
__INC_SMARTMATRIX_T3_H


2 
	#__INC_SMARTMATRIX_T3_H


	)

4 #ifdeà
Sm¬tM©rix_h


5 
	~<Sm¬tM©rix.h
>

7 
FASTLED_NAMESPACE_BEGIN


9 
Sm¬tM©rix
 *
pSm¬tM©rix
;

12 
şass
 
	gCSm¬tM©rixCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

13 
Sm¬tM©rix
 
m©rix
;

15 
	gpublic
:

17 
vœtu®
 
š™
() {

19 
m©rix
.
begš
();

20 
	gm©rix
.
£tBrighŠess
(255);

21 
	gm©rix
.
£tCŞÜCÜ»ùiÚ
(
ccNÚe
);

24 
ş—rLeds
(0);

25 
	gm©rix
.
sw­Bufãrs
();

26 
	gpSm¬tM©rix
 = &
m©rix
;

29 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

30 if(
	gSMART_MATRIX_CAN_TRIPLE_BUFFER
) {

31 
rgb24
 *
	gmd
 = 
m©rix
.
g‘R—lBackBufãr
();

33 
rgb24
 *
	gmd
 = 
m©rix
.
backBufãr
();

35 
	gpix–s
.
has
(1)) {

36 
	gmd
->
	g»d
 = 
pix–s
.
lßdAndSÿË0
();

37 
	gmd
->
	gg»’
 = 
pix–s
.
lßdAndSÿË1
();

38 
	gmd
->
	gblue
 = 
pix–s
.
lßdAndSÿË2
();

39 
	gmd
++;

40 
	gpix–s
.
advªûD©a
();

41 
	gpix–s
.
¡•D™h”šg
();

43 
	gm©rix
.
sw­Bufãrs
();

44 if(
	gSMART_MATRIX_CAN_TRIPLE_BUFFER
 && 
	gpix–s
.
advªûBy
() > 0) {

45 
	gm©rix
.
£tBackBufãr
(
pix–s
.
mD©a
);

50 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k20/ws2812serial_controller.h

1 #iâdeà
__INC_WS2812SERIAL_CONTROLLER_H


2 
	#__INC_WS2812SERIAL_CONTROLLER_H


	)

4 #ifdeà
USE_WS2812SERIAL


6 
FASTLED_NAMESPACE_BEGIN


8 
	g‹m¶©e
<
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
>

9 
şass
 
	gCWS2812S”ŸlCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 8, 0xFF> {

10 
WS2812S”Ÿl
 *
	gp£rŸl
;

11 
ušt8_t
 *
	gd¿wbufãr
,*
	gäamebufãr
;

13 
_š™
(
nLeds
) {

14 ià(
	gp£rŸl
 =ğ
NULL
) {

15 
d¿wbufãr
 = (
ušt8_t
*)
m®loc
(
nLeds
 * 3);

16 
	gäamebufãr
 = (
ušt8_t
*)
m®loc
(
nLeds
 * 12);

17 
	gp£rŸl
 = 
Ãw
 
WS2812S”Ÿl
(
nLeds
, 
äamebufãr
, 
d¿wbufãr
, 
DATA_PIN
, 
WS2812_RGB
);

18 
	gp£rŸl
->
begš
();

22 
	gpublic
:

23 
CWS2812S”ŸlCÚŒŞËr
(è{ 
p£rŸl
 = 
NULL
; }

25 
vœtu®
 
š™
() { }

27 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 8, 0xFF> & 
pix–s
) {

28 
_š™
(
pix–s
.
size
());

30 
ušt8_t
 *
	gp
 = 
d¿wbufãr
;

32 
	gpix–s
.
has
(1)) {

33 *
	gp
++ = 
pix–s
.
lßdAndSÿË0
();

34 *
	gp
++ = 
pix–s
.
lßdAndSÿË1
();

35 *
	gp
++ = 
pix–s
.
lßdAndSÿË2
();

36 
	gpix–s
.
¡•D™h”šg
();

37 
	gpix–s
.
advªûD©a
();

39 
	gp£rŸl
->
show
();

44 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k66/clockless_arm_k66.h

1 #iâdeà
__INC_CLOCKLESS_ARM_K66_H


2 
	#__INC_CLOCKLESS_ARM_K66_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


8 #ià
defšed
(
FASTLED_TEENSY3
)

10 
	#FASTLED_HAS_CLOCKLESS
 1

	)

12 
	g‹m¶©e
 <
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

13 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

14 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

15 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

17 
d©a_t
 
	gmPšMask
;

18 
d©a_±r_t
 
	gmPÜt
;

19 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

21 
	gpublic
:

22 
vœtu®
 
š™
() {

23 
Fa¡Pš
<
DATA_PIN
>::
£tOuut
();

24 
	gmPšMask
 = 
Fa¡Pš
<
DATA_PIN
>::
mask
();

25 
	gmPÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

28 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

30 
	g´Ùeùed
:

31 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

32 
mWa™
.
wa™
();

33 if(!
showRGBIÁ”Çl
(
pix–s
)) {

34 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

35 
showRGBIÁ”Çl
(
pix–s
);

37 
	gmWa™
.
m¬k
();

40 
	g‹m¶©e
<
	gBITS
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
d©a_±r_t
 
pÜt
, 
d©a_t
 
hi
, d©a_ˆ
lo
, 
ušt8_t
 & 
b
) {

41 
ušt32_t
 
	gi
 = 
BITS
-1; i > 0; --i) {

42 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

43 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

44 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
hi
);

45 if(
	gb
&0x80) {

46 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
+(2*(
	gF_CPU
/24000000))));

47 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

49 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

50 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

52 
	gb
 <<= 1;

55 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

56 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

57 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
hi
);

59 if(
	gb
&0x80) {

60 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
+(2*(
	gF_CPU
/24000000))));

61 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

63 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

64 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

70 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

72 
	gARM_DEMCR
 |ğ
ARM_DEMCR_TRCENA
;

73 
	gARM_DWT_CTRL
 |ğ
ARM_DWT_CTRL_CYCCNTENA
;

74 
	gARM_DWT_CYCCNT
 = 0;

76 
d©a_±r_t
 
	gpÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

77 
d©a_t
 
	ghi
 = *
pÜt
 | 
Fa¡Pš
<
DATA_PIN
>::
mask
();

78 
d©a_t
 
	glo
 = *
pÜt
 & ~
Fa¡Pš
<
DATA_PIN
>::
mask
();

79 *
	gpÜt
 = 
lo
;

82 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

83 
ušt8_t
 
	gb
 = 
pix–s
.
lßdAndSÿË0
();

85 
şi
();

86 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

88 
	gpix–s
.
has
(1)) {

89 
	gpix–s
.
¡•D™h”šg
();

90 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

91 
şi
();

93 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

94 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)è{ 
£i
();  0; }

97 
	ghi
 = *
pÜt
 | 
Fa¡Pš
<
DATA_PIN
>::
mask
();

98 
	glo
 = *
pÜt
 & ~
Fa¡Pš
<
DATA_PIN
>::
mask
();

101 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

102 
	gb
 = 
pix–s
.
lßdAndSÿË1
();

105 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

106 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

109 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

110 
	gb
 = 
pix–s
.
advªûAndLßdAndSÿË0
();

111 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

112 
£i
();

116 
£i
();

117  
	gARM_DWT_CYCCNT
;

122 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k66/clockless_block_arm_k66.h

1 #iâdeà
__INC_BLOCK_CLOCKLESS_ARM_K66_H


2 
	#__INC_BLOCK_CLOCKLESS_ARM_K66_H


	)

6 #ià
defšed
(
FASTLED_TEENSY3
)

7 
	#FASTLED_HAS_BLOCKLESS
 1

	)

9 
	#PORTB_FIRST_PIN
 0

	)

10 
	#PORTC_FIRST_PIN
 15

	)

11 
	#PORTD_FIRST_PIN
 2

	)

12 
	#HAS_PORTDC
 1

	)

14 
	#LANE_MASK
 (((1<<
LANES
)-1è& ((
FIRST_PIN
==2è? 0xFF : 0xFFF))

	)

15 
	#PORT_SHIFT
(
P
è((Pè<< ((
FIRST_PIN
==0è? 16 : 0))

	)

16 
	#PORT_MASK
 
	`PORT_SHIFT
(
LANE_MASK
)

	)

18 
	#MIN
(
X
,
Y
è(((X)<(Y)è? (X):(Y))

	)

19 
	#USED_LANES
 ((
FIRST_PIN
!=15è? 
	`MIN
(
LANES
,8è: MIN(LANES,12))

	)

21 
	~<kš‘is.h
>

23 
FASTLED_NAMESPACE_BEGIN


25 
	g‹m¶©e
 <
ušt8_t
 
	gLANES
, 
	gFIRST_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
GRB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 40>

26 
şass
 
IÆšeBlockClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 
	gLANES
, 
	gLANE_MASK
> {

27 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

28 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_t
 
	td©a_t
;

30 
d©a_t
 
	gmPšMask
;

31 
d©a_±r_t
 
	gmPÜt
;

32 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

34 
	gpublic
:

35 
vœtu®
 
size
(è{  
CLEDCÚŒŞËr
::size(è* 
LANES
; }

37 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
LANE_MASK
> & 
pix–s
) {

38 
	gmWa™
.
wa™
();

39 
ušt32_t
 
	gşocks
 = 
showRGBIÁ”Çl
(
pix–s
);

40 #ià
FASTLED_ALLOW_INTERRUPTS
 == 0

42 
	gmiüosTak’
 = 
CLKS_TO_MICROS
(
şocks
);

43 
	gMS_COUNTER
 +ğ(1 + (
miüosTak’
 / 1000));

46 
	gmWa™
.
m¬k
();

49 
vœtu®
 
š™
() {

50 if(
	gFIRST_PIN
 =ğ
PORTC_FIRST_PIN
) {

51 
USED_LANES
) {

52 12: 
Fa¡Pš
<30>::
£tOuut
();

53 11: 
Fa¡Pš
<29>::
£tOuut
();

54 10: 
Fa¡Pš
<27>::
£tOuut
();

55 9: 
Fa¡Pš
<28>::
£tOuut
();

56 8: 
Fa¡Pš
<12>::
£tOuut
();

57 7: 
Fa¡Pš
<11>::
£tOuut
();

58 6: 
Fa¡Pš
<13>::
£tOuut
();

59 5: 
Fa¡Pš
<10>::
£tOuut
();

60 4: 
Fa¡Pš
<9>::
£tOuut
();

61 3: 
Fa¡Pš
<23>::
£tOuut
();

62 2: 
Fa¡Pš
<22>::
£tOuut
();

63 1: 
Fa¡Pš
<15>::
£tOuut
();

65 } if(
	gFIRST_PIN
 =ğ
PORTD_FIRST_PIN
) {

66 
USED_LANES
) {

67 8: 
Fa¡Pš
<5>::
£tOuut
();

68 7: 
Fa¡Pš
<21>::
£tOuut
();

69 6: 
Fa¡Pš
<20>::
£tOuut
();

70 5: 
Fa¡Pš
<6>::
£tOuut
();

71 4: 
Fa¡Pš
<8>::
£tOuut
();

72 3: 
Fa¡Pš
<7>::
£tOuut
();

73 2: 
Fa¡Pš
<14>::
£tOuut
();

74 1: 
Fa¡Pš
<2>::
£tOuut
();

76 } ià(
	gFIRST_PIN
 =ğ
PORTB_FIRST_PIN
) {

77 
USED_LANES
) {

78 8: 
Fa¡Pš
<45>::
£tOuut
();

79 7: 
Fa¡Pš
<44>::
£tOuut
();

80 6: 
Fa¡Pš
<46>::
£tOuut
();

81 5: 
Fa¡Pš
<43>::
£tOuut
();

82 4: 
Fa¡Pš
<30>::
£tOuut
();

83 3: 
Fa¡Pš
<29>::
£tOuut
();

84 2: 
Fa¡Pš
<1>::
£tOuut
();

85 1: 
Fa¡Pš
<0>::
£tOuut
();

88 
	gmPšMask
 = 
Fa¡Pš
<
FIRST_PIN
>::
mask
();

89 
	gmPÜt
 = 
Fa¡Pš
<
FIRST_PIN
>::
pÜt
();

92 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

95 
ušt8_t
 
	gby‹s
[12];

96 
ušt16_t
 
	gshÜts
[6];

97 
ušt32_t
 
	g¿w
[3];

98 } 
	tLšes
;

100 
	g‹m¶©e
<
	gBITS
,
	gPX
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
Lšes
 & 
b
, 
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
LANE_MASK
> &
pix–s
) {

101 
Lšes
 
	gb2
;

102 if(
	gUSED_LANES
>8) {

103 
	gŒª¥o£8
<1,2>(
	gb
.
	gby‹s
,
	gb2
.bytes);

104 
	gŒª¥o£8
<1,2>(
	gb
.
	gby‹s
+8,
	gb2
.bytes+1);

106 
Œª¥o£8x1
(
b
.
by‹s
,
b2
.bytes);

108 
ušt8_t
 
	gd
 = 
pix–s
.
‹m¶©e
 
g‘d
<
PX
>(pixels);

109 
ušt8_t
 
	gsÿË
 = 
pix–s
.
‹m¶©e
 
g‘sÿË
<
PX
>(pixels);

111 
ušt32_t
 
	gi
 = 0; i < (
	gUSED_LANES
/2); ++i) {

112 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

113 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
)-3;

114 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PORT_MASK
;

116 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

117 if(
	gUSED_LANES
>8) {

118 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ((~
b2
.
shÜts
[
i
]è& 
PORT_MASK
);

120 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ(
PORT_SHIFT
(~
b2
.
by‹s
[7-
i
]è& 
PORT_MASK
);

123 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
));

124 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PORT_MASK
;

126 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
,
	gd
,
	gsÿË
);

127 
	gb
.
	gby‹s
[
i
+(
USED_LANES
/2)] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
+(
	gUSED_LANES
/2),
	gd
,
	gsÿË
);

131 if(
	gUSED_LANES
 & 0x01) {

132 
	gb
.
	gby‹s
[
USED_LANES
-1] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gUSED_LANES
-1,
	gd
,
	gsÿË
);

135 
ušt32_t
 
	gi
 = 
USED_LANES
/2; i < 8; ++i) {

136 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

137 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
)-3;

138 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PORT_MASK
;

139 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+(2*(
	gF_CPU
/24000000))));

140 if(
	gUSED_LANES
>8) {

141 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ((~
b2
.
shÜts
[
i
]è& 
PORT_MASK
);

144 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ(
PORT_SHIFT
(~
b2
.
by‹s
[7-
i
]è& 
PORT_MASK
);

147 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
));

148 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PORT_MASK
;

157 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
LANE_MASK
> &
®Íix–s
) {

159 
	gARM_DEMCR
 |ğ
ARM_DEMCR_TRCENA
;

160 
	gARM_DWT_CTRL
 |ğ
ARM_DWT_CTRL_CYCCNTENA
;

161 
	gARM_DWT_CYCCNT
 = 0;

164 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

165 
Lšes
 
	gb0
;

167 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

168 
	gi
 = 0; i < 
	gUSED_LANES
; ++i) {

169 
	gb0
.
	gby‹s
[
i
] = 
®Íix–s
.
lßdAndSÿË0
(i);

172 
şi
();

173 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

175 
	g®Íix–s
.
has
(1)) {

176 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

177 
şi
();

179 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

180 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-5)*
	gCLKS_PER_US
)è{ 
£i
();  ARM_DWT_CYCCNT; }

183 
	g®Íix–s
.
¡•D™h”šg
();

186 
	gwr™eB™s
<8+
	gXTRA0
,1>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

189 
	gwr™eB™s
<8+
	gXTRA0
,2>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

190 
	g®Íix–s
.
advªûD©a
();

193 
	gwr™eB™s
<8+
	gXTRA0
,0>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

194 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

195 
£i
();

199  
	gARM_DWT_CYCCNT
;

203 
	#PMASK
 ((1<<(
LANES
))-1)

	)

204 
	#PMASK_HI
 (
PMASK
>>8 & 0xFF)

	)

205 
	#PMASK_LO
 (
PMASK
 & 0xFF)

	)

207 
	g‹m¶©e
 <
ušt8_t
 
	gLANES
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
GRB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

208 
şass
 
Six‹’WayIÆšeBlockClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 
	gLANES
, 
	gPMASK
> {

209 
ty³Çme
 
	tFa¡Pš
<
	tPORTC_FIRST_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

210 
ty³Çme
 
	tFa¡Pš
<
	tPORTC_FIRST_PIN
>::
	tpÜt_t
 
	td©a_t
;

212 
d©a_t
 
	gmPšMask
;

213 
d©a_±r_t
 
	gmPÜt
;

214 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

216 
	gpublic
:

217 
vœtu®
 
š™
() {

218 
¡©ic_as£¹
(
LANES
 <= 16, "Maximum of 16†anes for Teensy…arallel controllers!");

223 
	gLANES
) {

224 16: 
Fa¡Pš
<12>::
£tOuut
();

225 15: 
Fa¡Pš
<11>::
£tOuut
();

226 14: 
Fa¡Pš
<13>::
£tOuut
();

227 13: 
Fa¡Pš
<10>::
£tOuut
();

228 12: 
Fa¡Pš
<9>::
£tOuut
();

229 11: 
Fa¡Pš
<23>::
£tOuut
();

230 10: 
Fa¡Pš
<22>::
£tOuut
();

231 9: 
Fa¡Pš
<15>::
£tOuut
();

233 8: 
Fa¡Pš
<5>::
£tOuut
();

234 7: 
Fa¡Pš
<21>::
£tOuut
();

235 6: 
Fa¡Pš
<20>::
£tOuut
();

236 5: 
Fa¡Pš
<6>::
£tOuut
();

237 4: 
Fa¡Pš
<8>::
£tOuut
();

238 3: 
Fa¡Pš
<7>::
£tOuut
();

239 2: 
Fa¡Pš
<14>::
£tOuut
();

240 1: 
Fa¡Pš
<2>::
£tOuut
();

244 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PMASK
> & 
pix–s
) {

245 
	gmWa™
.
wa™
();

246 
ušt32_t
 
	gşocks
 = 
showRGBIÁ”Çl
(
pix–s
);

247 #ià
FASTLED_ALLOW_INTERRUPTS
 == 0

249 
	gmiüosTak’
 = 
CLKS_TO_MICROS
(
şocks
);

250 
	gMS_COUNTER
 +ğ(1 + (
miüosTak’
 / 1000));

253 
	gmWa™
.
m¬k
();

257 
ušt8_t
 
	gby‹s
[16];

258 
ušt16_t
 
	gshÜts
[8];

259 
ušt32_t
 
	g¿w
[4];

260 } 
	tLšes
;

262 
	g‹m¶©e
<
	gBITS
,
	gPX
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
Lšes
 & 
b
, 
Pix–CÚŒŞËr
<
RGB_ORDER
,
LANES
, 
PMASK
> &
pix–s
) {

263 
Lšes
 
	gb2
;

264 
Œª¥o£8x1
(
b
.
by‹s
,
b2
.bytes);

265 
Œª¥o£8x1
(
b
.
by‹s
+8,
b2
.bytes+8);

266 
ušt8_t
 
	gd
 = 
pix–s
.
‹m¶©e
 
g‘d
<
PX
>(pixels);

267 
ušt8_t
 
	gsÿË
 = 
pix–s
.
‹m¶©e
 
g‘sÿË
<
PX
>(pixels);

269 
ušt32_t
 
	gi
 = 0; (˜< 
	gLANES
) && (i < 8); ++i) {

270 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

271 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
)-3;

272 *
	gFa¡Pš
<
	gPORTD_FIRST_PIN
>::
¥Üt
(èğ
PMASK_LO
;

273 *
	gFa¡Pš
<
	gPORTC_FIRST_PIN
>::
¥Üt
(èğ
PMASK_HI
;

275 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT2
+
	gT3
+6));

276 *
	gFa¡Pš
<
	gPORTD_FIRST_PIN
>::
ıÜt
(èğ((~
b2
.
by‹s
[7-
i
]è& 
PMASK_LO
);

277 *
	gFa¡Pš
<
	gPORTC_FIRST_PIN
>::
ıÜt
(èğ((~
b2
.
by‹s
[15-
i
]è& 
PMASK_HI
);

279 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> (
	gT3
));

280 *
	gFa¡Pš
<
	gPORTD_FIRST_PIN
>::
ıÜt
(èğ
PMASK_LO
;

281 *
	gFa¡Pš
<
	gPORTC_FIRST_PIN
>::
ıÜt
(èğ
PMASK_HI
;

283 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
,
	gd
,
	gsÿË
);

284 if(
	gLANES
==16 || (
LANES
>8 && ((
i
+8) < LANES))) {

285 
b
.
by‹s
[
i
+8] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
+8,
	gd
,
	gsÿË
);

293 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
,
LANES
, 
PMASK
> &
®Íix–s
) {

295 
	gARM_DEMCR
 |ğ
ARM_DEMCR_TRCENA
;

296 
	gARM_DWT_CTRL
 |ğ
ARM_DWT_CTRL_CYCCNTENA
;

297 
	gARM_DWT_CYCCNT
 = 0;

300 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

301 
Lšes
 
	gb0
;

303 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

304 
	gi
 = 0; i < 
	gLANES
; ++i) {

305 
	gb0
.
	gby‹s
[
i
] = 
®Íix–s
.
lßdAndSÿË0
(i);

308 
şi
();

309 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + (
T1
+
T2
+
T3
);

311 
	g®Íix–s
.
has
(1)) {

312 
	g®Íix–s
.
¡•D™h”šg
();

313 #ià0 && (
FASTLED_ALLOW_INTERRUPTS
 == 1)

314 
şi
();

316 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

317 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)) {

318 
£i
();

319  
	gARM_DWT_CYCCNT
; }

324 
	gwr™eB™s
<8+
	gXTRA0
,1>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

327 
	gwr™eB™s
<8+
	gXTRA0
,2>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

328 
	g®Íix–s
.
advªûD©a
();

331 
	gwr™eB™s
<8+
	gXTRA0
,0>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

333 #ià0 && (
FASTLED_ALLOW_INTERRUPTS
 == 1)

334 
£i
();

337 
£i
();

339  
	gARM_DWT_CYCCNT
;

343 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k66/fastled_arm_k66.h

1 #iâdeà
__INC_FASTLED_ARM_K66_H


2 
	#__INC_FASTLED_ARM_K66_H


	)

5 
	~"ç¡pš_¬m_k66.h
"

6 
	~"ç¡¥i_¬m_k66.h
"

7 
	~"../k20/oùows2811_cÚŒŞËr.h
"

8 
	~"../k20/ws2812£rŸl_cÚŒŞËr.h
"

9 
	~"../k20/sm¬tm©rix_t3.h
"

10 
	~"şockËss_¬m_k66.h
"

11 
	~"şockËss_block_¬m_k66.h
"

	@src/platforms/arm/k66/fastpin_arm_k66.h

1 #iâdeà
__FASTPIN_ARM_K66_H


2 
	#__FASTPIN_ARM_K66_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


18 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	g_MASK
, 
ty³Çme
 
	g_PDOR
,y³Çm
	g_PSOR
,y³Çm
	g_PCOR
,y³Çm
	g_PTOR
,y³Çm
	g_PDIR
,y³Çm
	g_PDDR
> cÏs 
	c_ARMPIN
 {

19 
	mpublic
:

20 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

21 
ušt32_t
 
	tpÜt_t
;

23 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

24 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

26 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PSOR
::
	`r
(èğ
_MASK
; 
	}
}

27 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PCOR
::
	`r
(èğ
_MASK
; 
	}
}

28 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PDOR
::
	`r
(èğv®; 
	}
}

30 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

32 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PTOR
::
	`r
(èğ
_MASK
; 
	}
}

34 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

35 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

36 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

38 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
	`r
(è| 
_MASK
; 
	}
}

39 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
	`r
(è& ~
_MASK
; 
	}
}

40 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PDOR
::
	`r
(); 
	}
}

41 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PSOR
::
	`r
(); 
	}
}

42 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PCOR
::
	`r
(); 
	}
}

43 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

48 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
	g_BIT
, 
ty³Çme
 
	g_PDOR
,y³Çm
	g_PSOR
,y³Çm
	g_PCOR
,y³Çm
	g_PTOR
,y³Çm
	g_PDIR
,y³Çm
	g_PDDR
> cÏs 
	c_ARMPIN_BITBAND
 {

49 
	mpublic
:

50 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

51 
ušt32_t
 
	tpÜt_t
;

53 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

54 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

56 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğ1; 
	}
}

57 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğ0; 
	}
}

58 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğv®; 
	}
}

60 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

62 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PTOR
::
‹m¶©e
 
rx
<
_BIT
>(èğ1; 
	}
}

64 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

65 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

66 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğv®; 
	}
}

68 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  1; 
	}
}

69 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0; 
	}
}

70 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(); 
	}
}

71 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  1; 
	}
}

75 
	#GPIO_BITBAND_ADDR
(
»g
, 
b™
è(((
ušt32_t
)&Ôegè- 0x40000000è* 32 + (b™è* 4 + 0x42000000)

	)

76 
	#GPIO_BITBAND_PTR
(
»g
, 
b™
è((
ušt32_t
 *)
	`GPIO_BITBAND_ADDR
(Ôeg), (b™)))

	)

78 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

79 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
»g32_t
 
	`r
() {  T; } \

80 
‹m¶©e
<
BIT
> 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
±r_»g32_t
 
	`rx
(è{  
	`GPIO_BITBAND_PTR
(
T
, BIT); } };

	)

81 
	#_FL_IO
(
L
,
C
è
	`_RD32
(
GPIO
 ## L ## 
_PDOR
); _RD32(GPIO ## L ## 
_PSOR
); _RD32(GPIO ## L ## 
_PCOR
); _RD32(GPIO ## L ## 
_PTOR
); _RD32(GPIO ## L ## 
_PDIR
); _RD32(GPIO ## L ## 
_PDDR
); 
	`_FL_DEFINE_PORT3
(L,C,
	`_R
(GPIO ## L ## _PDOR));

	)

83 
	#_FL_DEFPIN
(
PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, 1 << BIT, 
	`_R
(
GPIO
 ## L ## 
_PDOR
), _R(GPIO ## L ## 
_PSOR
), _R(GPIO ## L ## 
_PCOR
), \

84 
	`_R
(
GPIO
 ## 
L
 ## 
_PTOR
), _R(GPIO ## L ## 
_PDIR
), _R(GPIO ## L ## 
_PDDR
)> {}; \

85 
‹m¶©e
<> 
şass
 
Fa¡PšBB
<
PIN
> : 
public
 
_ARMPIN_BITBAND
<PIN, 
BIT
, 
	`_R
(
GPIO
 ## 
L
 ## 
_PDOR
), _R(GPIO ## L ## 
_PSOR
), _R(GPIO ## L ## 
_PCOR
), \

86 
	`_R
(
GPIO
 ## 
L
 ## 
_PTOR
), _R(GPIO ## L ## 
_PDIR
), _R(GPIO ## L ## 
_PDDR
)> {};

	)

88 
_FL_IO
(
A
,0); _FL_IO(
B
,1); _FL_IO(
C
,2); _FL_IO(
D
,3); _FL_IO(
E
,4);

91 #ià
defšed
(
FASTLED_TEENSY3
è&& defšed(
CORE_TEENSY
)

93 
	#MAX_PIN
 63

	)

94 
_FL_DEFPIN
Ğ0, 16, 
B
); _FL_DEFPINĞ1, 17, B); _FL_DEFPINĞ2, 0, 
D
); _FL_DEFPINĞ3, 12, 
A
);

95 
_FL_DEFPIN
Ğ4, 13, 
A
); _FL_DEFPINĞ5, 7, 
D
); _FL_DEFPIN( 6, 4, D); _FL_DEFPIN( 7, 2, D);

96 
_FL_DEFPIN
Ğ8, 3, 
D
); _FL_DEFPINĞ9, 3, 
C
); _FL_DEFPIN(10, 4, C); _FL_DEFPIN(11, 6, C);

97 
_FL_DEFPIN
(12, 7, 
C
); _FL_DEFPIN(13, 5, C); _FL_DEFPIN(14, 1, 
D
); _FL_DEFPIN(15, 0, C);

98 
_FL_DEFPIN
(16, 0, 
B
); _FL_DEFPIN(17, 1, B); _FL_DEFPIN(18, 3, B); _FL_DEFPIN(19, 2, B);

99 
_FL_DEFPIN
(20, 5, 
D
); _FL_DEFPIN(21, 6, D); _FL_DEFPIN(22, 1, 
C
); _FL_DEFPIN(23, 2, C);

100 
_FL_DEFPIN
(24, 26, 
E
); _FL_DEFPIN(25, 5, 
A
); _FL_DEFPIN(26, 14, A); _FL_DEFPIN(27, 15, A);

101 
_FL_DEFPIN
(28, 16, 
A
); _FL_DEFPIN(29, 18, 
B
); _FL_DEFPIN(30, 19, B); _FL_DEFPIN(31, 10, B);

102 
_FL_DEFPIN
(32, 11, 
B
); _FL_DEFPIN(33, 24, 
E
); _FL_DEFPIN(34, 25, E); _FL_DEFPIN(35, 8, 
C
);

103 
_FL_DEFPIN
(36, 9, 
C
); _FL_DEFPIN(37, 10, C); _FL_DEFPIN(38, 11, C); _FL_DEFPIN(39, 17, 
A
);

104 
_FL_DEFPIN
(40, 28, 
A
); _FL_DEFPIN(41, 29, A); _FL_DEFPIN(42, 26, A); _FL_DEFPIN(43, 20, 
B
);

105 
_FL_DEFPIN
(44, 22, 
B
); _FL_DEFPIN(45, 23, B); _FL_DEFPIN(46, 21, B); _FL_DEFPIN(47, 8, 
D
);

106 
_FL_DEFPIN
(48, 9, 
D
); _FL_DEFPIN(49, 4, 
B
); _FL_DEFPIN(50, 5, B); _FL_DEFPIN(51, 14, D);

107 
_FL_DEFPIN
(52, 13, 
D
); _FL_DEFPIN(53, 12, D); _FL_DEFPIN(54, 15, D); _FL_DEFPIN(55, 11, D);

108 
_FL_DEFPIN
(56, 10, 
E
); _FL_DEFPIN(57, 11, E); _FL_DEFPIN(58, 0, E); _FL_DEFPIN(59, 1, E);

109 
_FL_DEFPIN
(60, 2, 
E
); _FL_DEFPIN(61, 3, E); _FL_DEFPIN(62, 4, E); _FL_DEFPIN(63, 5, E);

113 
	#SPI_DATA
 11

	)

114 
	#SPI_CLOCK
 13

	)

116 
	#SPI2_DATA
 7

	)

117 
	#SPI2_CLOCK
 14

	)

119 
	#FASTLED_TEENSY3


	)

120 
	#ARM_HARDWARE_SPI


	)

121 
	#HAS_HARDWARE_PIN_SUPPORT


	)

126 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k66/fastspi_arm_k66.h

1 #iâdeà
__INC_FASTSPI_ARM_H


2 
	#__INC_FASTSPI_ARM_H


	)

12 
	gFASTLED_NAMESPACE_BEGIN


14 #ià
defšed
(
FASTLED_TEENSY3
è&& defšed(
CORE_TEENSY
)

17 #ià
TEENSYDUINO
 >= 120

18 
	#SPI_t
 
KINETISK_SPI_t


	)

21 #iâdeà
KINETISK_SPI0


22 
	#KINETISK_SPI0
 
SPI0


	)

25 #iâdeà
SPI_PUSHR_CONT


26 
	#SPI_PUSHR_CONT
 
SPIX
.
PUSHR_CONT


	)

27 
	#SPI_PUSHR_CTAS
(
X
è
SPIX
.
	`PUSHR_CTAS
(X)

	)

28 
	#SPI_PUSHR_EOQ
 
SPIX
.
PUSHR_EOQ


	)

29 
	#SPI_PUSHR_CTCNT
 
SPIX
.
PUSHR_CTCNT


	)

30 
	#SPI_PUSHR_PCS
(
X
è
SPIX
.
	`PUSHR_PCS
(X)

	)

36 
	g‹m¶©e
<
	gVAL
, 
	gBIT
> cÏs 
	cB™WÜk
 {

37 
	mpublic
:

38 
	$highe¡B™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{  (
VAL
 & 1 << 
BIT
è? BIT : 
B™WÜk
<VAL, BIT-1>::
	`highe¡B™
(); }

39 
	}
};

41 
	g‹m¶©e
<
	gVAL
> 
şass
 
	gB™WÜk
<VAL, 0> {

42 
	gpublic
:

43 
highe¡B™
(è
__©Œibu‹__
((
®ways_šlše
)) {  0; }

46 
	#MAX
(
A
, 
B
è(Ğ(Aè> (Bèè? (Aè: (B))

	)

48 
	#USE_CONT
 0

	)

50 
	sSPIS‹
 {

51 
ušt32_t
 
	m_ù¬0
,
	m_ù¬1
;

52 
ušt32_t
 
	mpšs
[4];

59 
	g‹m¶©e
 <
	gVAL
> 
	$g‘SÿÏrs
(
ušt32_t
 & 
´eSÿÏr
, ušt32_ˆ& 
sÿÏr
, ušt32_ˆ& 
dbl
) {

60 
VAL
) {

63 2: 
´eSÿÏr
 = 0; 
sÿÏr
 = 0; 
dbl
 = 1; ;

64 3: 
´eSÿÏr
 = 1; 
sÿÏr
 = 0; 
dbl
 = 1; ;

65 5: 
´eSÿÏr
 = 2; 
sÿÏr
 = 0; 
dbl
 = 1; ;

66 7: 
´eSÿÏr
 = 3; 
sÿÏr
 = 0; 
dbl
 = 1; ;

70 9: 
´eSÿÏr
 = 1; 
sÿÏr
 = 2; 
dbl
 = 1; ;

71 18: 19: 
´eSÿÏr
 = 1; 
sÿÏr
 = 2; 
dbl
 = 0; ;

73 15: 
´eSÿÏr
 = 2; 
sÿÏr
 = 2; 
dbl
 = 1; ;

74 30: 31: 
´eSÿÏr
 = 2; 
sÿÏr
 = 2; 
dbl
 = 0; ;

76 21: 22: 23: 
´eSÿÏr
 = 3; 
sÿÏr
 = 2; 
dbl
 = 1; ;

77 42: 43: 44: 45: 46: 47: 
´eSÿÏr
 = 3; 
sÿÏr
 = 2; 
dbl
 = 0; ;

79 
p2
 = 
B™WÜk
<
VAL
/2, 15>::
	`highe¡B™
();

80 
p3
 = 
B™WÜk
<
VAL
/3, 15>::
	`highe¡B™
();

81 
p5
 = 
B™WÜk
<
VAL
/5, 15>::
	`highe¡B™
();

82 
p7
 = 
B™WÜk
<
VAL
/7, 15>::
	`highe¡B™
();

84 
w2
 = 2 * (1 << 
p2
);

85 
w3
 = (
VAL
/3è> 0 ? 3 * (1 << 
p3
) : 0;

86 
w5
 = (
VAL
/5è> 0 ? 5 * (1 << 
p5
) : 0;

87 
w7
 = (
VAL
/7è> 0 ? 7 * (1 << 
p7
) : 0;

89 
maxv®
 = 
	`MAX
(MAX(
w2
, 
w3
), MAX(
w5
, 
w7
));

91 if(
w2
 =ğ
maxv®
è{ 
´eSÿÏr
 = 0; 
sÿÏr
 = 
p2
; }

92 if(
w3
 =ğ
maxv®
è{ 
´eSÿÏr
 = 1; 
sÿÏr
 = 
p3
; }

93 if(
w5
 =ğ
maxv®
è{ 
´eSÿÏr
 = 2; 
sÿÏr
 = 
p5
; }

94 if(
w7
 =ğ
maxv®
è{ 
´eSÿÏr
 = 3; 
sÿÏr
 = 
p7
; }

96 
dbl
 = 0;

97 if(
sÿÏr
 =ğ0è{ 
dbl
 = 1; }

98 if(
sÿÏr
 < 3) { --scalar; }

102 
	}
}

104 
	#SPIX
 (*(
SPI_t
*)
pSPIX
)

	)

106 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
, ušt32_ˆ
	gpSPIX
>

107 şas 
	cARMH¬dw¬eSPIOuut
 {

108 
S–eùabË
 *
	mm_pS–eù
;

109 
SPIS‹
 
	mgS‹
;

113 
šlše
 
	$’abË_pšs
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

115 
_DATA_PIN
) {

117 
CORE_PIN7_CONFIG
 = 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(2);

118 
CORE_PIN11_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1);

121 
CORE_PIN11_CONFIG
 = 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(2);

122 
CORE_PIN7_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1);

126 
_CLOCK_PIN
) {

128 
CORE_PIN13_CONFIG
 = 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(2);

129 
CORE_PIN14_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1);

132 
CORE_PIN14_CONFIG
 = 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(2);

133 
CORE_PIN13_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1);

139 
šlše
 
	$di§bË_pšs
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

140 
_DATA_PIN
) {

141 7: 
CORE_PIN7_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1); 
CORE_PIN11_CONFIG
 = 
gS‹
.
pšs
[1]; ;

142 11: 
CORE_PIN11_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1); 
CORE_PIN7_CONFIG
 = 
gS‹
.
pšs
[0]; ;

145 
_CLOCK_PIN
) {

146 13: 
CORE_PIN13_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1); 
CORE_PIN14_CONFIG
 = 
gS‹
.
pšs
[3]; ;

147 14: 
CORE_PIN14_CONFIG
 = 
PORT_PCR_SRE
 | 
PORT_PCR_DSE
 | 
	`PORT_PCR_MUX
(1); 
CORE_PIN13_CONFIG
 = 
gS‹
.
pšs
[2]; ;

149 
	}
}

151 
šlše
 
	$upd©e_ù¬s
(
ušt32_t
 
ù¬0
, ušt32_ˆ
ù¬1
è
	`__©Œibu‹__
((
®ways_šlše
)) {

152 if(
SPIX
.
CTAR0
 =ğ
ù¬0
 && SPIX.
CTAR1
 =ğ
ù¬1
) ;

153 
ušt32_t
 
mü
 = 
SPIX
.
MCR
;

154 if(
mü
 & 
SPI_MCR_MDIS
) {

155 
SPIX
.
CTAR0
 = 
ù¬0
;

156 
SPIX
.
CTAR1
 = 
ù¬1
;

158 
SPIX
.
MCR
 = 
mü
 | 
SPI_MCR_MDIS
 | 
SPI_MCR_HALT
;

159 
SPIX
.
CTAR0
 = 
ù¬0
;

160 
SPIX
.
CTAR1
 = 
ù¬1
;

161 
SPIX
.
MCR
 = 
mü
;

163 
	}
}

165 
šlše
 
	$upd©e_ù¬0
(
ušt32_t
 
ù¬
è
	`__©Œibu‹__
((
®ways_šlše
)) {

166 ià(
SPIX
.
CTAR0
 =ğ
ù¬
) ;

167 
ušt32_t
 
mü
 = 
SPIX
.
MCR
;

168 ià(
mü
 & 
SPI_MCR_MDIS
) {

169 
SPIX
.
CTAR0
 = 
ù¬
;

171 
SPIX
.
MCR
 = 
mü
 | 
SPI_MCR_MDIS
 | 
SPI_MCR_HALT
;

172 
SPIX
.
CTAR0
 = 
ù¬
;

174 
SPIX
.
MCR
 = 
mü
;

176 
	}
}

178 
šlše
 
	$upd©e_ù¬1
(
ušt32_t
 
ù¬
è
	`__©Œibu‹__
((
®ways_šlše
)) {

179 ià(
SPIX
.
CTAR1
 =ğ
ù¬
) ;

180 
ušt32_t
 
mü
 = 
SPIX
.
MCR
;

181 ià(
mü
 & 
SPI_MCR_MDIS
) {

182 
SPIX
.
CTAR1
 = 
ù¬
;

184 
SPIX
.
MCR
 = 
mü
 | 
SPI_MCR_MDIS
 | 
SPI_MCR_HALT
;

185 
SPIX
.
CTAR1
 = 
ù¬
;

186 
SPIX
.
MCR
 = 
mü
;

189 
	}
}

191 
	$£tSPIR©e
() {

193 
ušt32_t
 
_PBR
 = 0;

194 
ušt32_t
 
_BR
 = 0;

195 
ušt32_t
 
_CSSCK
 = 0;

196 
ušt32_t
 
_DBR
 = 0;

210 
g‘SÿÏrs
<
_SPI_CLOCK_DIVIDER
>(
_PBR
, 
_BR
, 
_DBR
);

211 
_CSSCK
 = 
_BR
;

213 
ušt32_t
 
ù¬0
 = 
	`SPI_CTAR_FMSZ
(7è| 
	`SPI_CTAR_PBR
(
_PBR
è| 
	`SPI_CTAR_BR
(
_BR
è| 
	`SPI_CTAR_CSSCK
(
_CSSCK
);

214 
ušt32_t
 
ù¬1
 = 
	`SPI_CTAR_FMSZ
(15è| 
	`SPI_CTAR_PBR
(
_PBR
è| 
	`SPI_CTAR_BR
(
_BR
è| 
	`SPI_CTAR_CSSCK
(
_CSSCK
);

216 #ià
USE_CONT
 == 1

217 
ù¬0
 |ğ
SPI_CTAR_CPHA
 | 
SPI_CTAR_CPOL
;

218 
ù¬1
 |ğ
SPI_CTAR_CPHA
 | 
SPI_CTAR_CPOL
;

221 if(
_DBR
) {

222 
ù¬0
 |ğ
SPI_CTAR_DBR
;

223 
ù¬1
 |ğ
SPI_CTAR_DBR
;

226 
	`upd©e_ù¬s
(
ù¬0
,
ù¬1
);

227 
	}
}

229 
šlše
 
	$§ve_¥i_¡©e
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

231 
gS‹
.
_ù¬0
 = 
SPIX
.
CTAR0
;

232 
gS‹
.
_ù¬1
 = 
SPIX
.
CTAR1
;

235 
gS‹
.
pšs
[0] = 
CORE_PIN7_CONFIG
;

236 
gS‹
.
pšs
[1] = 
CORE_PIN11_CONFIG
;

237 
gS‹
.
pšs
[2] = 
CORE_PIN13_CONFIG
;

238 
gS‹
.
pšs
[3] = 
CORE_PIN14_CONFIG
;

239 
	}
}

241 
šlše
 
	$»¡Üe_¥i_¡©e
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

243 
	`upd©e_ù¬s
(
gS‹
.
_ù¬0
,gS‹.
_ù¬1
);

250 
	}
}

252 
	gpublic
:

253 
	$ARMH¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; 
	}
}

254 
	$ARMH¬dw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

255 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

258 
	$š™
() {

260 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

261 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

264 
ušt32_t
 
sim6
 = 
SIM_SCGC6
;

265 if((
SPI_t
*)
pSPIX
 =ğ&
KINETISK_SPI0
) {

266 ià(!(
sim6
 & 
SIM_SCGC6_SPI0
)) {

268 
SIM_SCGC6
 = 
sim6
 | 
SIM_SCGC6_SPI0
;

269 
SPIX
.
CTAR0
 = 
	`SPI_CTAR_FMSZ
(7è| 
	`SPI_CTAR_PBR
(1è| 
	`SPI_CTAR_BR
(1);

271 } if((
SPI_t
*)
pSPIX
 =ğ&
KINETISK_SPI1
) {

272 ià(!(
sim6
 & 
SIM_SCGC6_SPI1
)) {

274 
SIM_SCGC6
 = 
sim6
 | 
SIM_SCGC6_SPI1
;

275 
SPIX
.
CTAR0
 = 
	`SPI_CTAR_FMSZ
(7è| 
	`SPI_CTAR_PBR
(1è| 
	`SPI_CTAR_BR
(1);

280 
SPIX
.
MCR
 |ğ
SPI_MCR_MSTR
;

281 
SPIX
.
MCR
 &ğ~(
SPI_MCR_MDIS
 | 
SPI_MCR_HALT
);

284 
	}
}

286 
	$wa™FuÎy
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

288 
boŞ
 
em±y
 = 
çl£
;

291 
	`şi
();

292 ià((
SPIX
.
SR
 & 0xF000) > 0) {

294 
SPIX
.
SR
 |ğ
SPI_SR_TCF
;

296 
em±y
 = 
Œue
;

298 
	`£i
();

299 } !
em±y
);

302 !(
SPIX
.
SR
 & 
SPI_SR_TCF
));

303 
SPIX
.
SR
 |ğ(
SPI_SR_TCF
 | 
SPI_SR_EOQF
);

304 
	}
}

306 
boŞ
 
	$Ãedwa™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{  (
SPIX
.
SR
 & 0x4000); 
	}
}

307 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{  (
SPIX
.
SR
 & 0x4000è); 
	}
}

308 
	$wa™1
(è
	`__©Œibu‹__
((
®ways_šlše
)è{  (
SPIX
.
SR
 & 0xF000è>ğ0x2000); 
	}
}

310 
	eECÚt
 { 
	gCONT
, 
	gNOCONT
 };

311 
	eEWa™
 { 
	gPRE
, 
	gPOST
, 
	gNONE
 };

312 
	eELa¡
 { 
	gNOTLAST
, 
	gLAST
 };

314 #ià
USE_CONT
 == 1

315 
	#CM
 
CONT


	)

317 
	#CM
 
NOCONT


	)

319 
	#WM
 
PRE


	)

321 
	g‹m¶©e
<
ECÚt
 
	gCONT_STATE
, 
EWa™
 
	gWAIT_STATE
, 
ELa¡
 
	gLAST_STATE
> cÏs 
	cWr™e
 {

322 
	gpublic
:

323 
wr™eWÜd
(
ušt16_t
 
w
è
__©Œibu‹__
((
®ways_šlše
)) {

324 if(
WAIT_STATE
 =ğ
PRE
è{ 
wa™
(); }

325 
	gSPIX
.
	gPUSHR
 = ((
LAST_STATE
 =ğ
LAST
è? 
SPI_PUSHR_EOQ
 : 0) |

326 ((
CONT_STATE
 =ğ
CONT
è? 
SPI_PUSHR_CONT
 : 0) |

327 
SPI_PUSHR_CTAS
(1è| (
w
 & 0xFFFF);

328 
	gSPIX
.
	gSR
 |ğ
SPI_SR_TCF
;

329 if(
	gWAIT_STATE
 =ğ
POST
è{ 
wa™
(); }

332 
wr™eBy‹
(
ušt8_t
 
b
è
__©Œibu‹__
((
®ways_šlše
)) {

333 if(
	gWAIT_STATE
 =ğ
PRE
è{ 
wa™
(); }

334 
	gSPIX
.
	gPUSHR
 = ((
LAST_STATE
 =ğ
LAST
è? 
SPI_PUSHR_EOQ
 : 0) |

335 ((
CONT_STATE
 =ğ
CONT
è? 
SPI_PUSHR_CONT
 : 0) |

336 
SPI_PUSHR_CTAS
(0è| (
b
 & 0xFF);

337 
	gSPIX
.
	gSR
 |ğ
SPI_SR_TCF
;

338 if(
	gWAIT_STATE
 =ğ
POST
è{ 
wa™
(); }

342 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(1è| (w & 0xFFFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	}
}

343 
	$wr™eWÜdNoWa™
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(1è| (w & 0xFFFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	}
}

345 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	}
}

346 
	$wr™eBy‹Po¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF);SPIX.
SR
 |ğ
SPI_SR_TCF
; 
	`wa™
(); 
	}
}

347 
	$wr™eBy‹NoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPIX
.
PUSHR
 = 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	}
}

349 
	$wr™eWÜdCÚt
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(1è| (w & 0xFFFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	}
}

350 
	$wr™eWÜdCÚtNoWa™
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(1è| (w & 0xFFFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	}
}

352 
	$wr™eBy‹CÚt
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	}
}

353 
	$wr™eBy‹CÚtPo¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	`wa™
(); 
	}
}

354 
	$wr™eBy‹CÚtNoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPIX
.
PUSHR
 = 
SPI_PUSHR_CONT
 | 
	`SPI_PUSHR_CTAS
(0è| (b & 0xFF); SPIX.
SR
 |ğ
SPI_SR_TCF
;
	}
}

357 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

358 
ušt32_t
 
ù¬1_§ve
 = 
SPIX
.
CTAR1
;

361 
ušt32_t
 
ù¬1
 = (
ù¬1_§ve
 & (~
	`SPI_CTAR_FMSZ
(15))) | SPI_CTAR_FMSZ(0);

362 
	`upd©e_ù¬1
(
ù¬1
);

364 
	`wr™eWÜd
Ğ(
b
 & (1 << 
BIT
)) != 0);

366 
	`upd©e_ù¬1
(
ù¬1_§ve
);

367 
	}
}

369 
šlše
 
	$£Ëù
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

370 
	`§ve_¥i_¡©e
();

371 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); }

372 
	`£tSPIR©e
();

373 
	`’abË_pšs
();

374 
	}
}

376 
šlše
 
	$»Ëa£
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

377 
	`di§bË_pšs
();

378 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); }

379 
	`»¡Üe_¥i_¡©e
();

380 
	}
}

382 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

383 
Ën
--è{ 
Wr™e
<
CM
, 
WM
, 
NOTLAST
>::
	`wr™eBy‹
(
v®ue
); }

384 
	}
}

386 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

387 
	`£Ëù
();

388 
Ën
--) {

389 
	`wr™eBy‹
(
v®ue
);

391 
	`wa™FuÎy
();

392 
	`»Ëa£
();

393 
	}
}

396 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

397 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

398 
	`£Ëù
();

400 
d©a
 !ğ
’d
) {

401 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

403 
D
::
	`po¡Block
(
Ën
);

404 
	`wa™FuÎy
();

405 
	`»Ëa£
();

406 
	}
}

408 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

412 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

413 
£Ëù
();

414 
	gËn
 = 
pix–s
.
mL’
;

417 if((
	gFLAGS
 & 
	gFLAG_START_BIT
) == 0) {

419 
pix–s
.
has
(2)) {

421 if(
WM
 =ğ
NONE
è{ 
wa™1
(); }

422 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eWÜd
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()è<< 8 | D::adju¡Õix–s.
lßdAndSÿË1
()));

426 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eWÜd
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()è<< 8 | D::adju¡Õix–s.
¡•AdvªûAndLßdAndSÿË0
()));

429 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eWÜd
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()è<< 8 | D::adju¡Õix–s.
lßdAndSÿË2
()));

430 
	gpix–s
.
¡•D™h”šg
();

431 
	gpix–s
.
advªûD©a
();

434 if(
	gpix–s
.
has
(1)) {

435 if(
	gWM
 =ğ
NONE
è{ 
wa™1
(); }

437 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eWÜd
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()è<< 8 | D::adju¡Õix–s.
lßdAndSÿË1
()));

438 
	gWr™e
<
	gCM
, 
	gWM
, 
	gNOTLAST
>::
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

441 
	gD
::
po¡Block
(
Ën
);

442 
wa™FuÎy
();

443 } if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

444 
ušt32_t
 
	gù¬1_§ve
 = 
SPIX
.
CTAR1
;

447 
ušt32_t
 
	gù¬1
 = (
ù¬1_§ve
 & (~
SPI_CTAR_FMSZ
(15))) | SPI_CTAR_FMSZ(8);

448 
upd©e_ù¬1
(
ù¬1
);

450 
	gpix–s
.
has
(1)) {

451 
wr™eWÜd
Ğ0x100 | 
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

452 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

453 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

454 
	gpix–s
.
advªûD©a
();

455 
	gpix–s
.
¡•D™h”šg
();

457 
	gD
::
po¡Block
(
Ën
);

458 
wa™FuÎy
();

461 
upd©e_ù¬1
(
ù¬1_§ve
);

463 
»Ëa£
();

468 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/k66/led_sysdefs_arm_k66.h

1 #iâdeà
__INC_LED_SYSDEFS_ARM_K66_H


2 
	#__INC_LED_SYSDEFS_ARM_K66_H


	)

4 
	#FASTLED_TEENSY3


	)

5 
	#FASTLED_ARM


	)

7 #iâdeà
INTERRUPT_THRESHOLD


8 
	#INTERRUPT_THRESHOLD
 1

	)

12 #iâdeà
FASTLED_ALLOW_INTERRUPTS


13 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

16 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

17 
	#FASTLED_ACCURATE_CLOCK


	)

20 #ià(
F_CPU
 == 192000000)

21 
	#CLK_DBL
 1

	)

25 
	~<avr/io.h
>

26 
	~<avr/š‹¼u±.h
>

29 #ià
defšed
(
ARDUINO
)

30 vŞ©
	tušt8_t
 
	tRoReg
;

31 vŞ©
	tušt8_t
 
	tRwReg
;

34 vŞ©
ušt32_t
 
sy¡ick_mlis_couÁ
;

35 
	#MS_COUNTER
 
sy¡ick_mlis_couÁ


	)

41 #iâdeà
FASTLED_USE_PROGMEM


42 
	#FASTLED_USE_PROGMEM
 1

	)

	@src/platforms/arm/kl26/clockless_arm_kl26.h

1 #iâdeà
__INC_CLOCKLESS_ARM_KL26


2 
	#__INC_CLOCKLESS_ARM_KL26


	)

4 
	~"../commÚ/m0şockËss.h
"

5 
	gFASTLED_NAMESPACE_BEGIN


6 
	#FASTLED_HAS_CLOCKLESS
 1

	)

8 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

9 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

10 
ty³Çme
 
	tFa¡PšBB
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

11 
ty³Çme
 
	tFa¡PšBB
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

13 
d©a_t
 
	gmPšMask
;

14 
d©a_±r_t
 
	gmPÜt
;

15 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

16 
	gpublic
:

17 
vœtu®
 
š™
() {

18 
Fa¡PšBB
<
DATA_PIN
>::
£tOuut
();

19 
	gmPšMask
 = 
Fa¡PšBB
<
DATA_PIN
>::
mask
();

20 
	gmPÜt
 = 
Fa¡PšBB
<
DATA_PIN
>::
pÜt
();

23 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

25 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

26 
	gmWa™
.
wa™
();

27 
şi
();

28 
ušt32_t
 
	gşocks
 = 
showRGBIÁ”Çl
(
pix–s
);

29 if(!
	gşocks
) {

30 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

31 
	gşocks
 = 
showRGBIÁ”Çl
(
pix–s
);

33 
	gmiüosTak’
 = 
CLKS_TO_MICROS
(
şocks
 * ((
T1
 + 
T2
 + 
T3
) * 24));

34 
	gMS_COUNTER
 +ğ(
miüosTak’
 / 1000);

35 
£i
();

36 
	gmWa™
.
m¬k
();

41 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

42 
M0ClockËssD©a
 
	gd©a
;

43 
	gd©a
.
	gd
[0] = 
pix–s
.
d
[0];

44 
	gd©a
.
	gd
[1] = 
pix–s
.
d
[1];

45 
	gd©a
.
	gd
[2] = 
pix–s
.
d
[2];

46 
	gd©a
.
	gs
[0] = 
pix–s
.
mSÿË
[0];

47 
	gd©a
.
	gs
[1] = 
pix–s
.
mSÿË
[1];

48 
	gd©a
.
	gs
[2] = 
pix–s
.
mSÿË
[2];

49 
	gd©a
.
	ge
[0] = 
pix–s
.
e
[0];

50 
	gd©a
.
	ge
[1] = 
pix–s
.
e
[1];

51 
	gd©a
.
	ge
[2] = 
pix–s
.
e
[2];

52 
	gd©a
.
	gadj
 = 
pix–s
.
mAdvªû
;

54 
ty³Çme
 
	gFa¡Pš
<
	gDATA_PIN
>::
pÜt_±r_t
 
pÜtBa£
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

55  
	gshowLedD©a
<4,8,
	gT1
,
	gT2
,
	gT3
,
	gRGB_ORDER
, 
	gWAIT_TIME
>(
	gpÜtBa£
, 
	gFa¡Pš
<
	gDATA_PIN
>::
mask
(), 
	gpix–s
.
	gmD©a
,…ix–s.
	gmL’
, &
	gd©a
);

62 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/kl26/fastled_arm_kl26.h

1 #iâdeà
__INC_FASTLED_ARM_KL26_H


2 
	#__INC_FASTLED_ARM_KL26_H


	)

5 
	~"ç¡pš_¬m_kl26.h
"

6 
	~"ç¡¥i_¬m_kl26.h
"

7 
	~"şockËss_¬m_kl26.h
"

8 
	~"../k20/ws2812£rŸl_cÚŒŞËr.h
"

	@src/platforms/arm/kl26/fastpin_arm_kl26.h

1 #iâdeà
__FASTPIN_ARM_KL26_H


2 
	#__FASTPIN_ARM_KL26_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


18 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	g_MASK
, 
ty³Çme
 
	g_PDOR
,y³Çm
	g_PSOR
,y³Çm
	g_PCOR
,y³Çm
	g_PTOR
,y³Çm
	g_PDIR
,y³Çm
	g_PDDR
> cÏs 
	c_ARMPIN
 {

19 
	mpublic
:

20 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

21 
ušt32_t
 
	tpÜt_t
;

23 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

24 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

26 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PSOR
::
	`r
(èğ
_MASK
; 
	}
}

27 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PCOR
::
	`r
(èğ
_MASK
; 
	}
}

28 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PDOR
::
	`r
(èğv®; 
	}
}

30 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

32 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PTOR
::
	`r
(èğ
_MASK
; 
	}
}

34 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

35 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

36 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

38 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
	`r
(è| 
_MASK
; 
	}
}

39 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
	`r
(è& ~
_MASK
; 
	}
}

40 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PDOR
::
	`r
(); 
	}
}

41 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PSOR
::
	`r
(); 
	}
}

42 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PCOR
::
	`r
(); 
	}
}

43 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

47 
	#GPIO_BITBAND_ADDR
(
»g
, 
b™
è(((
ušt32_t
)&Ôegè- 0x40000000è* 32 + (b™è* 4 + 0x42000000)

	)

48 
	#GPIO_BITBAND_PTR
(
»g
, 
b™
è((
ušt32_t
 *)
	`GPIO_BITBAND_ADDR
(Ôeg), (b™)))

	)

50 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

51 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
»g32_t
 
	`r
() {  T; } \

52 
‹m¶©e
<
BIT
> 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
±r_»g32_t
 
	`rx
(è{  
	`GPIO_BITBAND_PTR
(
T
, BIT); } };

	)

53 
	#_FL_IO
(
L
,
C
è
	`_RD32
(
FGPIO
 ## L ## 
_PDOR
); _RD32(FGPIO ## L ## 
_PSOR
); _RD32(FGPIO ## L ## 
_PCOR
); _RD32(
GPIO
 ## L ## 
_PTOR
); _RD32(FGPIO ## L ## 
_PDIR
); _RD32(FGPIO ## L ## 
_PDDR
); 
	`_FL_DEFINE_PORT3
(L,C,
	`_R
(FGPIO ## L ## _PDOR));

	)

55 
	#_FL_DEFPIN
(
PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, 1 << BIT, 
	`_R
(
FGPIO
 ## L ## 
_PDOR
), _R(FGPIO ## L ## 
_PSOR
), _R(FGPIO ## L ## 
_PCOR
), \

56 
	`_R
(
GPIO
 ## 
L
 ## 
_PTOR
), _R(
FGPIO
 ## L ## 
_PDIR
), _R(FGPIO ## L ## 
_PDDR
)> {}; \

57 

	)

60 
_FL_IO
(
A
,0); _FL_IO(
B
,1); _FL_IO(
C
,2); _FL_IO(
D
,3); _FL_IO(
E
,4);

63 #ià
defšed
(
FASTLED_TEENSYLC
è&& defšed(
CORE_TEENSY
)

65 
	#MAX_PIN
 26

	)

66 
_FL_DEFPIN
(0, 16, 
B
); _FL_DEFPIN(1, 17, B); _FL_DEFPIN(2, 0, 
D
); _FL_DEFPIN(3, 1, 
A
);

67 
_FL_DEFPIN
(4, 2, 
A
); _FL_DEFPIN(5, 7, 
D
); _FL_DEFPIN(6, 4, D); _FL_DEFPIN(7, 2, D);

68 
_FL_DEFPIN
(8, 3, 
D
); _FL_DEFPIN(9, 3, 
C
); _FL_DEFPIN(10, 4, C); _FL_DEFPIN(11, 6, C);

69 
_FL_DEFPIN
(12, 7, 
C
); _FL_DEFPIN(13, 5, C); _FL_DEFPIN(14, 1, 
D
); _FL_DEFPIN(15, 0, C);

70 
_FL_DEFPIN
(16, 0, 
B
); _FL_DEFPIN(17, 1, B); _FL_DEFPIN(18, 3, B); _FL_DEFPIN(19, 2, B);

71 
_FL_DEFPIN
(20, 5, 
D
); _FL_DEFPIN(21, 6, D); _FL_DEFPIN(22, 1, 
C
); _FL_DEFPIN(23, 2, C);

72 
_FL_DEFPIN
(24, 20, 
E
); _FL_DEFPIN(25, 21, E); _FL_DEFPIN(26, 30, E);

74 
	#SPI_DATA
 11

	)

75 
	#SPI_CLOCK
 13

	)

78 
	#SPI2_DATA
 0

	)

79 
	#SPI2_CLOCK
 20

	)

81 
	#HAS_HARDWARE_PIN_SUPPORT


	)

86 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/kl26/fastspi_arm_kl26.h

1 #iâdeà
__INC_FASTSPI_ARM_KL26_H


2 
	#__INC_FASTSPI_ARM_KL26_h


	)

4 
FASTLED_NAMESPACE_BEGIN


6 
	g‹m¶©e
 <
	gVAL
> 
	$g‘SÿÏrs
(
ušt8_t
 & 
¥´
, ušt8_ˆ& 
¥r
) {

7 if(
VAL
 > 4096è{ 
¥´
=7; 
¥r
=8; }

8 if(
VAL
 > 3584è{ 
¥´
=6; 
¥r
=8; }

9 if(
VAL
 > 3072è{ 
¥´
=5; 
¥r
=8; }

10 if(
VAL
 > 2560è{ 
¥´
=4; 
¥r
=8; }

11 if(
VAL
 > 2048è{ 
¥´
=7; 
¥r
=7; }

12 if(
VAL
 > 2048è{ 
¥´
=3; 
¥r
=8; }

13 if(
VAL
 > 1792è{ 
¥´
=6; 
¥r
=7; }

14 if(
VAL
 > 1536è{ 
¥´
=5; 
¥r
=7; }

15 if(
VAL
 > 1536è{ 
¥´
=2; 
¥r
=8; }

16 if(
VAL
 > 1280è{ 
¥´
=4; 
¥r
=7; }

17 if(
VAL
 > 1024è{ 
¥´
=7; 
¥r
=6; }

18 if(
VAL
 > 1024è{ 
¥´
=3; 
¥r
=7; }

19 if(
VAL
 > 1024è{ 
¥´
=1; 
¥r
=8; }

20 if(
VAL
 > 896è{ 
¥´
=6; 
¥r
=6; }

21 if(
VAL
 > 768è{ 
¥´
=5; 
¥r
=6; }

22 if(
VAL
 > 768è{ 
¥´
=2; 
¥r
=7; }

23 if(
VAL
 > 640è{ 
¥´
=4; 
¥r
=6; }

24 if(
VAL
 > 512è{ 
¥´
=7; 
¥r
=5; }

25 if(
VAL
 > 512è{ 
¥´
=3; 
¥r
=6; }

26 if(
VAL
 > 512è{ 
¥´
=1; 
¥r
=7; }

27 if(
VAL
 > 512è{ 
¥´
=0; 
¥r
=8; }

28 if(
VAL
 > 448è{ 
¥´
=6; 
¥r
=5; }

29 if(
VAL
 > 384è{ 
¥´
=5; 
¥r
=5; }

30 if(
VAL
 > 384è{ 
¥´
=2; 
¥r
=6; }

31 if(
VAL
 > 320è{ 
¥´
=4; 
¥r
=5; }

32 if(
VAL
 > 256è{ 
¥´
=7; 
¥r
=4; }

33 if(
VAL
 > 256è{ 
¥´
=3; 
¥r
=5; }

34 if(
VAL
 > 256è{ 
¥´
=1; 
¥r
=6; }

35 if(
VAL
 > 256è{ 
¥´
=0; 
¥r
=7; }

36 if(
VAL
 > 224è{ 
¥´
=6; 
¥r
=4; }

37 if(
VAL
 > 192è{ 
¥´
=5; 
¥r
=4; }

38 if(
VAL
 > 192è{ 
¥´
=2; 
¥r
=5; }

39 if(
VAL
 > 160è{ 
¥´
=4; 
¥r
=4; }

40 if(
VAL
 > 128è{ 
¥´
=7; 
¥r
=3; }

41 if(
VAL
 > 128è{ 
¥´
=3; 
¥r
=4; }

42 if(
VAL
 > 128è{ 
¥´
=1; 
¥r
=5; }

43 if(
VAL
 > 128è{ 
¥´
=0; 
¥r
=6; }

44 if(
VAL
 > 112è{ 
¥´
=6; 
¥r
=3; }

45 if(
VAL
 > 96è{ 
¥´
=5; 
¥r
=3; }

46 if(
VAL
 > 96è{ 
¥´
=2; 
¥r
=4; }

47 if(
VAL
 > 80è{ 
¥´
=4; 
¥r
=3; }

48 if(
VAL
 > 64è{ 
¥´
=7; 
¥r
=2; }

49 if(
VAL
 > 64è{ 
¥´
=3; 
¥r
=3; }

50 if(
VAL
 > 64è{ 
¥´
=1; 
¥r
=4; }

51 if(
VAL
 > 64è{ 
¥´
=0; 
¥r
=5; }

52 if(
VAL
 > 56è{ 
¥´
=6; 
¥r
=2; }

53 if(
VAL
 > 48è{ 
¥´
=5; 
¥r
=2; }

54 if(
VAL
 > 48è{ 
¥´
=2; 
¥r
=3; }

55 if(
VAL
 > 40è{ 
¥´
=4; 
¥r
=2; }

56 if(
VAL
 > 32è{ 
¥´
=7; 
¥r
=1; }

57 if(
VAL
 > 32è{ 
¥´
=3; 
¥r
=2; }

58 if(
VAL
 > 32è{ 
¥´
=1; 
¥r
=3; }

59 if(
VAL
 > 32è{ 
¥´
=0; 
¥r
=4; }

60 if(
VAL
 > 28è{ 
¥´
=6; 
¥r
=1; }

61 if(
VAL
 > 24è{ 
¥´
=5; 
¥r
=1; }

62 if(
VAL
 > 24è{ 
¥´
=2; 
¥r
=2; }

63 if(
VAL
 > 20è{ 
¥´
=4; 
¥r
=1; }

64 if(
VAL
 > 16è{ 
¥´
=7; 
¥r
=0; }

65 if(
VAL
 > 16è{ 
¥´
=3; 
¥r
=1; }

66 if(
VAL
 > 16è{ 
¥´
=1; 
¥r
=2; }

67 if(
VAL
 > 16è{ 
¥´
=0; 
¥r
=3; }

68 if(
VAL
 > 14è{ 
¥´
=6; 
¥r
=0; }

69 if(
VAL
 > 12è{ 
¥´
=5; 
¥r
=0; }

70 if(
VAL
 > 12è{ 
¥´
=2; 
¥r
=1; }

71 if(
VAL
 > 10è{ 
¥´
=4; 
¥r
=0; }

72 if(
VAL
 > 8è{ 
¥´
=3; 
¥r
=0; }

73 if(
VAL
 > 8è{ 
¥´
=1; 
¥r
=1; }

74 if(
VAL
 > 8è{ 
¥´
=0; 
¥r
=2; }

75 if(
VAL
 > 6è{ 
¥´
=2; 
¥r
=0; }

76 if(
VAL
 > 4è{ 
¥´
=1; 
¥r
=0; }

77 if(
VAL
 > 4è{ 
¥´
=0; 
¥r
=1; }

78 { 
¥´
=0; 
¥r
=0; }

79 
	}
}

82 
	#SPIX
 (*(
KINETISL_SPI_t
*)
pSPIX
)

	)

83 
	#ARM_HARDWARE_SPI


	)

85 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
, ušt32_ˆ
	gpSPIX
>

86 şas 
	cARMH¬dw¬eSPIOuut
 {

87 
S–eùabË
 *
	mm_pS–eù
;

89 
šlše
 
	$’abË_pšs
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

90 
_DATA_PIN
) {

91 0: 
CORE_PIN0_CONFIG
 = 
	`PORT_PCR_MUX
(2); ;

92 1: 
CORE_PIN1_CONFIG
 = 
	`PORT_PCR_MUX
(5); ;

93 7: 
CORE_PIN7_CONFIG
 = 
	`PORT_PCR_MUX
(2); ;

94 8: 
CORE_PIN8_CONFIG
 = 
	`PORT_PCR_MUX
(5); ;

95 11: 
CORE_PIN11_CONFIG
 = 
	`PORT_PCR_MUX
(2); ;

96 12: 
CORE_PIN12_CONFIG
 = 
	`PORT_PCR_MUX
(5); ;

97 21: 
CORE_PIN21_CONFIG
 = 
	`PORT_PCR_MUX
(2); ;

100 
_CLOCK_PIN
) {

101 13: 
CORE_PIN13_CONFIG
 = 
	`PORT_PCR_MUX
(2); ;

102 14: 
CORE_PIN14_CONFIG
 = 
	`PORT_PCR_MUX
(2); ;

103 20: 
CORE_PIN20_CONFIG
 = 
	`PORT_PCR_MUX
(2); ;

107 
šlše
 
	$di§bË_pšs
(è
	`__©Œibu‹
((
®ways_šlše
)) {

108 
_DATA_PIN
) {

109 0: 
CORE_PIN0_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

110 1: 
CORE_PIN1_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

111 7: 
CORE_PIN7_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

112 8: 
CORE_PIN8_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

113 11: 
CORE_PIN11_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

114 12: 
CORE_PIN12_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

115 21: 
CORE_PIN21_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

118 
_CLOCK_PIN
) {

119 13: 
CORE_PIN13_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

120 14: 
CORE_PIN14_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

121 20: 
CORE_PIN20_CONFIG
 = 
PORT_PCR_SRE
 | 
	`PORT_PCR_MUX
(1); ;

123 
	}
}

125 
	$£tSPIR©e
() {

126 
ušt8_t
 
¥´
, 
¥r
;

127 
g‘SÿÏrs
<
_SPI_CLOCK_DIVIDER
>(
¥´
, 
¥r
);

130 
SPIX
.
BR
 = 
	`SPI_BR_SPPR
(
¥´
è| 
	`SPI_BR_SPR
(
¥r
);

133 
SPIX
.
C2
 = 0;

134 
SPIX
.
C1
 |ğ
SPI_C1_SPE
;

135 
	}
}

137 
	gpublic
:

138 
	$ARMH¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; 
	}
}

139 
	$ARMH¬dw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

142 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

145 
	$š™
() {

146 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

147 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

150 
ušt32_t
 
sim4
 = 
SIM_SCGC4
;

151 ià((
pSPIX
 =ğ0x40076000è&& !(
sim4
 & 
SIM_SCGC4_SPI0
)) {

152 
SIM_SCGC4
 = 
sim4
 | 
SIM_SCGC4_SPI0
;

155 iàĞ(
pSPIX
 =ğ0x40077000è&& !(
sim4
 & 
SIM_SCGC4_SPI1
)) {

156 
SIM_SCGC4
 = 
sim4
 | 
SIM_SCGC4_SPI1
;

159 
SPIX
.
C1
 = 
SPI_C1_MSTR
 | 
SPI_C1_SPE
;

160 
SPIX
.
C2
 = 0;

161 
SPIX
.
BR
 = 
	`SPI_BR_SPPR
(1è| 
	`SPI_BR_SPR
(0);

162 
	}
}

165 
šlše
 
	$£Ëù
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

166 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); }

167 
	`£tSPIR©e
();

168 
	`’abË_pšs
();

169 
	}
}

173 
šlše
 
	$»Ëa£
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

174 
	`di§bË_pšs
();

175 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); }

176 
	}
}

179 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ !(
SPIX
.
S
 & 
SPI_S_SPTEF
)); 
	}
}

182 
	$wa™FuÎy
(è{ 
	`wa™
(); 
	}
}

185 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
è{ 
	}
}

188 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
SPIX
.
DL
 = b; 
	}
}

190 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wr™eBy‹
(w>>8); wr™eBy‹(w & 0xFF); 
	}
}

193 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

194 
Ën
--è{ 
	`wr™eBy‹
(
v®ue
); }

195 
	}
}

198 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

199 
	`£tSPIR©e
();

200 
	`£Ëù
();

201 
Ën
--) {

202 
	`wr™eBy‹
(
v®ue
);

204 
	`wa™FuÎy
();

205 
	`»Ëa£
();

206 
	}
}

209 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

210 
	`£tSPIR©e
();

211 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

212 
	`£Ëù
();

214 
d©a
 !ğ
’d
) {

215 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

217 
D
::
	`po¡Block
(
Ën
);

218 
	`wa™FuÎy
();

219 
	`»Ëa£
();

220 
	}
}

222 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

225 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

226 
	gËn
 = 
pix–s
.
mL’
;

228 
£Ëù
();

229 
	gpix–s
.
has
(1)) {

230 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

231 
	gwr™eB™
<0>(1);

232 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

233 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

234 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

236 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

237 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

238 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

241 
	gpix–s
.
advªûD©a
();

242 
	gpix–s
.
¡•D™h”šg
();

244 
	gD
::
po¡Block
(
Ën
);

245 
»Ëa£
();

250 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/kl26/led_sysdefs_arm_kl26.h

1 #iâdeà
__INC_LED_SYSDEFS_ARM_KL26_H


2 
	#__INC_LED_SYSDEFS_ARM_KL26_H


	)

4 
	#FASTLED_TEENSYLC


	)

5 
	#FASTLED_ARM


	)

6 
	#FASTLED_ARM_M0_PLUS


	)

8 #iâdeà
INTERRUPT_THRESHOLD


9 
	#INTERRUPT_THRESHOLD
 1

	)

12 
	#FASTLED_SPI_BYTE_ONLY


	)

15 #iâdeà
FASTLED_ALLOW_INTERRUPTS


19 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

20 
	#FASTLED_ACCURATE_CLOCK


	)

23 #ià(
F_CPU
 == 96000000)

24 
	#CLK_DBL
 1

	)

28 
	~<avr/io.h
>

29 
	~<avr/š‹¼u±.h
>

32 #ià
defšed
(
ARDUINO
)

33 vŞ©
	tušt8_t
 
	tRoReg
;

34 vŞ©
	tušt8_t
 
	tRwReg
;

37 vŞ©
ušt32_t
 
sy¡ick_mlis_couÁ
;

38 
	#MS_COUNTER
 
sy¡ick_mlis_couÁ


	)

43 #iâdeà
FASTLED_USE_PROGMEM


44 
	#FASTLED_USE_PROGMEM
 1

	)

	@src/platforms/arm/mxrt1062/block_clockless_arm_mxrt1062.h

1 #iâdeà
__INC_BLOCK_CLOCKLESS_ARM_MXRT1062_H


2 
	#__INC_BLOCK_CLOCKLESS_ARM_MXRT1062_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


8 #ià
defšed
(
FASTLED_TEENSY4
)

10 
	#__FL_T4_MASK
 ((1<<(
LANES
))-1)

	)

11 
	g‹m¶©e
 <
ušt8_t
 
	gLANES
, 
	gFIRST_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
GRB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

12 
şass
 
FËxibËIÆšeBlockClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 
	gLANES
, 
	g__FL_T4_MASK
> {

13 
ušt8_t
 
	gm_b™Off£ts
[16];

14 
ušt8_t
 
	gm_nAùu®Lªes
;

15 
ušt8_t
 
	gm_nLowB™
;

16 
ušt8_t
 
	gm_nHighB™
;

17 
ušt32_t
 
	gm_nWr™eMask
;

18 
ušt8_t
 
	gm_nOutBlocks
;

19 
ušt32_t
 
	gm_off£ts
[3];

20 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

22 
	gpublic
:

23 
vœtu®
 
size
(è{  
CLEDCÚŒŞËr
::size(è* 
m_nAùu®Lªes
; }

28 
	#_BLOCK_PIN
(
P
) P: { \

29 if(
m_nAùu®Lªes
 =ğ
LANES
) ; \

30 
Fa¡Pš
<
P
>::
	`£tOuut
(); \

31 
m_b™Off£ts
[
m_nAùu®Lªes
++] = 
Fa¡Pš
<
P
>::
	`pšb™
(); \

32 
m_nWr™eMask
 |ğ
Fa¡Pš
<
P
>::
	`mask
(); \

33 ifĞ
P
 == 27 || P == 7 || P == 30) ; \

34 }

	)

36 
vœtu®
 
š™
() {

38 
mem£t
(
m_b™Off£ts
,0,16);

39 
	gm_nAùu®Lªes
 = 0;

40 
	gm_nLowB™
 = 33;

41 
	gm_nHighB™
 = 0;

42 
	gm_nWr™eMask
 = 0;

45 
	gFIRST_PIN
) {

47 
_BLOCK_PIN
( 1);

48 
_BLOCK_PIN
( 0);

49 
_BLOCK_PIN
(24);

50 
_BLOCK_PIN
(25);

51 
_BLOCK_PIN
(19);

52 
_BLOCK_PIN
(18);

53 
_BLOCK_PIN
(14);

54 
_BLOCK_PIN
(15);

55 
_BLOCK_PIN
(17);

56 
_BLOCK_PIN
(16);

57 
_BLOCK_PIN
(22);

58 
_BLOCK_PIN
(23);

59 
_BLOCK_PIN
(20);

60 
_BLOCK_PIN
(21);

61 
_BLOCK_PIN
(26);

62 
_BLOCK_PIN
(27);

64 
_BLOCK_PIN
(10);

65 
_BLOCK_PIN
(12);

66 
_BLOCK_PIN
(11);

67 
_BLOCK_PIN
(13);

68 
_BLOCK_PIN
( 6);

69 
_BLOCK_PIN
( 9);

70 
_BLOCK_PIN
(32);

71 
_BLOCK_PIN
( 8);

72 
_BLOCK_PIN
( 7);

74 
_BLOCK_PIN
(37);

75 
_BLOCK_PIN
(36);

76 
_BLOCK_PIN
(35);

77 
_BLOCK_PIN
(34);

78 
_BLOCK_PIN
(39);

79 
_BLOCK_PIN
(38);

80 
_BLOCK_PIN
(28);

81 
_BLOCK_PIN
(31);

82 
_BLOCK_PIN
(30);

85 
	gi
 = 0; i < 
	gm_nAùu®Lªes
; ++i) {

86 if(
	gm_b™Off£ts
[
i
] < 
	gm_nLowB™
è{ m_nLowB™ = 
m_b™Off£ts
[i]; }

87 if(
	gm_b™Off£ts
[
i
] > 
	gm_nHighB™
è{ m_nHighB™ = 
m_b™Off£ts
[i]; }

90 
	gm_nOutBlocks
 = (
m_nHighB™
 + 8)/8;

94 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

96 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
__FL_T4_MASK
> & 
pix–s
) {

97 
	gmWa™
.
wa™
();

98 #ià
FASTLED_ALLOW_INTERRUPTS
 == 0

99 
ušt32_t
 
	gşocks
 = 
showRGBIÁ”Çl
(
pix–s
);

101 
	gmiüosTak’
 = 
CLKS_TO_MICROS
(
şocks
);

102 
	gMS_COUNTER
 +ğ(1 + (
miüosTak’
 / 1000));

104 
showRGBIÁ”Çl
(
pix–s
);

106 
	gmWa™
.
m¬k
();

110 
ušt8_t
 
	gby‹s
[32];

111 
ušt8_t
 
	gbg
[4][8];

112 
ušt16_t
 
	gshÜts
[16];

113 
ušt32_t
 
	g¿w
[8];

114 } 
	t_oušes
;

117 
	g‹m¶©e
<
	gBITS
,
	gPX
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
_oušes
 & 
b
, 
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
__FL_T4_MASK
> &
pix–s
) {

118 
_oušes
 
	gb2
;

119 
Œª¥o£8x1
(
b
.
bg
[3], 
b2
.bg[3]);

120 
Œª¥o£8x1
(
b
.
bg
[2], 
b2
.bg[2]);

121 
Œª¥o£8x1
(
b
.
bg
[1], 
b2
.bg[1]);

122 
Œª¥o£8x1
(
b
.
bg
[0], 
b2
.bg[0]);

124 
ušt8_t
 
	gd
 = 
pix–s
.
‹m¶©e
 
g‘d
<
PX
>(pixels);

125 
ušt8_t
 
	gsÿË
 = 
pix–s
.
‹m¶©e
 
g‘sÿË
<
PX
>(pixels);

127 
	gx
 = 0;

128 
ušt32_t
 
	gi
 = 8; i > 0;) {

129 --
	gi
;

130 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

131 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
m_nWr™eMask
;

132 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + 
m_off£ts
[0];

134 
ušt32_t
 
	gout
 = (
b2
.
bg
[3][
i
] << 24) | (b2.bg[2][i] << 16) | (b2.bg[1][i] << 8) | b2.bg[0][i];

136 
	gout
 = ((~
out
è& 
m_nWr™eMask
);

137 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> 
	gm_off£ts
[1]);

138 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
out
;

140 
	gout
 = 
m_nWr™eMask
;

141 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> 
	gm_off£ts
[2]);

142 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
out
;

145 ià(
	gx
 < 
	gm_nAùu®Lªes
) {

146 
	gb
.
	gby‹s
[
m_b™Off£ts
[
x
]] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s, 
	gx
, 
	gd
, 
	gsÿË
);

147 ++
	gx
;

148 ià(
	gx
 < 
	gm_nAùu®Lªes
) {

149 
	gb
.
	gby‹s
[
m_b™Off£ts
[
x
]] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s, 
	gx
, 
	gd
, 
	gsÿË
);

150 ++
	gx
;

156 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
,
LANES
, 
__FL_T4_MASK
> &
®Íix–s
) {

157 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

158 
_oušes
 
	gb0
;

159 
ušt32_t
 
	g¡¬t
 = 
ARM_DWT_CYCCNT
;

161 
	gi
 = 0; i < 
	gm_nAùu®Lªes
; ++i) {

162 
	gb0
.
	gby‹s
[
m_b™Off£ts
[
i
]] = 
®Íix–s
.
lßdAndSÿË0
(i);

165 
şi
();

167 
	gm_off£ts
[0] = 
_FASTLED_NS_TO_DWT
(
T1
+
T2
+
T3
);

168 
	gm_off£ts
[1] = 
_FASTLED_NS_TO_DWT
(
T2
+
T3
);

169 
	gm_off£ts
[2] = 
_FASTLED_NS_TO_DWT
(
T3
);

170 
ušt32_t
 
	gwa™_off
 = 
_FASTLED_NS_TO_DWT
((
WAIT_TIME
-
INTERRUPT_THRESHOLD
));

172 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + 
m_off£ts
[0];

174 
	g®Íix–s
.
has
(1)) {

175 
	g®Íix–s
.
¡•D™h”šg
();

176 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

177 
şi
();

179 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

180 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> 
	gwa™_off
è{ 
£i
();  ARM_DWT_CYCCNT - 
	g¡¬t
; }

184 
	gwr™eB™s
<8+
	gXTRA0
,1>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

187 
	gwr™eB™s
<8+
	gXTRA0
,2>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

188 
	g®Íix–s
.
advªûD©a
();

191 
	gwr™eB™s
<8+
	gXTRA0
,0>(
	gÃxt_m¬k
, 
	gb0
, 
	g®Íix–s
);

192 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

193 
£i
();

197 
£i
();

199  
	gARM_DWT_CYCCNT
 - 
	g¡¬t
;

203 
	g‹m¶©e
<‹m¶©e<
ušt8_t
 
	gDATA_PIN
, 
EOrd”
 
	gRGB_ORDER
> 
şass
 
	gCHIPSET
, ušt8_ˆDATA_PIN, 
	gNUM_LANES
, EOrd” RGB_ORDER=
GRB
>

204 
şass
 
__FIBCC
 : 
public
 
FËxibËIÆšeBlockClockËssCÚŒŞËr
<
NUM_LANES
,
	gDATA_PIN
,
	gCHIPSET
<DATA_PIN,
	gRGB_ORDER
>::
__T1
(),CHIPSET<DATA_PIN,RGB_ORDER>::
__T2
(),CHIPSET<DATA_PIN,RGB_ORDER>::
__T3
(),RGB_ORDER,CHIPSET<DATA_PIN,RGB_ORDER>::
__XTRA0
(),CHIPSET<DATA_PIN,RGB_ORDER>::
__FLIP
(),CHIPSET<DATA_PIN,RGB_ORDER>::
__WAIT_TIME
()> {};

206 
	#__FASTLED_HAS_FIBCC
 1

	)

210 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/mxrt1062/clockless_arm_mxrt1062.h

1 #iâdeà
__INC_CLOCKLESS_ARM_MXRT1062_H


2 
	#__INC_CLOCKLESS_ARM_MXRT1062_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


8 #ià
defšed
(
FASTLED_TEENSY4
)

10 
	#FASTLED_HAS_CLOCKLESS
 1

	)

12 
	#_FASTLED_NS_TO_DWT
(
_NS
è(((
F_CPU_ACTUAL
>>16)*(_NS)è/ (1000000000UL>>16))

	)

14 
	g‹m¶©e
 <
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

15 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

16 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

17 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

19 
d©a_t
 
	gmPšMask
;

20 
d©a_±r_t
 
	gmPÜt
;

21 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

22 
ušt32_t
 
	goff
[3];

24 
	gpublic
:

25 
cÚ¡ex´
 
__DATA_PIN
(è{  
DATA_PIN
; }

26 
cÚ¡ex´
 
__T1
(è{  
	gT1
; }

27 
cÚ¡ex´
 
__T2
(è{  
	gT2
; }

28 
cÚ¡ex´
 
__T3
(è{  
	gT3
; }

29 
cÚ¡ex´
 
EOrd”
 
__RGB_ORDER
(è{  
	gRGB_ORDER
; }

30 
cÚ¡ex´
 
__XTRA0
(è{  
	gXTRA0
; }

31 
cÚ¡ex´
 
boŞ
 
__FLIP
(è{  
	gFLIP
; }

32 
cÚ¡ex´
 
__WAIT_TIME
(è{  
	gWAIT_TIME
; }

34 
vœtu®
 
š™
() {

35 
	gFa¡Pš
<
	gDATA_PIN
>::
£tOuut
();

36 
	gmPšMask
 = 
Fa¡Pš
<
DATA_PIN
>::
mask
();

37 
	gmPÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

38 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

41 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

43 
	g´Ùeùed
:

44 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

45 
mWa™
.
wa™
();

46 if(!
showRGBIÁ”Çl
(
pix–s
)) {

47 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

48 
showRGBIÁ”Çl
(
pix–s
);

50 
	gmWa™
.
m¬k
();

53 
	g‹m¶©e
<
	gBITS
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, ušt32_ˆ& 
b
) {

54 
ušt32_t
 
	gi
 = 
BITS
-1; i > 0; --i) {

55 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

56 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + 
off
[0];

57 
	gFa¡Pš
<
	gDATA_PIN
>::
hi
();

58 if(
	gb
&0x80) {

59 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> 
	goff
[1]);

60 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

62 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> 
	goff
[2]);

63 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

65 
	gb
 <<= 1;

68 
	gARM_DWT_CYCCNT
 < 
	gÃxt_m¬k
);

69 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + 
off
[1];

70 
	gFa¡Pš
<
	gDATA_PIN
>::
hi
();

72 if(
	gb
&0x80) {

73 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> 
	goff
[2]);

74 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

76 (
	gÃxt_m¬k
 - 
	gARM_DWT_CYCCNT
è> 
	goff
[2]);

77 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

81 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

82 
ušt32_t
 
	g¡¬t
 = 
ARM_DWT_CYCCNT
;

85 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

86 
ušt32_t
 
	gb
 = 
pix–s
.
lßdAndSÿË0
();

88 
şi
();

90 
	goff
[0] = 
_FASTLED_NS_TO_DWT
(
T1
+
T2
+
T3
);

91 
	goff
[1] = 
_FASTLED_NS_TO_DWT
(
T2
+
T3
);

92 
	goff
[2] = 
_FASTLED_NS_TO_DWT
(
T3
);

94 
ušt32_t
 
	gwa™_off
 = 
_FASTLED_NS_TO_DWT
((
WAIT_TIME
-
INTERRUPT_THRESHOLD
));

96 
ušt32_t
 
	gÃxt_m¬k
 = 
ARM_DWT_CYCCNT
 + 
off
[0];

98 
	gpix–s
.
has
(1)) {

99 
	gpix–s
.
¡•D™h”šg
();

100 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

101 
şi
();

103 if(
	gARM_DWT_CYCCNT
 > 
	gÃxt_m¬k
) {

104 if((
	gARM_DWT_CYCCNT
-
	gÃxt_m¬k
è> 
	gwa™_off
è{ 
£i
();  ARM_DWT_CYCCNT - 
	g¡¬t
; }

108 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gb
);

109 
	gb
 = 
pix–s
.
lßdAndSÿË1
();

112 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gb
);

113 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

116 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gb
);

117 
	gb
 = 
pix–s
.
advªûAndLßdAndSÿË0
();

118 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

119 
£i
();

123 
£i
();

124  
	gARM_DWT_CYCCNT
 - 
	g¡¬t
;

129 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/mxrt1062/fastled_arm_mxrt1062.h

1 #iâdeà
__INC_FASTLED_ARM_MXRT1062_H


2 
	#__INC_FASTLED_ARM_MXRT1062_H


	)

4 
	~"ç¡pš_¬m_mx¹1062.h
"

5 
	~"ç¡¥i_¬m_mx¹1062.h
"

6 
	~"../k20/oùows2811_cÚŒŞËr.h
"

7 
	~"../k20/ws2812£rŸl_cÚŒŞËr.h
"

8 
	~"../k20/sm¬tm©rix_t3.h
"

9 
	~"şockËss_¬m_mx¹1062.h
"

10 
	~"block_şockËss_¬m_mx¹1062.h
"

	@src/platforms/arm/mxrt1062/fastpin_arm_mxrt1062.h

1 #iâdeà
__FASTPIN_ARM_MXRT1062_H


2 
	#__FASTPIN_ARM_MXRT1062_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


16 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	g_BIT
, ušt32_ˆ
	g_MASK
, 
ty³Çme
 
	g_GPIO_DR
,y³Çm
	g_GPIO_DR_SET
,y³Çm
	g_GPIO_DR_CLEAR
,y³Çm
	g_GPIO_DR_TOGGLE
> cÏs 
	c_ARMPIN
 {

17 
	mpublic
:

18 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

19 
ušt32_t
 
	tpÜt_t
;

21 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

22 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

24 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_GPIO_DR_SET
::
	`r
(èğ
_MASK
; 
	}
}

25 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_GPIO_DR_CLEAR
::
	`r
(èğ
_MASK
; 
	}
}

26 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_GPIO_DR
::
	`r
(èğv®; 
	}
}

28 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

30 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_GPIO_DR_TOGGLE
::
	`r
(èğ
_MASK
; 
	}
}

32 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

33 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

34 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

36 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_GPIO_DR
::
	`r
(è| 
_MASK
; 
	}
}

37 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_GPIO_DR
::
	`r
(è& ~
_MASK
; 
	}
}

38 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_GPIO_DR
::
	`r
(); 
	}
}

39 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_GPIO_DR_SET
::
	`r
(); 
	}
}

40 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_GPIO_DR_CLEAR
::
	`r
(); 
	}
}

41 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

42 
šlše
 
ušt32_t
 
	$pšb™
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_BIT
; 
	}
}

46 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

47 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
»g32_t
 
	`r
(è{  T; } };

	)

48 
	#_FL_IO
(
L
è
	`_RD32
(
GPIO
 ## L ## 
_DR
); _RD32(GPIO ## L ## 
_DR_SET
); _RD32(GPIO ## L ## 
_DR_CLEAR
); _RD32(GPIO ## L ## 
_DR_TOGGLE
); 
	`_FL_DEFINE_PORT
(L, 
	`_R
(GPIO ## L ## _DR));

	)

55 
	#_FL_DEFPIN
(
PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, BIT, 1 << BIT, 
	`_R
(
GPIO
 ## L ## 
_DR
), _R(GPIO ## L ## 
_DR_SET
), _R(GPIO ## L ## 
_DR_CLEAR
), _R(GPIO ## L ## 
_DR_TOGGLE
)> {};

	)

57 #ià
defšed
(
FASTLED_TEENSY4
è&& defšed(
CORE_TEENSY
)

58 
_FL_IO
(1); _FL_IO(2); _FL_IO(3); _FL_IO(4); _FL_IO(5);

59 
_FL_IO
(6); _FL_IO(7); _FL_IO(8); _FL_IO(9);

61 
	#MAX_PIN
 39

	)

62 
_FL_DEFPIN
( 0, 3,6); _FL_DEFPIN( 1, 2,6); _FL_DEFPIN( 2, 4,9); _FL_DEFPIN( 3, 5,9);

63 
_FL_DEFPIN
( 4, 6,9); _FL_DEFPIN( 5, 8,9); _FL_DEFPIN( 6,10,7); _FL_DEFPIN( 7,17,7);

64 
_FL_DEFPIN
( 8,16,7); _FL_DEFPIN( 9,11,7); _FL_DEFPIN(10, 0,7); _FL_DEFPIN(11, 2,7);

65 
_FL_DEFPIN
(12, 1,7); _FL_DEFPIN(13, 3,7); _FL_DEFPIN(14,18,6); _FL_DEFPIN(15,19,6);

66 
_FL_DEFPIN
(16,23,6); _FL_DEFPIN(17,22,6); _FL_DEFPIN(18,17,6); _FL_DEFPIN(19,16,6);

67 
_FL_DEFPIN
(20,26,6); _FL_DEFPIN(21,27,6); _FL_DEFPIN(22,24,6); _FL_DEFPIN(23,25,6);

68 
_FL_DEFPIN
(24,12,6); _FL_DEFPIN(25,13,6); _FL_DEFPIN(26,30,6); _FL_DEFPIN(27,31,6);

69 
_FL_DEFPIN
(28,18,8); _FL_DEFPIN(29,31,9); _FL_DEFPIN(30,23,8); _FL_DEFPIN(31,22,8);

70 
_FL_DEFPIN
(32,12,7); _FL_DEFPIN(33, 7,9); _FL_DEFPIN(34,15,8); _FL_DEFPIN(35,14,8);

71 
_FL_DEFPIN
(36,13,8); _FL_DEFPIN(37,12,8); _FL_DEFPIN(38,17,8); _FL_DEFPIN(39,16,8);

73 
	#HAS_HARDWARE_PIN_SUPPORT


	)

75 
	#ARM_HARDWARE_SPI


	)

76 
	#SPI_DATA
 11

	)

77 
	#SPI_CLOCK
 13

	)

79 
	#SPI1_DATA
 26

	)

80 
	#SPI1_CLOCK
 27

	)

82 
	#SPI2_DATA
 35

	)

83 
	#SPI2_CLOCK
 37

	)

89 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/mxrt1062/fastspi_arm_mxrt1062.h

1 #iâdeà
__INC_FASTSPI_ARM_MXRT1062_H


2 
	#__INC_FASTSPI_ARM_MXRT1062_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
 (
FASTLED_TEENSY4
è&& defšed(
ARM_HARDWARE_SPI
)

7 
	~<SPI.h
>

9 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_RATE
, 
	gSPICÏss
 & 
	g_SPIObjeù
, 
	g_SPI_INDEX
>

10 şas 
	cT“sy4H¬dw¬eSPIOuut
 {

11 
S–eùabË
 *
	mm_pS–eù
;

12 
ušt32_t
 
	mm_b™CouÁ
;

13 
ušt32_t
 
	mm_b™D©a
;

14 
šlše
 
	mIMXRT_LPSPI_t
 & 
	$pÜt
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

15 
_SPI_INDEX
) {

17  
IMXRT_LPSPI4_S
;

19  
IMXRT_LPSPI3_S
;

21  
IMXRT_LPSPI1_S
;

25 
public
:

26 
	$T“sy4H¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; 
m_b™CouÁ
 = 0;
	}
}

27 
	$T“sy4H¬dw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
m_b™CouÁ
 = 0;
	}
}

30 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
	}
}

33 
	$š™
(è{ 
_SPIObjeù
.
	`begš
(); 
	}
}

36 
šlše
 
	$£Ëù
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

38 
_SPIObjeù
.
	`begšT¿n§ùiÚ
(
	`SPIS‘tšgs
(
_SPI_CLOCK_RATE
, 
MSBFIRST
, 
SPI_MODE0
));

39 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); }

40 
	}
}

43 
šlše
 
	$»Ëa£
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

44 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); }

45 
_SPIObjeù
.
	`’dT¿n§ùiÚ
();

46 
	}
}

49 
	$wa™FuÎy
(è{ 
	}
}

52 
šlše
 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)) {

53 if(
m_b™CouÁ
 == 0) {

54 
_SPIObjeù
.
	`Œªsãr
(
b
);

57 
ušt32_t
 
outD©a
 = (
m_b™D©a
 << 8è| 
b
;

58 
ušt32_t
 
tü
 = 
	`pÜt
().
TCR
;

59 
	`pÜt
().
TCR
 = (
tü
 & 0xfffff000è| 
	`LPSPI_TCR_FRAMESZ
((8+
m_b™CouÁ
) - 1);

60 
	`pÜt
().
TDR
 = 
outD©a
;

61 (
	`pÜt
().
RSR
 & 
LPSPI_RSR_RXEMPTY
)) ;

62 
	`pÜt
().
TCR
 = (
tü
 & 0xfffff000è| 
	`LPSPI_TCR_FRAMESZ
((8) - 1);

63 
	`pÜt
().
RDR
;

64 
m_b™CouÁ
 = 0;

66 
	}
}

69 
šlše
 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)) {

70 
	`wr™eBy‹
(((
w
>>8) & 0xFF));

71 
_SPIObjeù
.
	`Œªsãr
(
w
 & 0xFF);

72 
	}
}

75 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

76 
Ën
--è{ 
_SPIObjeù
.
	`Œªsãr
(
v®ue
); }

77 
	}
}

80 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

81 
	`£Ëù
(); 
	`wr™eBy‹sV®ueRaw
(
v®ue
, 
Ën
); 
	`»Ëa£
();

82 
	}
}

85 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

86 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

87 
	`£Ëù
();

89 
d©a
 !ğ
’d
) {

90 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

92 
D
::
	`po¡Block
(
Ën
);

93 
	`wa™FuÎy
();

94 
	`»Ëa£
();

95 
	}
}

98 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

101 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

102 
m_b™D©a
 = (m_b™D©a<<1è| ((
b
&(1<<
BIT
)) != 0);

104 
ušt32_t
 
bc
 = 
m_b™CouÁ
;

105 
bc
 = (bc + 1) & 0x07;

106 ià(!
bc
) {

107 
m_b™CouÁ
 = 0;

108 
_SPIObjeù
.
	`Œªsãr
(
m_b™D©a
);

110 
m_b™CouÁ
 = 
bc
;

111 
	}
}

115 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

116 
£Ëù
();

117 
	gËn
 = 
pix–s
.
mL’
;

119 
	gpix–s
.
has
(1)) {

120 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

121 
	gwr™eB™
<0>(1);

123 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

124 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

125 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

127 
	gpix–s
.
advªûD©a
();

128 
	gpix–s
.
¡•D™h”šg
();

130 
	gD
::
po¡Block
(
Ën
);

131 
»Ëa£
();

139 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/mxrt1062/led_sysdefs_arm_mxrt1062.h

1 #iâdeà
__INC_LED_SYSDEFS_ARM_MXRT1062_H


2 
	#__INC_LED_SYSDEFS_ARM_MXRT1062_H


	)

4 
	#FASTLED_TEENSY4


	)

5 
	#FASTLED_ARM


	)

7 #iâdeà
INTERRUPT_THRESHOLD


8 
	#INTERRUPT_THRESHOLD
 1

	)

12 #iâdeà
FASTLED_ALLOW_INTERRUPTS


13 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

16 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

17 
	#FASTLED_ACCURATE_CLOCK


	)

20 #ià(
F_CPU
 == 96000000)

21 
	#CLK_DBL
 1

	)

25 
	~<avr/io.h
>

26 
	~<avr/š‹¼u±.h
>

29 #ià
defšed
(
ARDUINO
)

30 vŞ©
	tušt32_t
 
	tRoReg
;

31 vŞ©
	tušt32_t
 
	tRwReg
;

38 #iâdeà
FASTLED_USE_PROGMEM


39 
	#FASTLED_USE_PROGMEM
 1

	)

	@src/platforms/arm/nrf51/clockless_arm_nrf51.h

1 #iâdeà
__INC_CLOCKLESS_ARM_NRF51


2 
	#__INC_CLOCKLESS_ARM_NRF51


	)

4 #ià
defšed
(
NRF51
)

6 
	~<Äf51_b™f›lds.h
>

7 
	#FASTLED_HAS_CLOCKLESS
 1

	)

9 #ià(
FASTLED_ALLOW_INTERRUPTS
==1)

10 
	#SEI_CHK
 
LED_TIMER
->
CC
[0] = (
WAIT_TIME
 * (
F_CPU
/1000000)); LED_TIMER->
TASKS_CLEAR
; LED_TIMER->
EVENTS_COMPARE
[0] = 0;

	)

11 
	#CLI_CHK
 
	`şi
(); if(
LED_TIMER
->
EVENTS_COMPARE
[0]è{ LED_TIMER->
TASKS_STOP
 = 1;  0; }

	)

12 
	#INNER_SEI
 
	`£i
();

	)

14 
	#SEI_CHK


	)

15 
	#CLI_CHK


	)

16 
	#INNER_SEI
 
d–aycyşes
<1>();

	)

20 
	~"../commÚ/m0şockËss.h
"

21 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 75>

22 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

23 
ty³Çme
 
	tFa¡PšBB
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

24 
ty³Çme
 
	tFa¡PšBB
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

26 
d©a_t
 
	gmPšMask
;

27 
d©a_±r_t
 
	gmPÜt
;

28 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

30 
	gpublic
:

31 
vœtu®
 
š™
() {

32 
Fa¡PšBB
<
DATA_PIN
>::
£tOuut
();

33 
	gmPšMask
 = 
Fa¡PšBB
<
DATA_PIN
>::
mask
();

34 
	gmPÜt
 = 
Fa¡PšBB
<
DATA_PIN
>::
pÜt
();

37 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

39 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

40 
	gmWa™
.
wa™
();

41 
şi
();

42 if(!
showRGBIÁ”Çl
(
pix–s
)) {

43 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

44 
showRGBIÁ”Çl
(
pix–s
);

46 
£i
();

47 
	gmWa™
.
m¬k
();

52 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

53 
M0ClockËssD©a
 
	gd©a
;

54 
	gd©a
.
	gd
[0] = 
pix–s
.
d
[0];

55 
	gd©a
.
	gd
[1] = 
pix–s
.
d
[1];

56 
	gd©a
.
	gd
[2] = 
pix–s
.
d
[2];

57 
	gd©a
.
	gs
[0] = 
pix–s
.
mSÿË
[0];

58 
	gd©a
.
	gs
[1] = 
pix–s
.
mSÿË
[1];

59 
	gd©a
.
	gs
[2] = 
pix–s
.
mSÿË
[2];

60 
	gd©a
.
	ge
[0] = 
pix–s
.
e
[0];

61 
	gd©a
.
	ge
[1] = 
pix–s
.
e
[1];

62 
	gd©a
.
	ge
[2] = 
pix–s
.
e
[2];

63 
	gd©a
.
	gadj
 = 
pix–s
.
mAdvªû
;

65 
ty³Çme
 
	gFa¡Pš
<
	gDATA_PIN
>::
pÜt_±r_t
 
pÜtBa£
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

68 
	gLED_TIMER
->
	gMODE
 = 
TIMER_MODE_MODE_Tim”
;

69 
	gLED_TIMER
->
	gPRESCALER
 = 0;

70 
	gLED_TIMER
->
	gEVENTS_COMPARE
[0] = 0;

71 
	gLED_TIMER
->
	gBITMODE
 = 
TIMER_BITMODE_BITMODE_16B™
;

72 
	gLED_TIMER
->
	gSHORTS
 = 
TIMER_SHORTS_COMPARE0_CLEAR_Msk
;

73 
	gLED_TIMER
->
	gTASKS_START
 = 1;

75 
	g»t
 = 
showLedD©a
<4,8,
	gT1
,
	gT2
,
	gT3
,
	gRGB_ORDER
,
	gWAIT_TIME
>(
	gpÜtBa£
, 
	gFa¡Pš
<
	gDATA_PIN
>::
mask
(), 
	gpix–s
.
	gmD©a
,…ix–s.
	gmL’
, &
	gd©a
);

77 
	gLED_TIMER
->
	gTASKS_STOP
 = 1;

78  
	g»t
;

	@src/platforms/arm/nrf51/fastled_arm_nrf51.h

1 #iâdeà
__INC_FASTLED_ARM_NRF51_H


2 
	#__INC_FASTLED_ARM_NRF51_H


	)

5 
	~"ç¡pš_¬m_Äf51.h
"

6 
	~"ç¡¥i_¬m_Äf51.h
"

7 
	~"şockËss_¬m_Äf51.h
"

	@src/platforms/arm/nrf51/fastpin_arm_nrf51.h

1 #iâdeà
__FASTPIN_ARM_NRF51_H


2 
	#__FASTPIN_ARM_NRF51_H


	)

4 #ià
defšed
(
NRF51
)

10 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	g_MASK
, 
ty³Çme
 
	g_DIRSET
,y³Çm
	g_DIRCLR
,y³Çm
	g_OUTSET
,y³Çm
	g_OUTCLR
,y³Çm
	g_OUT
> cÏs 
	c_ARMPIN
 {

11 
	mpublic
:

12 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

13 
ušt32_t
 
	tpÜt_t
;

15 
šlše
 
	$£tOuut
(è{ 
_DIRSET
::
	`r
(èğ
_MASK
; }

16 
šlše
 
	$£tIÅut
(è{ 
_DIRCLR
::
	`r
(èğ
_MASK
; 
	}
}

18 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_OUTSET
::
	`r
(èğ
_MASK
; 
	}
}

19 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_OUTCLR
::
	`r
(èğ
_MASK
; 
	}
}

20 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_OUT
::
	`r
(èğv®; 
	}
}

22 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

24 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_OUT
::
	`r
(è^ğ
_MASK
; 
	}
}

26 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

27 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

28 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

30 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_OUT
::
	`r
(è| 
_MASK
; 
	}
}

31 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_OUT
::
	`r
(è& ~
_MASK
; 
	}
}

32 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_OUT
::
	`r
(); 
	}
}

33 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

36 
	#ADDR
(
X
è*(vŞ©
ušt32_t
*)
	)
X

37 
	#NR_GPIO_ADDR
(
ba£
,
off£t
è(*(vŞ©
ušt32_t
 *))((ušt32_t)(ba£ + off£t))

	)

38 
	#NR_DIRSET
 
	`ADDR
(0x50000518UL)

39 
	#NR_DIRCLR
 
	`ADDR
(0x5000051CUL)

40 
	#NR_OUTSET
 
	`ADDR
(0x50000508UL)

41 
	#NR_OUTCLR
 
	`ADDR
(0x5000050CUL)

42 
	#NR_OUT
 
	`ADDR
(0x50000504UL)

43 

	)

44 
	#_RD32_NRF
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
»g32_t
 
	`r
(è{  T; }};

	)

46 
_RD32_NRF
(
NR_DIRSET
);

47 
_RD32_NRF
(
NR_DIRCLR
);

48 
_RD32_NRF
(
NR_OUTSET
);

49 
_RD32_NRF
(
NR_OUTCLR
);

50 
_RD32_NRF
(
NR_OUT
);

52 
	#_FL_DEFPIN
(
PIN
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, 1 << PIN, \

53 
	`_R
(
NR_DIRSET
), _R(
NR_DIRCLR
), _R(
NR_OUTSET
), _R(
NR_OUTCLR
), _R(
NR_OUT
)> {};

	)

58 
__IO
 
ušt32_t
 
	mOUT
;

59 
__IO
 
ušt32_t
 
	mOUTSET
;

60 
__IO
 
ušt32_t
 
	mOUTCLR
;

61 
__I
 
ušt32_t
 
	mIN
;

62 
__IO
 
ušt32_t
 
	mDIR
;

63 
__IO
 
ušt32_t
 
	mDIRSET
;

64 
__IO
 
ušt32_t
 
	mDIRCLR
;

65 
__I
 
ušt32_t
 
	mRESERVED1
[120];

66 
__IO
 
ušt32_t
 
	mPIN_CNF
[32];

67 } 
	tFL_NRF_GPIO_Ty³
;

69 
	#FL_NRF_GPIO_BASE
 0x50000504UL

	)

70 
	#FL_NRF_GPIO
 ((
FL_NRF_GPIO_Ty³
 *è
FL_NRF_GPIO_BASE
)

	)

72 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	g_MASK
> cÏs 
	c_ARMPIN
 {

73 
	mpublic
:

74 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

75 
ušt32_t
 
	tpÜt_t
;

77 
šlše
 
	$£tOuut
(è{ 
FL_NRF_GPIO
->
DIRSET
 = 
_MASK
; }

78 
šlše
 
	$£tIÅut
(è{ 
FL_NRF_GPIO
->
DIRCLR
 = 
_MASK
; 
	}
}

80 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
FL_NRF_GPIO
->
OUTSET
 = 
_MASK
; 
	}
}

81 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
FL_NRF_GPIO
->
OUTCLR
ğ
_MASK
; 
	}
}

82 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
FL_NRF_GPIO
->
OUT
 = v®; 
	}
}

84 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

86 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
FL_NRF_GPIO
->
OUT
 ^ğ
_MASK
; 
	}
}

88 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

89 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

90 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

92 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
FL_NRF_GPIO
->
OUT
 | 
_MASK
; 
	}
}

93 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
FL_NRF_GPIO
->
OUT
 & ~
_MASK
; 
	}
}

94 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
FL_NRF_GPIO
->
OUT
; 
	}
}

95 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

97 
šlše
 
boŞ
 
	$is£t
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  (
FL_NRF_GPIO
->
IN
 & 
_MASK
è!ğ0; 
	}
}

101 
	#_FL_DEFPIN
(
PIN
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, 1 << PIN> {};

	)

105 
	#MAX_PIN
 31

	)

106 
_FL_DEFPIN
(0); _FL_DEFPIN(1); _FL_DEFPIN(2); _FL_DEFPIN(3);

107 
_FL_DEFPIN
(4); _FL_DEFPIN(5); _FL_DEFPIN(6); _FL_DEFPIN(7);

108 
_FL_DEFPIN
(8); _FL_DEFPIN(9); _FL_DEFPIN(10); _FL_DEFPIN(11);

109 
_FL_DEFPIN
(12); _FL_DEFPIN(13); _FL_DEFPIN(14); _FL_DEFPIN(15);

110 
_FL_DEFPIN
(16); _FL_DEFPIN(17); _FL_DEFPIN(18); _FL_DEFPIN(19);

111 
_FL_DEFPIN
(20); _FL_DEFPIN(21); _FL_DEFPIN(22); _FL_DEFPIN(23);

112 
_FL_DEFPIN
(24); _FL_DEFPIN(25); _FL_DEFPIN(26); _FL_DEFPIN(27);

113 
_FL_DEFPIN
(28); _FL_DEFPIN(29); _FL_DEFPIN(30); _FL_DEFPIN(31);

115 
	#HAS_HARDWARE_PIN_SUPPORT


	)

	@src/platforms/arm/nrf51/fastspi_arm_nrf51.h

1 #iâdeà
__INC_FASTSPI_NRF_H


2 
	#__INC_FASTSPI_NRF_H


	)

4 #ifdeà
NRF51


6 #iâdeà
FASTLED_FORCE_SOFTWARE_SPI


7 
	#FASTLED_ALL_PINS_HARDWARE_SPI


	)

12 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

13 şas 
	cNRF51SPIOuut
 {

15 
	s§veD©a
 {

16 
ušt32_t
 
	msck
;

17 
ušt32_t
 
	mmosi
;

18 
ušt32_t
 
	mmiso
;

19 
ušt32_t
 
	mäeq
;

20 
ušt32_t
 
	m’abË
;

21 } 
	gmSavedD©a
;

23 
	$§veSPID©a
() {

24 
mSavedD©a
.
sck
 = 
NRF_SPI0
->
PSELSCK
;

25 
mSavedD©a
.
mosi
 = 
NRF_SPI0
->
PSELMOSI
;

26 
mSavedD©a
.
miso
 = 
NRF_SPI0
->
PSELMISO
;

27 
mSavedD©a
.
äeq
 = 
NRF_SPI0
->
FREQUENCY
;

28 
mSavedD©a
.
’abË
 = 
NRF_SPI0
->
ENABLE
;

29 
	}
}

31 
	$»¡ÜeSPID©a
() {

32 
NRF_SPI0
->
PSELSCK
 = 
mSavedD©a
.
sck
;

33 
NRF_SPI0
->
PSELMOSI
 = 
mSavedD©a
.
mosi
;

34 
NRF_SPI0
->
PSELMISO
 = 
mSavedD©a
.
miso
;

35 
NRF_SPI0
->
FREQUENCY
 = 
mSavedD©a
.
äeq
;

36 
mSavedD©a
.
’abË
 = 
NRF_SPI0
->
ENABLE
;

37 
	}
}

39 
	gpublic
:

40 
	$NRF51SPIOuut
(è{ 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
(); Fa¡Pš<
_CLOCK_PIN
>::£tOuut(); 
	}
}

41 
	$NRF51SPIOuut
(
S–eùabË
 *
pS–eù
è{ 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
(); Fa¡Pš<
_CLOCK_PIN
>::£tOuut(); 
	}
}

44 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
	}
}

47 
	$š™
() {

48 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

49 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

50 
NRF_SPI0
->
PSELSCK
 = 
_CLOCK_PIN
;

51 
NRF_SPI0
->
PSELMOSI
 = 
_DATA_PIN
;

52 
NRF_SPI0
->
PSELMISO
 = 0xFFFFFFFF;

53 
NRF_SPI0
->
FREQUENCY
 = 0x80000000;

54 
NRF_SPI0
->
ENABLE
 = 1;

55 
NRF_SPI0
->
EVENTS_READY
 = 0;

56 
	}
}

59 
	$£Ëù
(è{ 
	`§veSPID©a
(); 
	`š™
(); 
	}
}

62 
	$»Ëa£
(è{ 
	`shouldWa™
(); 
	`»¡ÜeSPID©a
(); 
	}
}

64 
boŞ
 
	$shouldWa™
(
boŞ
 
wa™
 = 
çl£
è
	`__©Œibu‹__
((
®ways_šlše
)) __attribute__((always_inline)) {

70  
çl£
;

71 
	}
}

74 
	$wa™FuÎy
(è
	`__©Œibu‹__
((
®ways_šlše
)){ if(
	`shouldWa™
()è{ 
NRF_SPI0
->
EVENTS_READY
==0); } NRF_SPI0->
INTENCLR
; 
	}
}

75 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)){ if(
	`shouldWa™
()è{ 
NRF_SPI0
->
EVENTS_READY
==0); } NRF_SPI0->
INTENCLR
; 
	}
}

78 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
NRF_SPI0
->
TXD
 = b; NRF_SPI0->
INTENCLR
; 
	`shouldWa™
(
Œue
); 
	}
}

81 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)){ 
	`wr™eBy‹
(w>>8); wr™eBy‹(w & 0xFF); 
	}
}

84 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
è{ Ën--è{ 
	`wr™eBy‹
(v®ue); } 
	}
}

87 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

88 
	`£Ëù
();

89 
Ën
--) {

90 
	`wr™eBy‹
(
v®ue
);

92 
	`wa™FuÎy
();

93 
	`»Ëa£
();

94 
	}
}

97 
	g‹m¶©e
<
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

98 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

99 
	`£Ëù
();

100 
d©a
 !ğ
’d
) {

101 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

103 
D
::
	`po¡Block
(
Ën
);

104 
	`wa™FuÎy
();

105 
	`»Ëa£
();

106 
	}
}

108 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

109 
wr™eBy‹s
<
DATA_NOP
>(
d©a
, 
Ën
);

110 
	}
}

113 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

114 
	`wa™FuÎy
();

115 
NRF_SPI0
->
ENABLE
 = 0;

116 if(
b
 & 1<<
BIT
) {

117 
Fa¡Pš
<
_DATA_PIN
>::
	`hi
();

119 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

121 
Fa¡Pš
<
_CLOCK_PIN
>::
	`toggË
();

122 
Fa¡Pš
<
_CLOCK_PIN
>::
	`toggË
();

123 
NRF_SPI0
->
ENABLE
 = 1;

124 
	}
}

126 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

127 
£Ëù
();

128 
	gËn
 = 
pix–s
.
mL’
;

129 
	gpix–s
.
has
(1)) {

130 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

131 
	gwr™eB™
<0>(1);

133 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

134 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

135 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

137 
	gpix–s
.
advªûD©a
();

138 
	gpix–s
.
¡•D™h”šg
();

140 
	gD
::
po¡Block
(
Ën
);

141 
wa™FuÎy
();

142 
»Ëa£
();

	@src/platforms/arm/nrf51/led_sysdefs_arm_nrf51.h

1 #iâdeà
__LED_SYSDEFS_ARM_NRF51


2 
	#__LED_SYSDEFS_ARM_NRF51


	)

4 #iâdeà
NRF51


5 
	#NRF51


	)

8 
	#LED_TIMER
 
NRF_TIMER1


	)

9 
	#FASTLED_NO_PINMAP


	)

10 
	#FASTLED_HAS_CLOCKLESS


	)

12 
	#FASTLED_SPI_BYTE_ONLY


	)

14 
	#FASTLED_ARM


	)

15 
	#FASTLED_ARM_M0


	)

17 #iâdeà
F_CPU


18 
	#F_CPU
 16000000

	)

21 
	~<¡dšt.h
>

22 
	~<Äf51.h
>

23 
	~<cÜe_cm0.h
>

25 vŞ©
	tušt32_t
 
	tRoReg
;

26 vŞ©
	tušt32_t
 
	tRwReg
;

27 
ušt32_t
 
	t´og_ušt32_t
;

28 
ušt8_t
 
	tboŞ—n
;

30 
	#PROGMEM


	)

31 
	#NO_PROGMEM


	)

32 
	#NEED_CXX_BITS


	)

35 #iâdeà
FASTLED_USE_PROGMEM


36 
	#FASTLED_USE_PROGMEM
 0

	)

39 #iâdeà
FASTLED_ALLOW_INTERRUPTS


40 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

43 
	#şi
(è
	`__di§bË_œq
();

	)

44 
	#£i
(è
	`__’abË_œq
();

	)

	@src/platforms/arm/nrf52/arbiter_nrf52.h

1 #iâdeà
__INC_ARBITER_NRF52


2 
	#__INC_ARBITER_NRF52


	)

4 #ià
defšed
(
NRF52_SERIES
)

6 
	~"Ëd_sysdefs_¬m_Äf52.h
"

10 (*
	gFASTLED_NRF52_PWM_INTERRUPT_HANDLER
)();

19 
	e_FASTLED_NRF52_ENABLED_PWM_INSTANCE
 {

20 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE0
)

21 
	mFASTLED_NRF52_PWM0_INSTANCE_IDX
,

23 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE1
)

24 
	mFASTLED_NRF52_PWM1_INSTANCE_IDX
,

26 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE2
)

27 
	mFASTLED_NRF52_PWM2_INSTANCE_IDX
,

29 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE3
)

30 
	mFASTLED_NRF52_PWM3_INSTANCE_IDX
,

32 
	mFASTLED_NRF52_PWM_INSTANCE_COUNT


33 } 
	tFASTLED_NRF52_ENABLED_PWM_INSTANCES
;

35 
¡©ic_as£¹
(
FASTLED_NRF52_PWM_INSTANCE_COUNT
 > 0, "Instance count must be greaterhan zero -- define FASTLED_NRF52_ENABLE_PWM_INSTNACE[n] (replace `[n]` with digit)");

37 
	g‹m¶©e
 <
ušt32_t
 
	g_PWM_ID
>

38 şas 
	cPWM_Arb™”
 {

39 
	m´iv©e
:

40 
¡©ic_as£¹
(
_PWM_ID
 < 32, "PWM_ID over 31 breaks current‡rbitration bitmask");

43 
ušt32_t
 
	ms_PwmInU£
;

44 
NRF_PWM_Ty³
 * cÚ¡ 
	ms_PWM
;

45 
IRQn_Ty³
 cÚ¡ 
	ms_PWM_IRQ
;

46 
FASTLED_NRF52_PWM_INTERRUPT_HANDLER
 vŞ©
	ms_I¤
;

48 
	mpublic
:

49 
	$i¤_hªdËr
() {

50  
	`s_I¤
();

52 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
boŞ
 
	$isAcquœed
() {

53  (0u !ğ(
s_PwmInU£
 & 1u));

54 
	}
}

55 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$acquœe
(
FASTLED_NRF52_PWM_INTERRUPT_HANDLER
 
i¤
) {

56 !
	`ŒyAcquœe
(
i¤
));

57 
	}
}

58 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
boŞ
 
	$ŒyAcquœe
(
FASTLED_NRF52_PWM_INTERRUPT_HANDLER
 
i¤
) {

59 
ušt32_t
 
ŞdV®ue
 = 
	`__sync_ãtch_ªd_Ü
(&
s_PwmInU£
, 1u);

60 ià(0u =ğ(
ŞdV®ue
 & 1u)) {

61 
s_I¤
 = 
i¤
;

62  
Œue
;

64  
çl£
;

65 
	}
}

66 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$»Ëa£FromI¤
() {

67 
ušt32_t
 
ŞdV®ue
 = 
	`__sync_ãtch_ªd_ªd
(&
s_PwmInU£
, ~1u);

68 ià(0u =ğ(
ŞdV®ue
 & 1u)) {

71 ()
ŞdV®ue
;

74 
	}
}

75 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
NRF_PWM_Ty³
 * 
	$g‘PWM
() {

76  
s_PWM
;

77 
	}
}

78 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
IRQn_Ty³
 
	$g‘IRQn
(è{  
s_PWM_IRQ
; 
	}
}

80 
	g‹m¶©e
 <
ušt32_t
 
	g_PWM_ID
> 
NRF_PWM_Ty³
 * cÚ¡ 
	gPWM_Arb™”
<_PWM_ID>::
s_PWM
 =

81 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE0
)

82 (
_PWM_ID
 =ğ0 ? 
NRF_PWM0
 :

84 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE1
)

85 (
_PWM_ID
 =ğ1 ? 
NRF_PWM1
 :

87 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE2
)

88 (
_PWM_ID
 =ğ2 ? 
NRF_PWM2
 :

90 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE3
)

91 (
_PWM_ID
 =ğ3 ? 
NRF_PWM3
 :

93 (
NRF_PWM_Ty³
*)-1

94 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE0
)

97 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE1
)

100 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE2
)

103 #ià
defšed
(
FASTLED_NRF52_ENABLE_PWM_INSTANCE3
)

107 
	g‹m¶©e
 <
ušt32_t
 
	g_PWM_ID
> 
IRQn_Ty³
 cÚ¡ 
	gPWM_Arb™”
<_PWM_ID>::
s_PWM_IRQ
 = ((IRQn_Ty³)((
ušt8_t
)((ušt32_t)(
s_PWM
) >> 12)));

108 
	g‹m¶©e
 <
ušt32_t
 
	g_PWM_ID
> ušt32_ˆ
	gPWM_Arb™”
<_PWM_ID>::
s_PwmInU£
 = 0;

109 
	g‹m¶©e
 <
ušt32_t
 
	g_PWM_ID
> 
FASTLED_NRF52_PWM_INTERRUPT_HANDLER
 vŞ©
	gPWM_Arb™”
<_PWM_ID>::
s_I¤
 = 
NULL
;

	@src/platforms/arm/nrf52/clockless_arm_nrf52.h

1 #iâdeà
__INC_CLOCKLESS_ARM_NRF52


2 
	#__INC_CLOCKLESS_ARM_NRF52


	)

4 #ià
defšed
(
NRF52_SERIES
)

9 
	#FASTLED_HAS_CLOCKLESS
 1

	)

10 
	#FASTLED_NRF52_MAXIMUM_PIXELS_PER_STRING
 144

11 

	)

16 
	#FASTLED_NRF52_PWM_ID
 0

	)

18 
ušt32_t
 
i¤CouÁ
;

21 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
EOrd”
 
	g_RGB_ORDER
 = 
RGB
, 
	g_XTRA0
 = 0, 
boŞ
 
	g_FLIP
 = 
çl£
, 
	g_WAIT_TIME_MICROSECONDS
 = 10>

22 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
_RGB_ORDER
> {

23 
¡©ic_as£¹
(
FASTLED_NRF52_MAXIMUM_PIXELS_PER_STRING
 > 0, "Maximum string†ength must be…ositive value (FASTLED_NRF52_MAXIMUM_PIXELS_PER_STRING)");

24 
¡©ic_as£¹
(
_T1
 > 0 , "negative values‡re‚ot‡llowed");

25 
¡©ic_as£¹
(
_T2
 > 0 , "negative values‡re‚ot‡llowed");

26 
¡©ic_as£¹
(
_T3
 > 0 , "negative values‡re‚ot‡llowed");

27 
¡©ic_as£¹
(
_T1
 < (0x8000u-2u), "_T1 must fit in 15 bits");

28 
¡©ic_as£¹
(
_T2
 < (0x8000u-2u), "_T2 must fit in 15 bits");

29 
¡©ic_as£¹
(
_T3
 < (0x8000u-2u), "_T3 must fit in 15 bits");

30 
¡©ic_as£¹
(
_T1
 < (0x8000u-2u), "_T0H must fit in 15 bits");

31 
¡©ic_as£¹
(
_T1
+
_T2
 < (0x8000u-2u), "_T1H must fit in 15 bits");

32 
¡©ic_as£¹
(
_T1
+
_T2
+
_T3
 < (0x8000u-2u), "_TOP must fit in 15 bits");

33 
¡©ic_as£¹
(
_T1
+
_T2
+
_T3
 <ğ
PWM_COUNTERTOP_COUNTERTOP_Msk
, "_TOPoo†arge for…eripheral");

35 
	g´iv©e
:

36 cÚ¡ 
boŞ
 
_INITIALIZE_PIN_HIGH
 = (
_FLIP
 ? 1 : 0);

37 cÚ¡ 
ušt16_t
 
	g_POLARITY_BIT
 = (
_FLIP
 ? 0 : 0x8000);

39 cÚ¡ 
ušt8_t
 
	g_BITS_PER_PIXEL
 = (8 + 
_XTRA0
) * 3;

40 cÚ¡ 
ušt16_t
 
	g_PWM_BUFFER_COUNT
 = (
_BITS_PER_PIXEL
 * 
FASTLED_NRF52_MAXIMUM_PIXELS_PER_STRING
);

41 cÚ¡ 
ušt8_t
 
	g_T0H
 = ((
ušt16_t
)(
_T1
 ));

42 cÚ¡ 
ušt8_t
 
	g_T1H
 = ((
ušt16_t
)(
_T1
+
_T2
 ));

43 cÚ¡ 
ušt8_t
 
	g_TOP
 = ((
ušt16_t
)(
_T1
+
_T2
+
_T3
));

46 
ušt16_t
 
	gs_Sequ’ûBufãr
[
_PWM_BUFFER_COUNT
];

47 
ušt16_t
 
	gs_Sequ’ûBufãrV®idEËm’ts
;

48 vŞ©
ušt32_t
 
	gs_Sequ’ûBufãrInU£
;

49 
	gCMšWa™
<
	g_WAIT_TIME_MICROSECONDS
> 
	gmWa™
;

51 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
¡¬tPwmPÏyback_In™ŸlizePšS‹
() {

52 
	gFa¡Pš
<
	g_DATA_PIN
>::
£tOuut
();

53 ià(
	g_INITIALIZE_PIN_HIGH
) {

54 
	gFa¡Pš
<
	g_DATA_PIN
>::
hi
();

56 
	gFa¡Pš
<
	g_DATA_PIN
>::
lo
();

59 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
¡¬tPwmPÏyback_In™ŸlizePwmIn¡ªû
(
NRF_PWM_Ty³
 * 
pwm
) {

62 
	gpwm
->
	gPSEL
.
	gOUT
[0] = 
Fa¡Pš
<
_DATA_PIN
>::
Äf_pš
();

63 
	gpwm
->
	gPSEL
.
	gOUT
[1] = 
NRF_PWM_PIN_NOT_CONNECTED
;

64 
	gpwm
->
	gPSEL
.
	gOUT
[2] = 
NRF_PWM_PIN_NOT_CONNECTED
;

65 
	gpwm
->
	gPSEL
.
	gOUT
[3] = 
NRF_PWM_PIN_NOT_CONNECTED
;

66 
Äf_pwm_’abË
(
pwm
);

67 
Äf_pwm_cÚfigu»
(
pwm
, 
NRF_PWM_CLK_16MHz
, 
NRF_PWM_MODE_UP
, 
_TOP
);

68 
Äf_pwm_decod”_£t
(
pwm
, 
NRF_PWM_LOAD_COMMON
, 
NRF_PWM_STEP_AUTO
);

71 
Äf_pwm_shÜts_£t
(
pwm
, 0);

72 
Äf_pwm_št_£t
(
pwm
, 0);

74 
Äf_pwm_ev’t_ş—r
(
pwm
, 
NRF_PWM_EVENT_STOPPED
);

75 
Äf_pwm_ev’t_ş—r
(
pwm
, 
NRF_PWM_EVENT_SEQSTARTED0
);

76 
Äf_pwm_ev’t_ş—r
(
pwm
, 
NRF_PWM_EVENT_SEQSTARTED1
);

77 
Äf_pwm_ev’t_ş—r
(
pwm
, 
NRF_PWM_EVENT_SEQEND0
);

78 
Äf_pwm_ev’t_ş—r
(
pwm
, 
NRF_PWM_EVENT_SEQEND1
);

79 
Äf_pwm_ev’t_ş—r
(
pwm
, 
NRF_PWM_EVENT_PWMPERIODEND
);

80 
Äf_pwm_ev’t_ş—r
(
pwm
, 
NRF_PWM_EVENT_LOOPSDONE
);

82 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
¡¬tPwmPÏyback_CÚfigu»PwmSequ’û
(
NRF_PWM_Ty³
 * 
pwm
) {

84 
Äf_pwm_£qu’û_t
 
	g£qu’ûCÚfig
;

85 
	g£qu’ûCÚfig
.
	gv®ues
.
	gp_commÚ
 = &(
s_Sequ’ûBufãr
[0]);

86 
	g£qu’ûCÚfig
.
	gËngth
 = 
s_Sequ’ûBufãrV®idEËm’ts
;

87 
	g£qu’ûCÚfig
.
	g»³©s
 = 0;

88 
	g£qu’ûCÚfig
.
	g’d_d–ay
 = 0;

89 
Äf_pwm_£qu’û_£t
(
pwm
, 0, &
£qu’ûCÚfig
);

90 
Äf_pwm_£qu’û_£t
(
pwm
, 1, &
£qu’ûCÚfig
);

91 
Äf_pwm_loİ_£t
(
pwm
, 0);

94 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
¡¬tPwmPÏyback_EÇbËIÁ”ru±sAndShÜtcuts
(
NRF_PWM_Ty³
 * 
pwm
) {

95 
IRQn_Ty³
 
	gœqn
 = 
PWM_Arb™”
<
FASTLED_NRF52_PWM_ID
>::
g‘IRQn
();

97 
ušt32_t
 
	g»suÉ
;

99 
	g»suÉ
 = 
sd_nvic_S‘PriÜ™y
(
œqn
, 
cÚfigMAX_SYSCALL_INTERRUPT_PRIORITY
);

100 ()
	g»suÉ
;

101 
	g»suÉ
 = 
sd_nvic_EÇbËIRQ
(
œqn
);

102 ()
	g»suÉ
;

105 
ušt32_t
 
	gshÜtsToEÇbË
 = 0;

106 
	gshÜtsToEÇbË
 |ğ
NRF_PWM_SHORT_SEQEND0_STOP_MASK
;

107 
	gshÜtsToEÇbË
 |ğ
NRF_PWM_SHORT_SEQEND1_STOP_MASK
;

110 
	gshÜtsToEÇbË
 |ğ
NRF_PWM_SHORT_LOOPSDONE_STOP_MASK
;

111 
Äf_pwm_shÜts_£t
(
pwm
, 
shÜtsToEÇbË
);

114 
ušt32_t
 
	gš‹¼u±sToEÇbË
 = 0;

115 
	gš‹¼u±sToEÇbË
 |ğ
NRF_PWM_INT_SEQEND0_MASK
;

116 
	gš‹¼u±sToEÇbË
 |ğ
NRF_PWM_INT_SEQEND1_MASK
;

117 
	gš‹¼u±sToEÇbË
 |ğ
NRF_PWM_INT_LOOPSDONE_MASK
;

118 
	gš‹¼u±sToEÇbË
 |ğ
NRF_PWM_INT_STOPPED_MASK
;

119 
Äf_pwm_št_£t
(
pwm
, 
š‹¼u±sToEÇbË
);

122 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
¡¬tPwmPÏyback_S¹Task
(
NRF_PWM_Ty³
 * 
pwm
) {

123 
Äf_pwm_sk_Œigg”
(
pwm
, 
NRF_PWM_TASK_SEQSTART0
);

125 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
¥šAcquœeSequ’ûBufãr
() {

126 !
ŒyAcquœeSequ’ûBufãr
());

128 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
boŞ
 
ŒyAcquœeSequ’ûBufãr
() {

129  
__sync_boŞ_com·»_ªd_sw­
(&
s_Sequ’ûBufãrInU£
, 0, 1);

131 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
»Ëa£Sequ’ûBufãr
() {

132 
ušt32_t
 
	gtmp
 = 
__sync_v®_com·»_ªd_sw­
(&
s_Sequ’ûBufãrInU£
, 1, 0);

133 ià(
	gtmp
 != 1) {

138 
	gpublic
:

139 
i¤_hªdËr
() {

140 
NRF_PWM_Ty³
 * 
pwm
 = 
PWM_Arb™”
<
FASTLED_NRF52_PWM_ID
>::
g‘PWM
();

141 
IRQn_Ty³
 
	gœqn
 = 
PWM_Arb™”
<
FASTLED_NRF52_PWM_ID
>::
g‘IRQn
();

145 ià(
Äf_pwm_ev’t_check
(
pwm
,
NRF_PWM_EVENT_STOPPED
)) {

146 
Äf_pwm_ev’t_ş—r
(
pwm
,
NRF_PWM_EVENT_STOPPED
);

149 
	gmWa™
.
m¬k
();

151 
»Ëa£Sequ’ûBufãr
();

153 
Äf_pwm_št_£t
(
pwm
, 0);

156 
sd_nvic_Di§bËIRQ
(
œqn
);

158 
Äf_pwm_di§bË
(
pwm
);

160 
asm
 
__vŞ©e__
 ( "NOP; NOP; NOP; NOP;" );

162 
	gPWM_Arb™”
<
	gFASTLED_NRF52_PWM_ID
>::
»Ëa£FromI¤
();

167 
vœtu®
 
š™
() {

168 
FASTLED_NRF52_DEBUGPRINT
("Clockless Timings:\n");

169 
FASTLED_NRF52_DEBUGPRINT
(" T0H =ğ%d", 
_T0H
);

170 
FASTLED_NRF52_DEBUGPRINT
(" T1H =ğ%d", 
_T1H
);

171 
FASTLED_NRF52_DEBUGPRINT
(" TOP =ğ%d\n", 
_TOP
);

174 
¡¬tPwmPÏyback_In™ŸlizePšS‹
();

175 
	gmWa™
.
m¬k
();

178 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  800; }

180 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
_RGB_ORDER
> & 
pix–s
) {

182 
¥šAcquœeSequ’ûBufãr
();

183 
´•¬eSequ’ûBufãrs
(
pix–s
);

185 
	gmWa™
.
wa™
();

186 
¡¬tPwmPÏyback
(
s_Sequ’ûBufãrV®idEËm’ts
);

190 
	g‹m¶©e
<
ušt8_t
 
	g_BIT
>

191 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
Wr™eB™ToSequ’û
(
ušt8_t
 
by‹
, 
ušt16_t
 * 
e
) {

192 *
	ge
 = 
_POLARITY_BIT
 | (((
by‹
 & (1u << 
_BIT
)è=ğ0è? 
_T0H
 : 
_T1H
);

194 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
´•¬eSequ’ûBufãrs
(
Pix–CÚŒŞËr
<
_RGB_ORDER
> & 
pix–s
) {

195 
	gs_Sequ’ûBufãrV®idEËm’ts
 = 0;

196 
št32_t
 
	g»maššgSequ’ûEËm’ts
 = 
_PWM_BUFFER_COUNT
;

197 
ušt16_t
 * 
	ge
 = 
s_Sequ’ûBufãr
;

198 
ušt32_t
 
	gsize_Ãeded
 = 
pix–s
.
size
();

199 
	gsize_Ãeded
 *ğ(8 + 
_XTRA0
);

200 
	gsize_Ãeded
 *= 2;

202 ià(
	gsize_Ãeded
 > 
	g_PWM_BUFFER_COUNT
) {

207 
	gpix–s
.
has
(1è&& (
	g»maššgSequ’ûEËm’ts
 >ğ
_BITS_PER_PIXEL
)) {

208 
ušt8_t
 
b0
 = 
pix–s
.
lßdAndSÿË0
();

209 
	gWr™eB™ToSequ’û
<7>(
	gb0
, 
	ge
); ++e;

210 
	gWr™eB™ToSequ’û
<6>(
	gb0
, 
	ge
); ++e;

211 
	gWr™eB™ToSequ’û
<5>(
	gb0
, 
	ge
); ++e;

212 
	gWr™eB™ToSequ’û
<4>(
	gb0
, 
	ge
); ++e;

213 
	gWr™eB™ToSequ’û
<3>(
	gb0
, 
	ge
); ++e;

214 
	gWr™eB™ToSequ’û
<2>(
	gb0
, 
	ge
); ++e;

215 
	gWr™eB™ToSequ’û
<1>(
	gb0
, 
	ge
); ++e;

216 
	gWr™eB™ToSequ’û
<0>(
	gb0
, 
	ge
); ++e;

217 ià(
	g_XTRA0
 > 0) {

218 
	gi
 = 0; i < 
	g_XTRA0
; ++i) {

219 
	gWr™eB™ToSequ’û
<0>(0,
	ge
); ++e;

222 
ušt8_t
 
	gb1
 = 
pix–s
.
lßdAndSÿË1
();

223 
	gWr™eB™ToSequ’û
<7>(
	gb1
, 
	ge
); ++e;

224 
	gWr™eB™ToSequ’û
<6>(
	gb1
, 
	ge
); ++e;

225 
	gWr™eB™ToSequ’û
<5>(
	gb1
, 
	ge
); ++e;

226 
	gWr™eB™ToSequ’û
<4>(
	gb1
, 
	ge
); ++e;

227 
	gWr™eB™ToSequ’û
<3>(
	gb1
, 
	ge
); ++e;

228 
	gWr™eB™ToSequ’û
<2>(
	gb1
, 
	ge
); ++e;

229 
	gWr™eB™ToSequ’û
<1>(
	gb1
, 
	ge
); ++e;

230 
	gWr™eB™ToSequ’û
<0>(
	gb1
, 
	ge
); ++e;

231 ià(
	g_XTRA0
 > 0) {

232 
	gi
 = 0; i < 
	g_XTRA0
; ++i) {

233 
	gWr™eB™ToSequ’û
<0>(0,
	ge
); ++e;

236 
ušt8_t
 
	gb2
 = 
pix–s
.
lßdAndSÿË2
();

237 
	gWr™eB™ToSequ’û
<7>(
	gb2
, 
	ge
); ++e;

238 
	gWr™eB™ToSequ’û
<6>(
	gb2
, 
	ge
); ++e;

239 
	gWr™eB™ToSequ’û
<5>(
	gb2
, 
	ge
); ++e;

240 
	gWr™eB™ToSequ’û
<4>(
	gb2
, 
	ge
); ++e;

241 
	gWr™eB™ToSequ’û
<3>(
	gb2
, 
	ge
); ++e;

242 
	gWr™eB™ToSequ’û
<2>(
	gb2
, 
	ge
); ++e;

243 
	gWr™eB™ToSequ’û
<1>(
	gb2
, 
	ge
); ++e;

244 
	gWr™eB™ToSequ’û
<0>(
	gb2
, 
	ge
); ++e;

245 ià(
	g_XTRA0
 > 0) {

246 
	gi
 = 0; i < 
	g_XTRA0
; ++i) {

247 
	gWr™eB™ToSequ’û
<0>(0,
	ge
); ++e;

252 
	gs_Sequ’ûBufãrV®idEËm’ts
 +ğ
_BITS_PER_PIXEL
;

253 
	g»maššgSequ’ûEËm’ts
 -ğ
_BITS_PER_PIXEL
;

254 
	gpix–s
.
advªûD©a
();

255 
	gpix–s
.
¡•D™h”šg
();

260 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
¡¬tPwmPÏyback
(
ušt16_t
 
by‹sToS’d
) {

261 
	gPWM_Arb™”
<
	gFASTLED_NRF52_PWM_ID
>::
acquœe
(
i¤_hªdËr
);

262 
NRF_PWM_Ty³
 * 
	gpwm
 = 
PWM_Arb™”
<
FASTLED_NRF52_PWM_ID
>::
g‘PWM
();

265 
__sync_ãtch_ªd_Ü
(&
s_Sequ’ûBufãrInU£
, 1);

267 
¡¬tPwmPÏyback_In™ŸlizePšS‹
();

268 
¡¬tPwmPÏyback_In™ŸlizePwmIn¡ªû
(
pwm
);

269 
¡¬tPwmPÏyback_CÚfigu»PwmSequ’û
(
pwm
);

270 
¡¬tPwmPÏyback_EÇbËIÁ”ru±sAndShÜtcuts
(
pwm
);

271 
¡¬tPwmPÏyback_S¹Task
(
pwm
);

277 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
ušt16_t
* 
g‘RawSequ’ûBufãr
(è{  
	gs_Sequ’ûBufãr
; }

278 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
ušt16_t
 
g‘RawSequ’ûBufãrSize
(è{  
	g_PWM_BUFFER_COUNT
; }

279 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
ušt16_t
 
g‘Sequ’ûBufãrInU£
(è{  
	gs_Sequ’ûBufãrInU£
; }

280 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
£ndRawSequ’ûBufãr
(
ušt16_t
 
by‹sToS’d
) {

281 
	gmWa™
.
wa™
();

282 
¡¬tPwmPÏyback
(
by‹sToS’d
);

284 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
£ndRawBy‹s
(
ušt8_t
 * 
¬¿yOfBy‹s
, 
ušt16_t
 
by‹sToS’d
) {

286 
	gs_Sequ’ûBufãrInU£
 != 0);

288 
	gs_Sequ’ûBufãrV®idEËm’ts
 = 0;

289 
št32_t
 
	g»maššgSequ’ûEËm’ts
 = 
_PWM_BUFFER_COUNT
;

290 
ušt16_t
 * 
	ge
 = 
s_Sequ’ûBufãr
;

291 
ušt8_t
 * 
	gÃxtBy‹
 = 
¬¿yOfBy‹s
;

292 
ušt16_t
 
	gby‹sRemaš
 = 
by‹sToS’d
;

293 (
	g»maššgSequ’ûEËm’ts
 >ğ8è&& (
by‹sRemaš
 > 0);

294 --
	gby‹sRemaš
,

295 
	g»maššgSequ’ûEËm’ts
 -= 8,

296 
	gs_Sequ’ûBufãrV®idEËm’ts
 += 8

298 
ušt8_t
 
b
 = *
ÃxtBy‹
;

299 
	gWr™eB™ToSequ’û
<7,
	gçl£
>(
	gb
, 
	ge
); ++e;

300 
	gWr™eB™ToSequ’û
<6,
	gçl£
>(
	gb
, 
	ge
); ++e;

301 
	gWr™eB™ToSequ’û
<5,
	gçl£
>(
	gb
, 
	ge
); ++e;

302 
	gWr™eB™ToSequ’û
<4,
	gçl£
>(
	gb
, 
	ge
); ++e;

303 
	gWr™eB™ToSequ’û
<3,
	gçl£
>(
	gb
, 
	ge
); ++e;

304 
	gWr™eB™ToSequ’û
<2,
	gçl£
>(
	gb
, 
	ge
); ++e;

305 
	gWr™eB™ToSequ’û
<1,
	gçl£
>(
	gb
, 
	ge
); ++e;

306 
	gWr™eB™ToSequ’û
<0,
	gçl£
>(
	gb
, 
	ge
); ++e;

307 ià(
	g_XTRA0
 > 0) {

308 
	gi
 = 0; i < 
	g_XTRA0
; ++i) {

309 
	gWr™eB™ToSequ’û
<0,
	g_FLIP
>(0,
	ge
); ++e;

313 
	gmWa™
.
wa™
();

315 
¡¬tPwmPÏyback
(
s_Sequ’ûBufãrV®idEËm’ts
);

321 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
EOrd”
 
	g_RGB_ORDER
, 
	g_XTRA0
, 
boŞ
 
	g_FLIP
, 
	g_WAIT_TIME_MICROSECONDS
>

322 
ušt16_t
 
	gClockËssCÚŒŞËr
<
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
	g_RGB_ORDER
, 
	g_XTRA0
, 
	g_FLIP
, 
	g_WAIT_TIME_MICROSECONDS
>::
s_Sequ’ûBufãrV®idEËm’ts
 = 0;

323 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
EOrd”
 
	g_RGB_ORDER
, 
	g_XTRA0
, 
boŞ
 
	g_FLIP
, 
	g_WAIT_TIME_MICROSECONDS
>

324 
ušt32_t
 vŞ©
	gClockËssCÚŒŞËr
<
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
	g_RGB_ORDER
, 
	g_XTRA0
, 
	g_FLIP
, 
	g_WAIT_TIME_MICROSECONDS
>::
s_Sequ’ûBufãrInU£
 = 0;

325 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
EOrd”
 
	g_RGB_ORDER
, 
	g_XTRA0
, 
boŞ
 
	g_FLIP
, 
	g_WAIT_TIME_MICROSECONDS
>

326 
ušt16_t
 
	gClockËssCÚŒŞËr
<
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
	g_RGB_ORDER
, 
	g_XTRA0
, 
	g_FLIP
, 
	g_WAIT_TIME_MICROSECONDS
>::
s_Sequ’ûBufãr
[
_PWM_BUFFER_COUNT
];

327 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
EOrd”
 
	g_RGB_ORDER
, 
	g_XTRA0
, 
boŞ
 
	g_FLIP
, 
	g_WAIT_TIME_MICROSECONDS
>

328 
	gCMšWa™
<
	g_WAIT_TIME_MICROSECONDS
> 
	gClockËssCÚŒŞËr
<
	g_DATA_PIN
, 
	g_T1
, 
	g_T2
, 
	g_T3
, 
	g_RGB_ORDER
, 
	g_XTRA0
, 
	g_FLIP
, _WAIT_TIME_MICROSECONDS>::
mWa™
;

	@src/platforms/arm/nrf52/fastled_arm_nrf52.h

1 #iâdeà
__INC_FASTLED_ARM_NRF52_H


2 
	#__INC_FASTLED_ARM_NRF52_H


	)

4 
	~"Ëd_sysdefs_¬m_Äf52.h
"

5 
	~"¬b™”_Äf52.h
"

6 
	~"ç¡pš_¬m_Äf52.h
"

7 
	~"ç¡¥i_¬m_Äf52.h
"

8 
	~"şockËss_¬m_Äf52.h
"

	@src/platforms/arm/nrf52/fastpin_arm_nrf52.h

1 #iâdeà
__FASTPIN_ARM_NRF52_H


2 
	#__FASTPIN_ARM_NRF52_H


	)

75 
	s__g’”©ed_¡ruù_NRF_P0
 {

76 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
cÚ¡ex´
 
ušŒ_t
 
r
() {

77  
	mNRF_P0_BASE
;

81 #ià
defšed
(
NRF_P1_BASE
)

82 
	s__g’”©ed_¡ruù_NRF_P1
 {

83 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
cÚ¡ex´
 
ušŒ_t
 
r
() {

84  
	mNRF_P1_BASE
;

91 
	g‹m¶©e
 <
ušt32_t
 
	g_MASK
, 
ty³Çme
 
	g_PORT
, 
ušt8_t
 
	g_PORT_NUMBER
, ušt8_ˆ
	g_PIN_NUMBER
> cÏs 
	c_ARMPIN
 {

92 
	mpublic
:

93 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

94 
ušt32_t
 
	tpÜt_t
;

96 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$£tOuut
() {

98 
	`Äf_gpio_cfg
(

99 
	`Äf_pš
(),

100 
NRF_GPIO_PIN_DIR_OUTPUT
,

101 
NRF_GPIO_PIN_INPUT_DISCONNECT
,

102 
NRF_GPIO_PIN_NOPULL
,

103 
NRF_GPIO_PIN_H0H1
,

104 
NRF_GPIO_PIN_NOSENSE


107 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$£tIÅut
() {

109 
	`Äf_gpio_cfg
(

110 
	`Äf_pš
(),

111 
NRF_GPIO_PIN_DIR_INPUT
,

112 
NRF_GPIO_PIN_INPUT_DISCONNECT
,

113 
NRF_GPIO_PIN_NOPULL
,

114 
NRF_GPIO_PIN_H0H1
,

115 
NRF_GPIO_PIN_NOSENSE


117 
	}
}

118 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$hi
(è{ (
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUTSET
 = 
_MASK
; 
	}
}

119 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$lo
(è{ (
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUTCLR
 = 
_MASK
; 
	}
}

120 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$toggË
(è{ (
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUT
 ^ğ
_MASK
; 
	}
}

121 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$¡robe
(è{ 
	`toggË
();oggË(); 
	}
}

122 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
pÜt_t
 
	$hiv®
(è{  (
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUT
 | 
_MASK
; 
	}
}

123 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
pÜt_t
 
	$lov®
(è{  (
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUT
 & ~
_MASK
; 
	}
}

124 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
pÜt_±r_t
 
	$pÜt
(è{  &((
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUT
); 
	}
}

125 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
pÜt_±r_t
 
	$ıÜt
(è{  &((
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUTCLR
); 
	}
}

126 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
pÜt_±r_t
 
	$¥Üt
(è{  &((
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUTSET
); 
	}
}

127 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
pÜt_t
 
	$mask
(è{  
_MASK
; 
	}
}

128 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$hi
 (
pÜt_±r_t
 
pÜt
è{ 
	`hi
(); 
	}
}

129 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$lo
 (
pÜt_±r_t
 
pÜt
è{ 
	`lo
(); 
	}
}

130 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$£t
(
pÜt_t
 
v®
 ) { (
»š‹½»t_ÿ¡
<
NRF_GPIO_Ty³
*>(
_PORT
::
	`r
()))->
OUT
 = v®; 
	}
}

131 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è{ *pÜˆğv®; 
	}
}

132 
cÚ¡ex´
 
ušt32_t
 
	$Äf_pš2
(è{  
	`NRF_GPIO_PIN_MAP
(
_PORT_NUMBER
, 
_PIN_NUMBER
); 
	}
}

133 
cÚ¡ex´
 
boŞ
 
	$LowS³edOÆyRecomm’ded
() {

136  
çl£
;

137 
	}
}

140 
FASTLED_NRF52_INLINE_ATTRIBUTE
 
ušt32_t
 
	$Äf_pš
(è{  
	`NRF_GPIO_PIN_MAP
(
_PORT_NUMBER
, 
_PIN_NUMBER
); 
	}
}

155 
	#_FL_DEFPIN
(
ARDUINO_PIN
, 
BOARD_PIN
, 
BOARD_PORT
) \

156 
‹m¶©e
<> 
şass
 
Fa¡Pš
<
ARDUINO_PIN
> : \

157 
public
 
_ARMPIN
< \

158 1u << (
BOARD_PIN
 & 31u), \

159 
__g’”©ed_¡ruù_NRF_P
 ## 
BOARD_PORT
, \

160 (
BOARD_PIN
 / 32), \

161 
BOARD_PIN
 & 31u \

163 {}

	)

165 
	#_DEFPIN_ARM_IDENTITY_P0
(
ARDUINO_PIN
) \

166 
‹m¶©e
<> 
şass
 
Fa¡Pš
<
ARDUINO_PIN
> : \

167 
public
 
_ARMPIN
< \

168 1u << (
ARDUINO_PIN
 & 31u), \

169 
__g’”©ed_¡ruù_NRF_P0
, \

171 (
ARDUINO_PIN
 & 31u) + 0 \

173 {}

	)

175 
	#_DEFPIN_ARM_IDENTITY_P1
(
ARDUINO_PIN
) \

176 
‹m¶©e
<> 
şass
 
Fa¡Pš
<
ARDUINO_PIN
> : \

177 
public
 
_ARMPIN
< \

178 1u << (
ARDUINO_PIN
 & 31u), \

179 
__g’”©ed_¡ruù_NRF_P1
, \

181 (
ARDUINO_PIN
 & 31u) + 32 \

183 {}

	)

186 
	~"ç¡pš_¬m_Äf52_v¬ŸÁs.h
"

188 
	#HAS_HARDWARE_PIN_SUPPORT


	)

	@src/platforms/arm/nrf52/fastpin_arm_nrf52_variants.h

1 #iâdeà
__FASTPIN_ARM_NRF52_VARIANTS_H


2 
	#__FASTPIN_ARM_NRF52_VARIANTS_H


	)

5 #undeà
__FASTPIN_ARM_NRF52_VARIANT_FOUND


9 #ià
defšed
 (
ARDUINO_NRF52832_FEATHER
)

10 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

13 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

15 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

18 
_DEFPIN_ARM_IDENTITY_P0
( 0);

19 
_DEFPIN_ARM_IDENTITY_P0
( 1);

20 
_DEFPIN_ARM_IDENTITY_P0
( 2);

21 
_DEFPIN_ARM_IDENTITY_P0
( 3);

22 
_DEFPIN_ARM_IDENTITY_P0
( 4);

23 
_DEFPIN_ARM_IDENTITY_P0
( 5);

24 
_DEFPIN_ARM_IDENTITY_P0
( 6);

25 
_DEFPIN_ARM_IDENTITY_P0
( 7);

26 
_DEFPIN_ARM_IDENTITY_P0
( 8);

27 
_DEFPIN_ARM_IDENTITY_P0
( 9);

28 
_DEFPIN_ARM_IDENTITY_P0
(10);

29 
_DEFPIN_ARM_IDENTITY_P0
(11);

30 
_DEFPIN_ARM_IDENTITY_P0
(12);

31 
_DEFPIN_ARM_IDENTITY_P0
(13);

32 
_DEFPIN_ARM_IDENTITY_P0
(14);

33 
_DEFPIN_ARM_IDENTITY_P0
(15);

34 
_DEFPIN_ARM_IDENTITY_P0
(16);

35 
_DEFPIN_ARM_IDENTITY_P0
(17);

36 
_DEFPIN_ARM_IDENTITY_P0
(18);

37 
_DEFPIN_ARM_IDENTITY_P0
(19);

38 
_DEFPIN_ARM_IDENTITY_P0
(20);

43 
_DEFPIN_ARM_IDENTITY_P0
(25);

44 
_DEFPIN_ARM_IDENTITY_P0
(26);

45 
_DEFPIN_ARM_IDENTITY_P0
(27);

46 
_DEFPIN_ARM_IDENTITY_P0
(28);

47 
_DEFPIN_ARM_IDENTITY_P0
(29);

48 
_DEFPIN_ARM_IDENTITY_P0
(30);

49 
_DEFPIN_ARM_IDENTITY_P0
(31);

54 #ià
defšed
 (
ARDUINO_NRF52840_CIRCUITPLAY
)

55 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

58 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

66 
_FL_DEFPIN
( 8, 13, 0);

77 
_FL_DEFPIN
(15, 2, 0);

78 
_FL_DEFPIN
(16, 29, 0);

79 
_FL_DEFPIN
(17, 3, 0);

80 
_FL_DEFPIN
(18, 4, 0);

81 
_FL_DEFPIN
(19, 5, 0);

82 
_FL_DEFPIN
(20, 30, 0);

83 
_FL_DEFPIN
(21, 14, 0);

89 #ià
defšed
 (
ARDUINO_NRF52840_FEATHER
)

90 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

93 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

97 
_FL_DEFPIN
( 0, 25, 0);

99 
_FL_DEFPIN
( 2, 10, 0);

100 
_FL_DEFPIN
( 3, 47, 1);

101 
_FL_DEFPIN
( 4, 42, 1);

102 
_FL_DEFPIN
( 5, 40, 1);

103 
_FL_DEFPIN
( 6, 7, 0);

104 
_FL_DEFPIN
( 7, 34, 1);

107 
_FL_DEFPIN
( 8, 16, 0);

108 
_FL_DEFPIN
( 9, 26, 0);

109 
_FL_DEFPIN
(10, 27, 0);

110 
_FL_DEFPIN
(11, 6, 0);

111 
_FL_DEFPIN
(12, 8, 0);

112 
_FL_DEFPIN
(13, 41, 1);

113 
_FL_DEFPIN
(14, 4, 0);

114 
_FL_DEFPIN
(15, 5, 0);

117 
_FL_DEFPIN
(16, 30, 0);

118 
_FL_DEFPIN
(17, 28, 0);

119 
_FL_DEFPIN
(18, 2, 0);

120 
_FL_DEFPIN
(19, 3, 0);

123 
_FL_DEFPIN
(22, 12, 0);

124 
_FL_DEFPIN
(23, 11, 0);

127 
_FL_DEFPIN
(24, 15, 0);

128 
_FL_DEFPIN
(25, 13, 0);

129 
_FL_DEFPIN
(26, 14, 0);

143 #ià
defšed
 (
ARDUINO_NRF52840_METRO
)

144 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

147 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

149 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

152 
_FL_DEFPIN
( 0, 25, 0);

153 
_FL_DEFPIN
( 1, 24, 0);

154 
_FL_DEFPIN
( 2, 10, 1);

155 
_FL_DEFPIN
( 3, 4, 1);

156 
_FL_DEFPIN
( 4, 11, 1);

157 
_FL_DEFPIN
( 5, 12, 1);

158 
_FL_DEFPIN
( 6, 14, 1);

159 
_FL_DEFPIN
( 7, 26, 0);

160 
_FL_DEFPIN
( 8, 27, 0);

161 
_FL_DEFPIN
( 9, 12, 0);

162 
_FL_DEFPIN
(10, 6, 0);

163 
_FL_DEFPIN
(11, 8, 0);

164 
_FL_DEFPIN
(12, 9, 1);

165 
_FL_DEFPIN
(13, 14, 0);

166 
_FL_DEFPIN
(14, 4, 0);

167 
_FL_DEFPIN
(15, 5, 0);

168 
_FL_DEFPIN
(16, 28, 0);

169 
_FL_DEFPIN
(17, 30, 0);

170 
_FL_DEFPIN
(18, 2, 0);

171 
_FL_DEFPIN
(19, 3, 0);

172 
_FL_DEFPIN
(20, 29, 0);

173 
_FL_DEFPIN
(21, 31, 0);

174 
_FL_DEFPIN
(22, 15, 0);

175 
_FL_DEFPIN
(23, 16, 0);

176 
_FL_DEFPIN
(24, 11, 0);

177 
_FL_DEFPIN
(25, 8, 1);

178 
_FL_DEFPIN
(26, 7, 0);

185 
_FL_DEFPIN
(33, 13, 1);

186 
_FL_DEFPIN
(34, 15, 1);

187 
_FL_DEFPIN
(35, 13, 0);

188 
_FL_DEFPIN
(36, 0, 1);

189 
_FL_DEFPIN
(37, 0, 1);

190 
_FL_DEFPIN
(38, 9, 0);

191 
_FL_DEFPIN
(39, 10, 0);

196 #ià
defšed
 (
ARDUINO_NRF52840_PCA10056
)

197 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

200 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

203 #ià
defšed
(
USE_ARDUINO_PIN_NUMBERING
)

205 #–ià
defšed
(
FASTLED_NRF52_USE_ARDUINO_UNO_R3_HEADER_PIN_NUMBERING
)

209 
_FL_DEFPIN
( 0, 1, 1);

210 
_FL_DEFPIN
( 1, 2, 1);

211 
_FL_DEFPIN
( 2, 3, 1);

212 
_FL_DEFPIN
( 3, 4, 1);

213 
_FL_DEFPIN
( 4, 5, 1);

214 
_FL_DEFPIN
( 5, 6, 1);

215 
_FL_DEFPIN
( 6, 7, 1);

216 
_FL_DEFPIN
( 7, 8, 1);

217 
_FL_DEFPIN
( 8, 10, 1);

218 
_FL_DEFPIN
( 9, 11, 1);

219 
_FL_DEFPIN
(10, 12, 1);

220 
_FL_DEFPIN
(11, 13, 1);

221 
_FL_DEFPIN
(12, 14, 1);

222 
_FL_DEFPIN
(13, 15, 1);

225 
_FL_DEFPIN
(14, 3, 0);

226 
_FL_DEFPIN
(15, 4, 0);

227 
_FL_DEFPIN
(16, 28, 0);

228 
_FL_DEFPIN
(17, 29, 0);

232 #–ià
defšed
(
FASTLED_NRF52_USE_ARDUINO_MEGA_2560_REV3_HEADER_PIN_NUMBERING
)

236 
_FL_DEFPIN
( 0, 1, 1);

237 
_FL_DEFPIN
( 1, 2, 1);

238 
_FL_DEFPIN
( 2, 3, 1);

239 
_FL_DEFPIN
( 3, 4, 1);

240 
_FL_DEFPIN
( 4, 5, 1);

241 
_FL_DEFPIN
( 5, 6, 1);

242 
_FL_DEFPIN
( 6, 7, 1);

243 
_FL_DEFPIN
( 7, 8, 1);

244 
_FL_DEFPIN
( 8, 10, 1);

245 
_FL_DEFPIN
( 9, 11, 1);

246 
_FL_DEFPIN
(10, 12, 1);

247 
_FL_DEFPIN
(11, 13, 1);

248 
_FL_DEFPIN
(12, 14, 1);

249 
_FL_DEFPIN
(13, 15, 1);

252 
_FL_DEFPIN
(14, 10, 0);

253 
_FL_DEFPIN
(15, 9, 0);

254 
_FL_DEFPIN
(16, 8, 0);

255 
_FL_DEFPIN
(17, 7, 0);

256 
_FL_DEFPIN
(18, 6, 0);

257 
_FL_DEFPIN
(19, 5, 0);

264 
_FL_DEFPIN
(22, 11, 0);

265 
_FL_DEFPIN
(23, 12, 0);

266 
_FL_DEFPIN
(24, 13, 0);

267 
_FL_DEFPIN
(25, 14, 0);

268 
_FL_DEFPIN
(26, 15, 0);

269 
_FL_DEFPIN
(27, 16, 0);

277 
_FL_DEFPIN
(35, 24, 0);

278 
_FL_DEFPIN
(36, 25, 0);

279 
_FL_DEFPIN
(37, 0, 1);

280 
_FL_DEFPIN
(38, 9, 1);

287 
_FL_DEFPIN
(54, 3, 0);

288 
_FL_DEFPIN
(55, 4, 0);

289 
_FL_DEFPIN
(56, 28, 0);

290 
_FL_DEFPIN
(57, 29, 0);

291 
_FL_DEFPIN
(58, 30, 0);

292 
_FL_DEFPIN
(59, 31, 0);

296 
_DEFPIN_ARM_IDENTITY_P0
( 0);

297 
_DEFPIN_ARM_IDENTITY_P0
( 1);

298 
_DEFPIN_ARM_IDENTITY_P0
( 2);

299 
_DEFPIN_ARM_IDENTITY_P0
( 3);

300 
_DEFPIN_ARM_IDENTITY_P0
( 4);

301 
_DEFPIN_ARM_IDENTITY_P0
( 5);

302 
_DEFPIN_ARM_IDENTITY_P0
( 6);

303 
_DEFPIN_ARM_IDENTITY_P0
( 7);

304 
_DEFPIN_ARM_IDENTITY_P0
( 8);

305 
_DEFPIN_ARM_IDENTITY_P0
( 9);

306 
_DEFPIN_ARM_IDENTITY_P0
(10);

307 
_DEFPIN_ARM_IDENTITY_P0
(11);

308 
_DEFPIN_ARM_IDENTITY_P0
(12);

309 
_DEFPIN_ARM_IDENTITY_P0
(13);

310 
_DEFPIN_ARM_IDENTITY_P0
(14);

311 
_DEFPIN_ARM_IDENTITY_P0
(15);

312 
_DEFPIN_ARM_IDENTITY_P0
(16);

320 
_DEFPIN_ARM_IDENTITY_P0
(24);

321 
_DEFPIN_ARM_IDENTITY_P0
(25);

322 
_DEFPIN_ARM_IDENTITY_P0
(26);

323 
_DEFPIN_ARM_IDENTITY_P0
(27);

324 
_DEFPIN_ARM_IDENTITY_P0
(28);

325 
_DEFPIN_ARM_IDENTITY_P0
(29);

326 
_DEFPIN_ARM_IDENTITY_P0
(30);

327 
_DEFPIN_ARM_IDENTITY_P0
(31);

328 
_DEFPIN_ARM_IDENTITY_P0
(32);

329 
_DEFPIN_ARM_IDENTITY_P0
(33);

330 
_DEFPIN_ARM_IDENTITY_P0
(34);

331 
_DEFPIN_ARM_IDENTITY_P0
(35);

332 
_DEFPIN_ARM_IDENTITY_P0
(36);

333 
_DEFPIN_ARM_IDENTITY_P0
(37);

334 
_DEFPIN_ARM_IDENTITY_P0
(38);

335 
_DEFPIN_ARM_IDENTITY_P0
(39);

336 
_DEFPIN_ARM_IDENTITY_P0
(40);

337 
_DEFPIN_ARM_IDENTITY_P0
(41);

338 
_DEFPIN_ARM_IDENTITY_P0
(42);

339 
_DEFPIN_ARM_IDENTITY_P0
(43);

340 
_DEFPIN_ARM_IDENTITY_P0
(44);

341 
_DEFPIN_ARM_IDENTITY_P0
(45);

342 
_DEFPIN_ARM_IDENTITY_P0
(46);

343 
_DEFPIN_ARM_IDENTITY_P0
(47);

349 #ià
defšed
 (
ARDUINO_NRF52_ITSYBITSY
)

350 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

353 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

355 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

360 
_FL_DEFPIN
( 0, 25, 0);

361 
_FL_DEFPIN
( 1, 24, 0);

362 
_FL_DEFPIN
( 2, 2, 1);

363 
_FL_DEFPIN
( 3, 6, 0);

364 
_FL_DEFPIN
( 4, 29, 0);

365 
_FL_DEFPIN
( 5, 27, 0);

366 
_FL_DEFPIN
( 6, 9, 1);

367 
_FL_DEFPIN
( 7, 8, 1);

368 
_FL_DEFPIN
( 8, 8, 0);

369 
_FL_DEFPIN
( 9, 7, 0);

370 
_FL_DEFPIN
(10, 5, 0);

371 
_FL_DEFPIN
(11, 26, 0);

372 
_FL_DEFPIN
(12, 11, 0);

373 
_FL_DEFPIN
(13, 12, 0);

376 
_FL_DEFPIN
(14, 4, 0);

377 
_FL_DEFPIN
(15, 30, 0);

378 
_FL_DEFPIN
(16, 28, 0);

379 
_FL_DEFPIN
(17, 31, 0);

380 
_FL_DEFPIN
(18, 2, 0);

381 
_FL_DEFPIN
(19, 3, 0);

382 
_FL_DEFPIN
(20, 5, 0);

385 
_FL_DEFPIN
(21, 16, 0);

386 
_FL_DEFPIN
(22, 14, 0);

389 
_FL_DEFPIN
(23, 20, 0);

390 
_FL_DEFPIN
(24, 15, 0);

391 
_FL_DEFPIN
(25, 13, 0);

394 
_FL_DEFPIN
(26, 19, 0);

395 
_FL_DEFPIN
(27, 23, 0);

396 
_FL_DEFPIN
(28, 21, 0);

397 
_FL_DEFPIN
(29, 22, 0);

398 
_FL_DEFPIN
(30, 0, 1);

399 
_FL_DEFPIN
(31, 17, 0);

405 #ià
defšed
(
ARDUINO_ELECTRONUT_BLUEY
)

406 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

409 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

411 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

414 
_FL_DEFPIN
( 0, 26, 0);

415 
_FL_DEFPIN
( 1, 27, 0);

416 
_FL_DEFPIN
( 2, 22, 0);

417 
_FL_DEFPIN
( 3, 23, 0);

418 
_FL_DEFPIN
( 4, 24, 0);

419 
_FL_DEFPIN
( 5, 25, 0);

420 
_FL_DEFPIN
( 6, 16, 0);

421 
_FL_DEFPIN
( 7, 19, 0);

422 
_FL_DEFPIN
( 8, 18, 0);

423 
_FL_DEFPIN
( 9, 17, 0);

424 
_FL_DEFPIN
(10, 11, 0);

425 
_FL_DEFPIN
(11, 12, 0);

426 
_FL_DEFPIN
(12, 13, 0);

427 
_FL_DEFPIN
(13, 14, 0);

428 
_FL_DEFPIN
(14, 15, 0);

429 
_FL_DEFPIN
(15, 20, 0);

430 
_FL_DEFPIN
(16, 2, 0);

431 
_FL_DEFPIN
(17, 3, 0);

432 
_FL_DEFPIN
(18, 4, 0);

433 
_FL_DEFPIN
(19, 24, 0);

434 
_FL_DEFPIN
(20, 29, 0);

435 
_FL_DEFPIN
(21, 30, 0);

436 
_FL_DEFPIN
(22, 31, 0);

437 
_FL_DEFPIN
(23, 8, 0);

438 
_FL_DEFPIN
(24, 6, 0);

439 
_FL_DEFPIN
(25, 5, 0);

440 
_FL_DEFPIN
(26, 7, 0);

445 #ià
defšed
(
ARDUINO_ELECTRONUT_HACKABLE
)

446 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

449 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

451 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

454 
_FL_DEFPIN
( 0, 14, 0);

455 
_FL_DEFPIN
( 1, 13, 0);

456 
_FL_DEFPIN
( 2, 12, 0);

457 
_FL_DEFPIN
( 3, 11, 0);

458 
_FL_DEFPIN
( 4, 8, 0);

459 
_FL_DEFPIN
( 5, 7, 0);

460 
_FL_DEFPIN
( 6, 6, 0);

461 
_FL_DEFPIN
( 7, 27, 0);

462 
_FL_DEFPIN
( 8, 26, 0);

463 
_FL_DEFPIN
( 9, 25, 0);

464 
_FL_DEFPIN
(10, 5, 0);

465 
_FL_DEFPIN
(11, 4, 0);

466 
_FL_DEFPIN
(12, 3, 0);

467 
_FL_DEFPIN
(13, 2, 0);

468 
_FL_DEFPIN
(14, 23, 0);

469 
_FL_DEFPIN
(15, 22, 0);

470 
_FL_DEFPIN
(16, 18, 0);

471 
_FL_DEFPIN
(17, 16, 0);

472 
_FL_DEFPIN
(18, 15, 0);

473 
_FL_DEFPIN
(19, 24, 0);

474 
_FL_DEFPIN
(20, 28, 0);

475 
_FL_DEFPIN
(21, 29, 0);

476 
_FL_DEFPIN
(22, 30, 0);

477 
_FL_DEFPIN
(23, 31, 0);

478 
_FL_DEFPIN
(24, 19, 0);

479 
_FL_DEFPIN
(25, 20, 0);

480 
_FL_DEFPIN
(26, 17, 0);

486 #ià
defšed
(
ARDUINO_ELECTRONUT_hackaBLE_v2
)

487 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

490 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

492 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

495 
_DEFPIN_ARM_IDENTITY_P0
( 0);

496 
_DEFPIN_ARM_IDENTITY_P0
( 1);

497 
_DEFPIN_ARM_IDENTITY_P0
( 2);

498 
_DEFPIN_ARM_IDENTITY_P0
( 3);

499 
_DEFPIN_ARM_IDENTITY_P0
( 4);

500 
_DEFPIN_ARM_IDENTITY_P0
( 5);

501 
_DEFPIN_ARM_IDENTITY_P0
( 6);

502 
_DEFPIN_ARM_IDENTITY_P0
( 7);

503 
_DEFPIN_ARM_IDENTITY_P0
( 8);

504 
_DEFPIN_ARM_IDENTITY_P0
( 9);

505 
_DEFPIN_ARM_IDENTITY_P0
(10);

506 
_DEFPIN_ARM_IDENTITY_P0
(11);

507 
_DEFPIN_ARM_IDENTITY_P0
(12);

508 
_DEFPIN_ARM_IDENTITY_P0
(13);

509 
_DEFPIN_ARM_IDENTITY_P0
(14);

510 
_DEFPIN_ARM_IDENTITY_P0
(15);

511 
_DEFPIN_ARM_IDENTITY_P0
(16);

512 
_DEFPIN_ARM_IDENTITY_P0
(17);

513 
_DEFPIN_ARM_IDENTITY_P0
(18);

514 
_DEFPIN_ARM_IDENTITY_P0
(19);

515 
_DEFPIN_ARM_IDENTITY_P0
(20);

517 
_DEFPIN_ARM_IDENTITY_P0
(22);

518 
_DEFPIN_ARM_IDENTITY_P0
(23);

519 
_DEFPIN_ARM_IDENTITY_P0
(24);

520 
_DEFPIN_ARM_IDENTITY_P0
(25);

521 
_DEFPIN_ARM_IDENTITY_P0
(26);

522 
_DEFPIN_ARM_IDENTITY_P0
(27);

523 
_DEFPIN_ARM_IDENTITY_P0
(28);

524 
_DEFPIN_ARM_IDENTITY_P0
(29);

525 
_DEFPIN_ARM_IDENTITY_P0
(30);

526 
_DEFPIN_ARM_IDENTITY_P0
(31);

531 #ià
defšed
(
ARDUINO_RB_BLEND_2
)

532 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

535 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

537 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

540 
_FL_DEFPIN
( 0, 11, 0);

541 
_FL_DEFPIN
( 1, 12, 0);

542 
_FL_DEFPIN
( 2, 13, 0);

543 
_FL_DEFPIN
( 3, 14, 0);

544 
_FL_DEFPIN
( 4, 15, 0);

545 
_FL_DEFPIN
( 5, 16, 0);

546 
_FL_DEFPIN
( 6, 17, 0);

547 
_FL_DEFPIN
( 7, 18, 0);

548 
_FL_DEFPIN
( 8, 19, 0);

549 
_FL_DEFPIN
( 9, 20, 0);

550 
_FL_DEFPIN
(10, 22, 0);

551 
_FL_DEFPIN
(11, 23, 0);

552 
_FL_DEFPIN
(12, 24, 0);

553 
_FL_DEFPIN
(13, 25, 0);

554 
_FL_DEFPIN
(14, 3, 0);

555 
_FL_DEFPIN
(15, 4, 0);

556 
_FL_DEFPIN
(16, 28, 0);

557 
_FL_DEFPIN
(17, 29, 0);

558 
_FL_DEFPIN
(18, 30, 0);

559 
_FL_DEFPIN
(19, 31, 0);

560 
_FL_DEFPIN
(20, 26, 0);

561 
_FL_DEFPIN
(21, 27, 0);

562 
_FL_DEFPIN
(22, 8, 0);

563 
_FL_DEFPIN
(23, 6, 0);

564 
_FL_DEFPIN
(24, 2, 0);

569 #ià
defšed
(
ARDUINO_RB_BLE_NANO_2
)

570 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

573 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

575 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

578 
_FL_DEFPIN
( 0, 30, 0);

579 
_FL_DEFPIN
( 1, 29, 0);

580 
_FL_DEFPIN
( 2, 28, 0);

581 
_FL_DEFPIN
( 3, 2, 0);

582 
_FL_DEFPIN
( 4, 5, 0);

583 
_FL_DEFPIN
( 5, 4, 0);

584 
_FL_DEFPIN
( 6, 3, 0);

585 
_FL_DEFPIN
( 7, 6, 0);

586 
_FL_DEFPIN
( 8, 7, 0);

587 
_FL_DEFPIN
( 9, 8, 0);

589 
_FL_DEFPIN
(13, 11, 0);

594 #ià
defšed
(
ARDUINO_NRF52_DK
)

595 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

598 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

600 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

603 
_FL_DEFPIN
( 0, 11, 0);

604 
_FL_DEFPIN
( 1, 12, 0);

605 
_FL_DEFPIN
( 2, 13, 0);

606 
_FL_DEFPIN
( 3, 14, 0);

607 
_FL_DEFPIN
( 4, 15, 0);

608 
_FL_DEFPIN
( 5, 16, 0);

609 
_FL_DEFPIN
( 6, 17, 0);

610 
_FL_DEFPIN
( 7, 18, 0);

611 
_FL_DEFPIN
( 8, 19, 0);

612 
_FL_DEFPIN
( 9, 20, 0);

613 
_FL_DEFPIN
(10, 22, 0);

614 
_FL_DEFPIN
(11, 23, 0);

615 
_FL_DEFPIN
(12, 24, 0);

616 
_FL_DEFPIN
(13, 25, 0);

617 
_FL_DEFPIN
(14, 3, 0);

618 
_FL_DEFPIN
(15, 4, 0);

619 
_FL_DEFPIN
(16, 28, 0);

620 
_FL_DEFPIN
(17, 29, 0);

621 
_FL_DEFPIN
(18, 30, 0);

622 
_FL_DEFPIN
(19, 31, 0);

623 
_FL_DEFPIN
(20, 5, 0);

624 
_FL_DEFPIN
(21, 2, 0);

625 
_FL_DEFPIN
(22, 26, 0);

626 
_FL_DEFPIN
(23, 27, 0);

627 
_FL_DEFPIN
(24, 8, 0);

628 
_FL_DEFPIN
(25, 6, 0);

633 #ià
defšed
(
ARDUINO_STCT_NRF52_mšidev
)

634 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

637 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

639 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

649 
_FL_DEFPIN
( 7, 2, 0);

650 
_FL_DEFPIN
( 8, 3, 0);

651 
_FL_DEFPIN
( 9, 4, 0);

652 
_FL_DEFPIN
(10, 5, 0);

655 
_FL_DEFPIN
(13, 6, 0);

656 
_FL_DEFPIN
(14, 7, 0);

657 
_FL_DEFPIN
(15, 8, 0);

660 
_FL_DEFPIN
(18, 11, 0);

661 
_FL_DEFPIN
(19, 12, 0);

662 
_FL_DEFPIN
(20, 13, 0);

663 
_FL_DEFPIN
(21, 14, 0);

664 
_FL_DEFPIN
(22, 15, 0);

665 
_FL_DEFPIN
(23, 16, 0);

666 
_FL_DEFPIN
(24, 17, 0);

667 
_FL_DEFPIN
(25, 18, 0);

668 
_FL_DEFPIN
(26, 19, 0);

669 
_FL_DEFPIN
(27, 20, 0);

672 
_FL_DEFPIN
(30, 24, 0);

678 #ià
defšed
(
ARDUINO_GENERIC
è&& ( defšed(
NRF52832_XXAA
è|| defšed(
NRF52832_XXAB
) )

679 #ià
defšed
(
__FASTPIN_ARM_NRF52_VARIANT_FOUND
)

682 
	#__FASTPIN_ARM_NRF52_VARIANT_FOUND


	)

684 #ià!
defšed
(
FASTLED_NRF52_SUPPRESS_UNTESTED_BOARD_WARNING
)

688 
_DEFPIN_ARM_IDENTITY_P0
( 0);

689 
_DEFPIN_ARM_IDENTITY_P0
( 1);

690 
_DEFPIN_ARM_IDENTITY_P0
( 2);

691 
_DEFPIN_ARM_IDENTITY_P0
( 3);

692 
_DEFPIN_ARM_IDENTITY_P0
( 4);

693 
_DEFPIN_ARM_IDENTITY_P0
( 5);

694 
_DEFPIN_ARM_IDENTITY_P0
( 6);

695 
_DEFPIN_ARM_IDENTITY_P0
( 7);

696 
_DEFPIN_ARM_IDENTITY_P0
( 8);

697 
_DEFPIN_ARM_IDENTITY_P0
( 9);

698 
_DEFPIN_ARM_IDENTITY_P0
(10);

699 
_DEFPIN_ARM_IDENTITY_P0
(11);

700 
_DEFPIN_ARM_IDENTITY_P0
(12);

701 
_DEFPIN_ARM_IDENTITY_P0
(13);

702 
_DEFPIN_ARM_IDENTITY_P0
(14);

703 
_DEFPIN_ARM_IDENTITY_P0
(15);

704 
_DEFPIN_ARM_IDENTITY_P0
(16);

705 
_DEFPIN_ARM_IDENTITY_P0
(17);

706 
_DEFPIN_ARM_IDENTITY_P0
(18);

707 
_DEFPIN_ARM_IDENTITY_P0
(19);

708 
_DEFPIN_ARM_IDENTITY_P0
(20);

709 
_DEFPIN_ARM_IDENTITY_P0
(21);

710 
_DEFPIN_ARM_IDENTITY_P0
(22);

711 
_DEFPIN_ARM_IDENTITY_P0
(23);

712 
_DEFPIN_ARM_IDENTITY_P0
(24);

713 
_DEFPIN_ARM_IDENTITY_P0
(25);

714 
_DEFPIN_ARM_IDENTITY_P0
(26);

715 
_DEFPIN_ARM_IDENTITY_P0
(27);

716 
_DEFPIN_ARM_IDENTITY_P0
(28);

717 
_DEFPIN_ARM_IDENTITY_P0
(29);

718 
_DEFPIN_ARM_IDENTITY_P0
(30);

719 
_DEFPIN_ARM_IDENTITY_P0
(31);

	@src/platforms/arm/nrf52/fastspi_arm_nrf52.h

1 #iâdeà
__FASTSPI_ARM_NRF52_H


2 
	#__FASTSPI_ARM_NRF52_H


	)

5 #iâdeà
FASTLED_FORCE_SOFTWARE_SPI


7 
	~<Äf_¥im.h
>

9 
	#FASTLED_ALL_PINS_HARDWARE_SPI


	)

15 #ià!
defšed
(
FASTLED_NRF52_SPIM
)

16 
	#FASTLED_NRF52_SPIM
 
NRF_SPIM0


	)

24 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

25 şas 
	cNRF52SPIOuut
 {

26 
	m´iv©e
:

28 
boŞ
 
s_InU£
;

29 
boŞ
 
	ms_N“dToWa™
;

44 
ušt8_t
 
	ms_BufãrIndex
;

45 
ušt8_t
 
	ms_Bufãr
[2][2];

49 
	s¥im_cÚfig
 {

50 
ušt32_t
 
	mš‹n
;

51 
ušt32_t
 
	mshÜts
;

52 
ušt32_t
 
	msck_pš
;

53 
ušt32_t
 
	mmosi_pš
;

54 
ušt32_t
 
	mmiso_pš
;

55 
ušt32_t
 
	mäequ’cy
;

57 
ušt32_t
 
	mcÚfig
;

58 
ušt32_t
 
	mÜc
;

60 #ià
çl£


61 
ušt32_t
 
	mc¢_pš
;

62 
ušt32_t
 
	mc¢_pŞ¬™y
;

63 
ušt32_t
 
	mc¢_du¿tiÚ
;

64 
ušt32_t
 
	mrx_d–ay
;

65 
ušt32_t
 
	mdcx_pš
;

66 
ušt32_t
 
	mdcx_cÚfig
;

69 } 
	gm_SpiSavedCÚfig
;

70 
	$§veSpimCÚfig
() {

71 
m_SpiSavedCÚfig
.
š‹n
 = 
FASTLED_NRF52_SPIM
->
INTENSET
;

72 
m_SpiSavedCÚfig
.
shÜts
 = 
FASTLED_NRF52_SPIM
->
SHORTS
;

73 
m_SpiSavedCÚfig
.
sck_pš
 = 
FASTLED_NRF52_SPIM
->
PSEL
.
SCK
;

74 
m_SpiSavedCÚfig
.
mosi_pš
 = 
FASTLED_NRF52_SPIM
->
PSEL
.
MOSI
;

75 
m_SpiSavedCÚfig
.
miso_pš
 = 
FASTLED_NRF52_SPIM
->
PSEL
.
MISO
;

76 
m_SpiSavedCÚfig
.
äequ’cy
 = 
FASTLED_NRF52_SPIM
->
FREQUENCY
;

77 
m_SpiSavedCÚfig
.
cÚfig
 = 
FASTLED_NRF52_SPIM
->
CONFIG
;

78 
m_SpiSavedCÚfig
.
Üc
 = 
FASTLED_NRF52_SPIM
->
ORC
;

80 #ià
çl£


81 
m_SpiSavedCÚfig
.
c¢_pš
 = 
FASTLED_NRF52_SPIM
->
PSEL
.
CSN
;

82 
m_SpiSavedCÚfig
.
c¢_pŞ¬™y
 = 
FASTLED_NRF52_SPIM
->
CSNPOL
;

83 
m_SpiSavedCÚfig
.
c¢_du¿tiÚ
 = 
FASTLED_NRF52_SPIM
->
IFTIMING
.
CSNDUR
;

84 
m_SpiSavedCÚfig
.
dcx_pš
 = 
FASTLED_NRF52_SPIM
->
PSELDCX
;

85 
m_SpiSavedCÚfig
.
dcx_cÚfig
 = 
FASTLED_NRF52_SPIM
->
DCXCNT
;

87 
	}
}

88 
	$»¡ÜeSpimCÚfig
() {

91 
FASTLED_NRF52_SPIM
->
INTENCLR
 = 0xFFFFFFFF;

92 
FASTLED_NRF52_SPIM
->
INTENSET
 = 
m_SpiSavedCÚfig
.
š‹n
;

93 
FASTLED_NRF52_SPIM
->
SHORTS
 = 
m_SpiSavedCÚfig
.
shÜts
;

94 
FASTLED_NRF52_SPIM
->
PSEL
.
SCK
 = 
m_SpiSavedCÚfig
.
sck_pš
;

95 
FASTLED_NRF52_SPIM
->
PSEL
.
MOSI
 = 
m_SpiSavedCÚfig
.
mosi_pš
;

96 
FASTLED_NRF52_SPIM
->
PSEL
.
MISO
 = 
m_SpiSavedCÚfig
.
miso_pš
;

97 
FASTLED_NRF52_SPIM
->
FREQUENCY
 = 
m_SpiSavedCÚfig
.
äequ’cy
;

98 
FASTLED_NRF52_SPIM
->
CONFIG
 = 
m_SpiSavedCÚfig
.
cÚfig
;

99 
FASTLED_NRF52_SPIM
->
ORC
 = 
m_SpiSavedCÚfig
.
Üc
;

101 #ià
çl£


102 
FASTLED_NRF52_SPIM
->
PSEL
.
CSN
 = 
m_SpiSavedCÚfig
.
c¢_pš
;

103 
FASTLED_NRF52_SPIM
->
CSNPOL
 = 
m_SpiSavedCÚfig
.
c¢_pŞ¬™y
;

104 
FASTLED_NRF52_SPIM
->
IFTIMING
.
CSNDUR
 = 
m_SpiSavedCÚfig
.
c¢_du¿tiÚ
;

105 
FASTLED_NRF52_SPIM
->
PSELDCX
 = 
m_SpiSavedCÚfig
.
dcx_pš
;

106 
FASTLED_NRF52_SPIM
->
DCXCNT
 = 
m_SpiSavedCÚfig
.
dcx_cÚfig
;

108 
	}
}

110 
	gpublic
:

111 
	$NRF52SPIOuut
(è{
	}
}

114 
¡©ic_as£¹
(!
Fa¡Pš
<
_DATA_PIN
>::
LowS³edOÆyRecomm’ded
(), "Invalid (low-speed only)…in specified");

115 
¡©ic_as£¹
(!
Fa¡Pš
<
_CLOCK_PIN
>::
LowS³edOÆyRecomm’ded
(), "Invalid (low-speed only)…in specified");

118 
	$š™
() {

123 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

124 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

127 
	`Äf_¥im_cÚfigu»
(

128 
FASTLED_NRF52_SPIM
,

129 
NRF_SPIM_MODE_0
,

130 
NRF_SPIM_BIT_ORDER_MSB_FIRST


132 
	`Äf_¥im_äequ’cy_£t
(

133 
FASTLED_NRF52_SPIM
,

134 
NRF_SPIM_FREQ_4M


136 
	`Äf_¥im_pšs_£t
(

137 
FASTLED_NRF52_SPIM
,

138 
Fa¡Pš
<
_CLOCK_PIN
>::
	`Äf_pš
(),

139 
Fa¡Pš
<
_DATA_PIN
>::
	`Äf_pš
(),

140 
NRF_SPIM_PIN_NOT_CONNECTED


144 
	`Äf_¥im_ev’t_ş—r
(
FASTLED_NRF52_SPIM
, 
NRF_SPIM_EVENT_END
);

145 
	`Äf_¥im_ev’t_ş—r
(
FASTLED_NRF52_SPIM
, 
NRF_SPIM_EVENT_STARTED
);

148 
	`Äf_¥im_’abË
(
FASTLED_NRF52_SPIM
);

149 
	}
}

152 
	$£Ëù
() {

154 
	`§veSpimCÚfig
();

155 
s_InU£
 = 
Œue
;

156 
	`š™
();

157 
	}
}

160 
	$»Ëa£
() {

162 
	`wa™FuÎy
();

163 
s_InU£
 = 
çl£
;

164 
	`»¡ÜeSpimCÚfig
();

165 
	}
}

168 
	$wa™FuÎy
() {

169 ià(!
s_N“dToWa™
) ;

171 !
FASTLED_NRF52_SPIM
->
EVENTS_END
) {};

172 
s_N“dToWa™
 = 0;

174 
	`Äf_¥im_ev’t_ş—r
(
FASTLED_NRF52_SPIM
, 
NRF_SPIM_EVENT_END
);

175 
	`Äf_¥im_ev’t_ş—r
(
FASTLED_NRF52_SPIM
, 
NRF_SPIM_EVENT_STARTED
);

177 
	}
}

180 
	$wa™
() {

181 ià(!
s_N“dToWa™
) ;

182 !
FASTLED_NRF52_SPIM
->
EVENTS_STARTED
) {};

185 
	}
}

188 
	$wr™eBy‹
(
ušt8_t
 
b
) {

189 
	`wa™
();

191 
ušt8_t
 
i
 = (
s_BufãrIndex
 ? 1u : 0u);

192 
s_BufãrIndex
 = !s_BufferIndex;

194 
s_Bufãr
[
i
][0u] = 
b
;

195 
	`Äf_¥im_tx_bufãr_£t
(

196 
FASTLED_NRF52_SPIM
,

197 &(
s_Bufãr
[
i
][0u]),

201 
	`wa™FuÎy
();

202 
	`Äf_¥im_sk_Œigg”
(

203 
FASTLED_NRF52_SPIM
,

204 
NRF_SPIM_TASK_START


207 
	}
}

210 
	$wr™eWÜd
(
ušt16_t
 
w
) {

211 
	`wa™
();

213 
ušt8_t
 
i
 = (
s_BufãrIndex
 ? 1u : 0u);

214 
s_BufãrIndex
 = !s_BufferIndex;

216 
s_Bufãr
[
i
][0u] = (
w
 >> 8u);

217 
s_Bufãr
[
i
][1u] = (
w
 & 0xFFu);

218 
	`Äf_¥im_tx_bufãr_£t
(

219 
FASTLED_NRF52_SPIM
,

220 &(
s_Bufãr
[
i
][0u]),

224 
	`wa™FuÎy
();

225 
	`Äf_¥im_sk_Œigg”
(

226 
FASTLED_NRF52_SPIM
,

227 
NRF_SPIM_TASK_START


230 
	}
}

233 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

234 
Ën
--è{ 
	`wr™eBy‹
(
v®ue
); }

235 
	}
}

238 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

239 
	`£Ëù
();

240 
	`wr™eBy‹sV®ueRaw
(
v®ue
, 
Ën
);

241 
	`wa™FuÎy
();

242 
	`»Ëa£
();

243 
	}
}

246 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

248 
	`£Ëù
();

249 
	`wa™
();

250 
	`Äf_¥im_tx_bufãr_£t
(

251 
FASTLED_NRF52_SPIM
,

252 
d©a
,

253 
Ën


255 
	`wa™FuÎy
();

256 
	`Äf_¥im_sk_Œigg”
(

257 
FASTLED_NRF52_SPIM
,

258 
NRF_SPIM_TASK_START


260 
	`wa™FuÎy
();

261 
	`»Ëa£
();

262 
	}
}

265 
	g‹m¶©e
<
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

266 
ušt8_t
 * 
’d
 = 
d©a
 + 
Ën
;

267 
	`£Ëù
();

268 
	`wa™
();

269 
d©a
 !ğ
’d
) {

270 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

272 
D
::
	`po¡Block
(
Ën
);

273 
	`wa™FuÎy
();

274 
	`»Ëa£
();

275 
	}
}

282 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

284 
	`wa™FuÎy
();

285 
	`Äf_¥im_di§bË
(
FASTLED_NRF52_SPIM
);

287 ià(
b
 & (1 << 
BIT
)) {

288 
Fa¡Pš
<
_DATA_PIN
>::
	`hi
();

290 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

293 
d–aycyşes
<
_SPI_CLOCK_DIVIDER
/2>();

294 
Fa¡Pš
<
_CLOCK_PIN
>::
	`toggË
();

295 
d–aycyşes
<
_SPI_CLOCK_DIVIDER
/2>();

296 
Fa¡Pš
<
_CLOCK_PIN
>::
	`toggË
();

298 
	`Äf_¥im_’abË
(
FASTLED_NRF52_SPIM
);

299 
	}
}

302 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

303 
£Ëù
();

304 
	gËn
 = 
pix–s
.
mL’
;

309 
	gpix–s
.
has
(1)) {

310 ià(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

311 
	gwr™eB™
<0>(1);

313 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

314 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

315 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

316 
	gpix–s
.
advªûD©a
();

317 
	gpix–s
.
¡•D™h”šg
();

319 
	gD
::
po¡Block
(
Ën
);

320 
wa™FuÎy
();

321 
»Ëa£
();

327 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

328 
boŞ
 
	gNRF52SPIOuut
<
	g_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
>::
s_InU£
 = 
çl£
;

329 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

330 
boŞ
 
	gNRF52SPIOuut
<
	g_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
>::
s_N“dToWa™
 = 
çl£
;

331 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

332 
ušt8_t
 
	gNRF52SPIOuut
<
	g_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
>::
s_BufãrIndex
 = 0;

333 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

334 
ušt8_t
 
	gNRF52SPIOuut
<
	g_DATA_PIN
, 
	g_CLOCK_PIN
, 
	g_SPI_CLOCK_DIVIDER
>::
s_Bufãr
[2][2] = {{0,0},{0,0}};

	@src/platforms/arm/nrf52/led_sysdefs_arm_nrf52.h

1 #iâdeà
__LED_SYSDEFS_ARM_NRF52


2 
	#__LED_SYSDEFS_ARM_NRF52


	)

4 
	#FASTLED_ARM


	)

6 #iâdeà
F_CPU


7 
	#F_CPU
 64000000

9 

	)

13 
	#CLOCKLESS_FREQUENCY
 16000000

14 

	)

15 #iâdeà
F_TIMER


16 
	#F_TIMER
 16000000

18 

	)

19 #ià!
defšed
(
FASTLED_USE_PROGMEM
)

20 
	#FASTLED_USE_PROGMEM
 0

22 

	)

23 #ià!
defšed
(
FASTLED_ALLOW_INTERRUPTS
)

24 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

29 
	#FASTLED_NRF52_ENABLE_PWM_INSTANCE0


	)

31 #ià
defšed
(
FASTLED_NRF52_NEVER_INLINE
)

32 
	#FASTLED_NRF52_INLINE_ATTRIBUTE
 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše


	)

34 
	#FASTLED_NRF52_INLINE_ATTRIBUTE
 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše


	)

39 
	~<Äf.h
>

40 
	~<Äf_¥im.h
>

41 
	~<Äf_pwm.h
>

42 
	~<Äf_nvic.h
>

43 
__I
 
	tušt32_t
 
	tRoReg
;

44 
__IO
 
	tušt32_t
 
	tRwReg
;

46 
	#şi
(è
	`__di§bË_œq
()

	)

47 
	#£i
(è
	`__’abË_œq
()

	)

49 
	#FASTLED_NRF52_DEBUGPRINT
(
fÜm©
, ...)\

51 

	)

	@src/platforms/arm/sam/clockless_arm_sam.h

1 #iâdeà
__INC_CLOCKLESS_ARM_SAM_H


2 
	#__INC_CLOCKLESS_ARM_SAM_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


9 #ià
defšed
(
__SAM3X8E__
)

12 
	#TADJUST
 0

	)

13 
	#TOTAL
 ( (
T1
+
TADJUST
è+ (
T2
+TADJUSTè+ (
T3
+TADJUSTè)

	)

15 
	#FASTLED_HAS_CLOCKLESS
 1

	)

17 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

18 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

19 
ty³Çme
 
	tFa¡PšBB
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

20 
ty³Çme
 
	tFa¡PšBB
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

22 
d©a_t
 
	gmPšMask
;

23 
d©a_±r_t
 
	gmPÜt
;

24 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

26 
	gpublic
:

27 
vœtu®
 
š™
() {

28 
Fa¡PšBB
<
DATA_PIN
>::
£tOuut
();

29 
	gmPšMask
 = 
Fa¡PšBB
<
DATA_PIN
>::
mask
();

30 
	gmPÜt
 = 
Fa¡PšBB
<
DATA_PIN
>::
pÜt
();

33 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

35 
	g´Ùeùed
:

36 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

37 
mWa™
.
wa™
();

38 if(!
showRGBIÁ”Çl
(
pix–s
)) {

39 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

40 
showRGBIÁ”Çl
(
pix–s
);

42 
	gmWa™
.
m¬k
();

45 
	g‹m¶©e
<
	gBITS
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
d©a_±r_t
 
pÜt
, 
ušt8_t
 & 
b
) {

51 
ušt32_t
 
	gi
 = 
BITS
; i > 0; --i) {

53 
	gDUE_TIMER_VAL
 < 
	gÃxt_m¬k
);

54 
	gÃxt_m¬k
 = (
DUE_TIMER_VAL
+
TOTAL
);

55 *
	gpÜt
 = 1;

58 if(
	gb
&0x80) {

60 (
	gÃxt_m¬k
 - 
	gDUE_TIMER_VAL
è> (
	gT3
));

63 (
	gÃxt_m¬k
 - 
	gDUE_TIMER_VAL
è> (
	gT2
+
	gT3
+6+
	gTADJUST
+TADJUST));

65 *
	gpÜt
=0;

66 
	gb
 <<= 1;

70 
	#FORCE_REFERENCE
(
v¬
è
asm
 vŞ©eĞ"" : : "r" (v¬è)

	)

73 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

75 
TC_CÚfigu»
(
DUE_TIMER
,
DUE_TIMER_CHANNEL
,
TC_CMR_TCCLKS_TIMER_CLOCK1
);

76 
pmc_’abË_³rh_şk
(
DUE_TIMER_ID
);

77 
TC_S¹
(
DUE_TIMER
,
DUE_TIMER_CHANNEL
);

79 
d©a_±r_t
 
pÜt
 
asm
("r7"èğ
Fa¡PšBB
<
DATA_PIN
>::pÜt(); 
FORCE_REFERENCE
(port);

80 *
	gpÜt
 = 0;

83 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

84 
ušt8_t
 
	gb
 = 
pix–s
.
lßdAndSÿË0
();

86 
ušt32_t
 
	gÃxt_m¬k
 = (
DUE_TIMER_VAL
 + (
TOTAL
));

87 
	gpix–s
.
has
(1)) {

88 
	gpix–s
.
¡•D™h”šg
();

90 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

91 
şi
();

92 if(
	gDUE_TIMER_VAL
 > 
	gÃxt_m¬k
) {

93 if((
	gDUE_TIMER_VAL
 - 
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)) {

94 
£i
(); 
TC_Stİ
(
DUE_TIMER
,
DUE_TIMER_CHANNEL
);  0;

99 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	gb
);

101 
	gb
 = 
pix–s
.
lßdAndSÿË1
();

102 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
,
	gb
);

104 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

105 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
,
	gb
);

107 
	gb
 = 
pix–s
.
advªûAndLßdAndSÿË0
();

108 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

109 
£i
();

113 
TC_Stİ
(
DUE_TIMER
,
DUE_TIMER_CHANNEL
);

114  
	gDUE_TIMER_VAL
;

120 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/sam/clockless_block_arm_sam.h

1 #iâdeà
__INC_BLOCK_CLOCKLESS_H


2 
	#__INC_BLOCK_CLOCKLESS_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


14 #ià
defšed
(
__SAM3X8E__
)

15 
	#PORT_MASK
 (((1<<
LANES
)-1è& ((
FIRST_PIN
==2è? 0xFF : 0xFF))

	)

17 
	#FASTLED_HAS_BLOCKLESS
 1

	)

19 
	#PORTD_FIRST_PIN
 25

	)

20 
	#PORTA_FIRST_PIN
 69

	)

21 
	#PORTB_FIRST_PIN
 90

	)

24 
ušt8_t
 
	mby‹s
[8];

25 
ušt32_t
 
	m¿w
[2];

26 } 
	tLšes
;

28 
	#TADJUST
 0

	)

29 
	#TOTAL
 ( (
T1
+
TADJUST
è+ (
T2
+TADJUSTè+ (
T3
+TADJUSTè)

	)

30 
	#T1_MARK
 (
TOTAL
 - (
T1
+
TADJUST
))

	)

31 
	#T2_MARK
 (
T1_MARK
 - (
T2
+
TADJUST
))

	)

32 
	g‹m¶©e
 <
ušt8_t
 
	gLANES
, 
	gFIRST_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

33 
şass
 
IÆšeBlockClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 
	gLANES
, 
	gPORT_MASK
> {

34 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

35 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_t
 
	td©a_t
;

37 
d©a_t
 
	gmPšMask
;

38 
d©a_±r_t
 
	gmPÜt
;

39 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

41 
	gpublic
:

42 
vœtu®
 
size
(è{  
CLEDCÚŒŞËr
::size(è* 
LANES
; }

43 
vœtu®
 
š™
() {

44 
¡©ic_as£¹
(
LANES
 <= 8, "Maximum of 8†anes for Due…arallel controllers!");

45 if(
	gFIRST_PIN
 =ğ
PORTA_FIRST_PIN
) {

46 
LANES
) {

47 8: 
Fa¡Pš
<31>::
£tOuut
();

48 7: 
Fa¡Pš
<58>::
£tOuut
();

49 6: 
Fa¡Pš
<100>::
£tOuut
();

50 5: 
Fa¡Pš
<59>::
£tOuut
();

51 4: 
Fa¡Pš
<60>::
£tOuut
();

52 3: 
Fa¡Pš
<61>::
£tOuut
();

53 2: 
Fa¡Pš
<68>::
£tOuut
();

54 1: 
Fa¡Pš
<69>::
£tOuut
();

56 } if(
	gFIRST_PIN
 =ğ
PORTD_FIRST_PIN
) {

57 
LANES
) {

58 8: 
Fa¡Pš
<11>::
£tOuut
();

59 7: 
Fa¡Pš
<29>::
£tOuut
();

60 6: 
Fa¡Pš
<15>::
£tOuut
();

61 5: 
Fa¡Pš
<14>::
£tOuut
();

62 4: 
Fa¡Pš
<28>::
£tOuut
();

63 3: 
Fa¡Pš
<27>::
£tOuut
();

64 2: 
Fa¡Pš
<26>::
£tOuut
();

65 1: 
Fa¡Pš
<25>::
£tOuut
();

67 } if(
	gFIRST_PIN
 =ğ
PORTB_FIRST_PIN
) {

68 
LANES
) {

69 8: 
Fa¡Pš
<97>::
£tOuut
();

70 7: 
Fa¡Pš
<96>::
£tOuut
();

71 6: 
Fa¡Pš
<95>::
£tOuut
();

72 5: 
Fa¡Pš
<94>::
£tOuut
();

73 4: 
Fa¡Pš
<93>::
£tOuut
();

74 3: 
Fa¡Pš
<92>::
£tOuut
();

75 2: 
Fa¡Pš
<91>::
£tOuut
();

76 1: 
Fa¡Pš
<90>::
£tOuut
();

79 
	gmPšMask
 = 
Fa¡Pš
<
FIRST_PIN
>::
mask
();

80 
	gmPÜt
 = 
Fa¡Pš
<
FIRST_PIN
>::
pÜt
();

83 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

85 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> & 
pix–s
) {

86 
	gmWa™
.
wa™
();

87 
showRGBIÁ”Çl
(
pix–s
);

88 
£i
();

89 
	gmWa™
.
m¬k
();

92 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> &
®Íix–s
) {

95 
	gnLeds
 = 
®Íix–s
.
mL’
;

98 
Lšes
 
	gb0
,
	gb1
,
	gb2
;

100 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

101 
ušt8_t
 
	gi
 = 0; i < 
	gLANES
; i++) {

102 
	gb0
.
	gby‹s
[
i
] = 
®Íix–s
.
lßdAndSÿË0
(i);

106 
TC_CÚfigu»
(
DUE_TIMER
,
DUE_TIMER_CHANNEL
,
TC_CMR_TCCLKS_TIMER_CLOCK1
);

107 
pmc_’abË_³rh_şk
(
DUE_TIMER_ID
);

108 
TC_S¹
(
DUE_TIMER
,
DUE_TIMER_CHANNEL
);

110 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

111 
şi
();

113 
ušt32_t
 
	gÃxt_m¬k
 = (
DUE_TIMER_VAL
 + (
TOTAL
));

114 
	gnLeds
--) {

115 
	g®Íix–s
.
¡•D™h”šg
();

116 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

117 
şi
();

118 if(
	gDUE_TIMER_VAL
 > 
	gÃxt_m¬k
) {

119 if((
	gDUE_TIMER_VAL
 - 
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)) {

120 
£i
(); 
TC_Stİ
(
DUE_TIMER
,
DUE_TIMER_CHANNEL
);  
	gDUE_TIMER_VAL
;

126 
	gwr™eB™s
<8+
	gXTRA0
,1>(
	gÃxt_m¬k
, 
	gb0
, 
	gb1
, 
	g®Íix–s
);

129 
	gwr™eB™s
<8+
	gXTRA0
,2>(
	gÃxt_m¬k
, 
	gb1
, 
	gb2
, 
	g®Íix–s
);

131 
	g®Íix–s
.
advªûD©a
();

133 
	gwr™eB™s
<8+
	gXTRA0
,0>(
	gÃxt_m¬k
, 
	gb2
, 
	gb0
, 
	g®Íix–s
);

135 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

136 
£i
();

140  
	gDUE_TIMER_VAL
;

143 
	g‹m¶©e
<
	gBITS
,
	gPX
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
Lšes
 & 
b
, Lše & 
b3
, 
Pix–CÚŒŞËr
<
RGB_ORDER
,
LANES
, 
PORT_MASK
> &
pix–s
) {

144 
Lšes
 
	gb2
;

145 
Œª¥o£8x1
(
b
.
by‹s
,
b2
.bytes);

147 
ušt8_t
 
	gd
 = 
pix–s
.
‹m¶©e
 
g‘d
<
PX
>(pixels);

148 
ušt8_t
 
	gsÿË
 = 
pix–s
.
‹m¶©e
 
g‘sÿË
<
PX
>(pixels);

150 
ušt32_t
 
	gi
 = 0; (˜< 
	gLANES
) && (i<8); i++) {

151 
	gDUE_TIMER_VAL
 < 
	gÃxt_m¬k
);

152 
	gÃxt_m¬k
 = (
DUE_TIMER_VAL
+
TOTAL
);

154 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PORT_MASK
;

156 (
	gÃxt_m¬k
 - 
	gDUE_TIMER_VAL
è> (
	gT2
+
	gT3
+6));

157 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ(~
b2
.
by‹s
[7-
i
]è& 
PORT_MASK
;

159 (
	gÃxt_m¬k
 - (
	gDUE_TIMER_VAL
)è> 
	gT3
);

160 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PORT_MASK
;

162 
	gb3
.
	gby‹s
[
i
] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
,
	gd
,
	gsÿË
);

165 
ušt32_t
 
	gi
 = 
LANES
; i < 8; i++) {

166 
	gDUE_TIMER_VAL
 < 
	gÃxt_m¬k
);

167 
	gÃxt_m¬k
 = (
DUE_TIMER_VAL
+
TOTAL
);

168 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PORT_MASK
;

170 (
	gÃxt_m¬k
 - 
	gDUE_TIMER_VAL
è> (
	gT2
+
	gT3
+6));

171 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ(~
b2
.
by‹s
[7-
i
]è& 
PORT_MASK
;

173 (
	gÃxt_m¬k
 - 
	gDUE_TIMER_VAL
è> 
	gT3
);

174 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PORT_MASK
;

181 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/sam/fastled_arm_sam.h

1 #iâdeà
__INC_FASTLED_ARM_SAM_H


2 
	#__INC_FASTLED_ARM_SAM_H


	)

5 
	~"ç¡pš_¬m_§m.h
"

6 
	~"ç¡¥i_¬m_§m.h
"

7 
	~"şockËss_¬m_§m.h
"

8 
	~"şockËss_block_¬m_§m.h
"

	@src/platforms/arm/sam/fastpin_arm_sam.h

1 #iâdeà
__INC_FASTPIN_ARM_SAM_H


2 
	#__INC_FASTPIN_ARM_SAM_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


18 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	g_MASK
, 
ty³Çme
 
	g_PDOR
,y³Çm
	g_PSOR
,y³Çm
	g_PCOR
,y³Çm
	g_PDDR
> cÏs 
	c_DUEPIN
 {

19 
	mpublic
:

20 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

21 
ušt32_t
 
	tpÜt_t
;

23 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

24 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

26 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PSOR
::
	`r
(èğ
_MASK
; 
	}
}

27 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PCOR
::
	`r
(èğ
_MASK
; 
	}
}

28 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PDOR
::
	`r
(èğv®; 
	}
}

30 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

32 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PDOR
::
	`r
(è^ğ
_MASK
; 
	}
}

34 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

35 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

36 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

38 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
	`r
(è| 
_MASK
; 
	}
}

39 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
	`r
(è& ~
_MASK
; 
	}
}

40 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PDOR
::
	`r
(); 
	}
}

41 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PSOR
::
	`r
(); 
	}
}

42 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PCOR
::
	`r
(); 
	}
}

43 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

49 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	g_BIT
, 
ty³Çme
 
	g_PDOR
,y³Çm
	g_PSOR
,y³Çm
	g_PCOR
,y³Çm
	g_PDDR
> cÏs 
	c_DUEPIN_BITBAND
 {

50 
	mpublic
:

51 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

52 
ušt32_t
 
	tpÜt_t
;

54 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

55 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

57 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğ1; 
	}
}

58 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğ0; 
	}
}

59 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(èğv®; 
	}
}

61 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

63 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(è^ğ1; 
	}
}

65 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

66 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

67 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

69 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  1; 
	}
}

70 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  0; 
	}
}

71 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PDOR
::
‹m¶©e
 
rx
<
_BIT
>(); 
	}
}

72 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  1; 
	}
}

75 
	#GPIO_BITBAND_ADDR
(
»g
, 
b™
è(((
ušt32_t
)&Ôegè- 0x40000000è* 32 + (b™è* 4 + 0x42000000)

	)

76 
	#GPIO_BITBAND_PTR
(
»g
, 
b™
è((
ušt32_t
 *)
	`GPIO_BITBAND_ADDR
(Ôeg), (b™)))

	)

78 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

79 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
»g32_t
 
	`r
() {  T; } \

80 
‹m¶©e
<
BIT
> 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
±r_»g32_t
 
	`rx
(è{  
	`GPIO_BITBAND_PTR
(
T
, BIT); } };

	)

81 
	#_FL_IO
(
L
,
C
è
	`_RD32
(
REG_PIO
 ## L ## 
_ODSR
); _RD32(REG_PIO ## L ## 
_SODR
); _RD32(REG_PIO ## L ## 
_CODR
); _RD32(REG_PIO ## L ## 
_OER
); 
	`_FL_DEFINE_PORT3
(L, C, 
	`_R
(REG_PIO ## L ## _ODSR));

	)

83 
	#_FL_DEFPIN
(
PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_DUEPIN
<PIN, 1 << BIT, 
	`_R
(
REG_PIO
 ## L ## 
_ODSR
), _R(REG_PIO ## L ## 
_SODR
), _R(REG_PIO ## L ## 
_CODR
), \

84 
	`_R
(
GPIO
 ## 
L
 ## 
_OER
)> {}; \

85 
‹m¶©e
<> 
şass
 
Fa¡PšBB
<
PIN
> : 
public
 
_DUEPIN_BITBAND
<PIN, 
BIT
, 
	`_R
(
REG_PIO
 ## 
L
 ## 
_ODSR
), _R(REG_PIO ## L ## 
_SODR
), _R(REG_PIO ## L ## 
_CODR
), \

86 
	`_R
(
GPIO
 ## 
L
 ## 
_OER
)> {};

	)

88 
_FL_IO
(
A
,0);

89 
_FL_IO
(
B
,1);

90 
_FL_IO
(
C
,2);

91 
_FL_IO
(
D
,3);

93 #ià
defšed
(
__SAM3X8E__
)

95 
	#MAX_PIN
 78

	)

96 
_FL_DEFPIN
(0, 8, 
A
); _FL_DEFPIN(1, 9, A); _FL_DEFPIN(2, 25, 
B
); _FL_DEFPIN(3, 28, 
C
);

97 
_FL_DEFPIN
(4, 26, 
C
); _FL_DEFPIN(5, 25, C); _FL_DEFPIN(6, 24, C); _FL_DEFPIN(7, 23, C);

98 
_FL_DEFPIN
(8, 22, 
C
); _FL_DEFPIN(9, 21, C); _FL_DEFPIN(10, 29, C); _FL_DEFPIN(11, 7, 
D
);

99 
_FL_DEFPIN
(12, 8, 
D
); _FL_DEFPIN(13, 27, 
B
); _FL_DEFPIN(14, 4, D); _FL_DEFPIN(15, 5, D);

100 
_FL_DEFPIN
(16, 13, 
A
); _FL_DEFPIN(17, 12, A); _FL_DEFPIN(18, 11, A); _FL_DEFPIN(19, 10, A);

101 
_FL_DEFPIN
(20, 12, 
B
); _FL_DEFPIN(21, 13, B); _FL_DEFPIN(22, 26, B); _FL_DEFPIN(23, 14, 
A
);

102 
_FL_DEFPIN
(24, 15, 
A
); _FL_DEFPIN(25, 0, 
D
); _FL_DEFPIN(26, 1, D); _FL_DEFPIN(27, 2, D);

103 
_FL_DEFPIN
(28, 3, 
D
); _FL_DEFPIN(29, 6, D); _FL_DEFPIN(30, 9, D); _FL_DEFPIN(31, 7, 
A
);

104 
_FL_DEFPIN
(32, 10, 
D
); _FL_DEFPIN(33, 1, 
C
); _FL_DEFPIN(34, 2, C); _FL_DEFPIN(35, 3, C);

105 
_FL_DEFPIN
(36, 4, 
C
); _FL_DEFPIN(37, 5, C); _FL_DEFPIN(38, 6, C); _FL_DEFPIN(39, 7, C);

106 
_FL_DEFPIN
(40, 8, 
C
); _FL_DEFPIN(41, 9, C); _FL_DEFPIN(42, 19, 
A
); _FL_DEFPIN(43, 20, A);

107 
_FL_DEFPIN
(44, 19, 
C
); _FL_DEFPIN(45, 18, C); _FL_DEFPIN(46, 17, C); _FL_DEFPIN(47, 16, C);

108 
_FL_DEFPIN
(48, 15, 
C
); _FL_DEFPIN(49, 14, C); _FL_DEFPIN(50, 13, C); _FL_DEFPIN(51, 12, C);

109 
_FL_DEFPIN
(52, 21, 
B
); _FL_DEFPIN(53, 14, B); _FL_DEFPIN(54, 16, 
A
); _FL_DEFPIN(55, 24, A);

110 
_FL_DEFPIN
(56, 23, 
A
); _FL_DEFPIN(57, 22, A); _FL_DEFPIN(58, 6, A); _FL_DEFPIN(59, 4, A);

111 
_FL_DEFPIN
(60, 3, 
A
); _FL_DEFPIN(61, 2, A); _FL_DEFPIN(62, 17, 
B
); _FL_DEFPIN(63, 18, B);

112 
_FL_DEFPIN
(64, 19, 
B
); _FL_DEFPIN(65, 20, B); _FL_DEFPIN(66, 15, B); _FL_DEFPIN(67, 16, B);

113 
_FL_DEFPIN
(68, 1, 
A
); _FL_DEFPIN(69, 0, A); _FL_DEFPIN(70, 17, A); _FL_DEFPIN(71, 18, A);

114 
_FL_DEFPIN
(72, 30, 
C
); _FL_DEFPIN(73, 21, 
A
); _FL_DEFPIN(74, 25, A); _FL_DEFPIN(75, 26, A);

115 
_FL_DEFPIN
(76, 27, 
A
); _FL_DEFPIN(77, 28, A); _FL_DEFPIN(78, 23, 
B
);

118 
_FL_DEFPIN
(90, 0, 
B
); _FL_DEFPIN(91, 1, B); _FL_DEFPIN(92, 2, B); _FL_DEFPIN(93, 3, B);

119 
_FL_DEFPIN
(94, 4, 
B
); _FL_DEFPIN(95, 5, B); _FL_DEFPIN(96, 6, B); _FL_DEFPIN(97, 7, B);

120 
_FL_DEFPIN
(98, 8, 
B
); _FL_DEFPIN(99, 9, B); _FL_DEFPIN(100, 5, 
A
); _FL_DEFPIN(101, 22, B);

121 
_FL_DEFPIN
(102, 23, 
B
); _FL_DEFPIN(103, 24, B); _FL_DEFPIN(104, 27, 
C
); _FL_DEFPIN(105, 20, C);

122 
_FL_DEFPIN
(106, 11, 
C
); _FL_DEFPIN(107, 10, C); _FL_DEFPIN(108, 21, 
A
); _FL_DEFPIN(109, 30, C);

123 
_FL_DEFPIN
(110, 29, 
B
); _FL_DEFPIN(111, 30, B); _FL_DEFPIN(112, 31, B); _FL_DEFPIN(113, 28, B);

125 
	#SPI_DATA
 75

	)

126 
	#SPI_CLOCK
 76

	)

127 
	#ARM_HARDWARE_SPI


	)

128 
	#HAS_HARDWARE_PIN_SUPPORT


	)

134 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/sam/fastspi_arm_sam.h

1 #iâdeà
__INC_FASTSPI_ARM_SAM_H


2 
	#__INC_FASTSPI_ARM_SAM_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
__SAM3X8E__
)

7 
	#m_SPI
 ((
Spi
*)
SPI0
)

	)

9 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

10 şas 
	cSAMH¬dw¬eSPIOuut
 {

11 
S–eùabË
 *
	mm_pS–eù
;

13 
šlše
 
	$wa™FÜEm±y
(è{ (
m_SPI
->
SPI_SR
 & 
SPI_SR_TDRE
) == 0); }

15 
	$’abËCÚfig
(è{ 
m_SPI
->
SPI_WPMR
 &ğ~
SPI_WPMR_WPEN
; 
	}
}

16 
	$di§bËCÚfig
(è{ 
m_SPI
->
SPI_WPMR
 |ğ
SPI_WPMR_WPEN
; 
	}
}

18 
	$’abËSPI
(è{ 
m_SPI
->
SPI_CR
 = 
SPI_CR_SPIEN
; 
	}
}

19 
	$di§bËSPI
(è{ 
m_SPI
->
SPI_CR
 = 
SPI_CR_SPIDIS
; 
	}
}

20 
	$»£tSPI
(è{ 
m_SPI
->
SPI_CR
 = 
SPI_CR_SWRST
; 
	}
}

22 
šlše
 
	$»adyT¿nsãrB™s
(
ušt32_t
 
b™s
) {

23 
b™s
 -= 8;

25 
	`wa™FÜEm±y
();

26 
m_SPI
->
SPI_CSR
[0] = 
SPI_CSR_NCPHA
 | 
SPI_CSR_CSAAT
 | (
b™s
 << 
SPI_CSR_BITS_Pos
è| 
	`SPI_CSR_DLYBCT
(1è| 
	`SPI_CSR_SCBR
(
_SPI_CLOCK_DIVIDER
);

27 
	}
}

29 
	g‹m¶©e
<
	gBITS
> 
šlše
 
	$wr™eB™s
(
ušt16_t
 
w
) {

30 
	`wa™FÜEm±y
();

31 
m_SPI
->
SPI_TDR
 = (
ušt32_t
)
w
 | 
	`SPI_PCS
(0);

32 
	}
}

34 
	gpublic
:

35 
	$SAMH¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; 
	}
}

36 
	$SAMH¬dw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

39 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
	}
}

42 
	$š™
() {

47 
	`PIO_CÚfigu»
(
PIOA
, 
PIO_PERIPH_A
, 
Fa¡Pš
<
_DATA_PIN
>::
	`mask
(), 
PIO_DEFAULT
);

48 
	`PIO_CÚfigu»
(
PIOA
, 
PIO_PERIPH_A
, 
Fa¡Pš
<
_DATA_PIN
-1>::
	`mask
(), 
PIO_DEFAULT
);

49 
	`PIO_CÚfigu»
(
PIOA
, 
PIO_PERIPH_A
, 
Fa¡Pš
<
_CLOCK_PIN
>::
	`mask
(), 
PIO_DEFAULT
);

51 
	`»Ëa£
();

55 
	`pmc_’abË_³rh_şk
(
ID_SPI0
);

56 
	`di§bËSPI
();

59 
	`»£tSPI
();

60 
	`»£tSPI
();

64 
m_SPI
->
SPI_MR
 = 
SPI_MR_MSTR
 | 
SPI_MR_MODFDIS
 | 
SPI_MR_PS
;

66 
	`’abËSPI
();

69 
	`»adyT¿nsãrB™s
(8);

70 
	}
}

73 
šlše
 
	$£Ëù
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); } 
	}
}

76 
šlše
 
	$»Ëa£
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); } 
	}
}

79 
	$wa™FuÎy
(è{ (
m_SPI
->
SPI_SR
 & 
SPI_SR_TXEMPTY
è=ğ0); 
	}
}

82 
	$wr™eBy‹
(
ušt8_t
 
b
) {

83 
wr™eB™s
<8>(
b
);

84 
	}
}

87 
	$wr™eWÜd
(
ušt16_t
 
w
) {

88 
wr™eB™s
<16>(
w
);

89 
	}
}

92 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

93 
Ën
--è{ 
	`wr™eBy‹
(
v®ue
); }

94 
	}
}

97 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

98 
	`£Ëù
(); 
	`wr™eBy‹sV®ueRaw
(
v®ue
, 
Ën
); 
	`»Ëa£
();

99 
	}
}

101 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

102 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

103 
	`£Ëù
();

105 
d©a
 !ğ
’d
) {

106 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++));

108 
D
::
	`po¡Block
(
Ën
);

109 
	`wa™FuÎy
();

110 
	`»Ëa£
();

111 
	}
}

113 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

117 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

119 
	`wa™FuÎy
();

120 
	`di§bËSPI
();

121 if(
b
 & (1 << 
BIT
)) {

122 
Fa¡Pš
<
_DATA_PIN
>::
	`hi
();

124 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

127 
Fa¡Pš
<
_CLOCK_PIN
>::
	`hi
();

128 
Fa¡Pš
<
_CLOCK_PIN
>::
	`lo
();

129 
	`’abËSPI
();

130 
	}
}

134 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

135 
£Ëù
();

136 
	gËn
 = 
pix–s
.
mL’
;

138 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

139 
	gpix–s
.
has
(1)) {

140 
	gwr™eB™s
<9>((1<<8è| 
	gD
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

141 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

142 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

143 
	gpix–s
.
advªûD©a
();

144 
	gpix–s
.
¡•D™h”šg
();

147 
	gpix–s
.
has
(1)) {

148 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

149 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

150 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

151 
	gpix–s
.
advªûD©a
();

152 
	gpix–s
.
¡•D™h”šg
();

155 
	gD
::
po¡Block
(
Ën
);

156 
»Ëa£
();

162 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/sam/led_sysdefs_arm_sam.h

1 #iâdeà
__INC_LED_SYSDEFS_ARM_SAM_H


2 
	#__INC_LED_SYSDEFS_ARM_SAM_H


	)

5 
	#FASTLED_ARM


	)

8 #iâdeà
DUE_TIMER_CHANNEL


9 
	#DUE_TIMER_GROUP
 0

	)

12 #iâdeà
DUE_TIMER_CHANNEL


13 
	#DUE_TIMER_CHANNEL
 0

	)

16 
	#DUE_TIMER
 ((
DUE_TIMER_GROUP
==0è? 
TC0
 : ((DUE_TIMER_GROUP==1è? 
TC1
 : 
TC2
))

	)

17 
	#DUE_TIMER_ID
 (
ID_TC0
 + (
DUE_TIMER_GROUP
*3è+ 
DUE_TIMER_CHANNEL
)

	)

18 
	#DUE_TIMER_VAL
 (
DUE_TIMER
->
TC_CHANNEL
[
DUE_TIMER_CHANNEL
].
TC_CV
 << 1)

	)

19 
	#DUE_TIMER_RUNNING
 ((
DUE_TIMER
->
TC_CHANNEL
[
DUE_TIMER_CHANNEL
].
TC_SR
 & 
TC_SR_CLKSTA
è!ğ0)

	)

21 #iâdeà
INTERRUPT_THRESHOLD


22 
	#INTERRUPT_THRESHOLD
 1

	)

26 #iâdeà
FASTLED_ALLOW_INTERRUPTS


27 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

30 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

31 
	#FASTLED_ACCURATE_CLOCK


	)

35 
	#şi
(è
	`__di§bË_œq
(); 
	`__di§bË_çuÉ_œq
();

	)

36 
	#£i
(è
	`__’abË_œq
(); 
	`__’abË_çuÉ_œq
();

	)

	@src/platforms/arm/stm32/clockless_arm_stm32.h

1 #iâdeà
__INC_CLOCKLESS_ARM_STM32_H


2 
	#__INC_CLOCKLESS_ARM_STM32_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


8 
	#FASTLED_HAS_CLOCKLESS
 1

	)

10 
	g‹m¶©e
 <
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

11 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

12 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

13 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

15 
d©a_t
 
	gmPšMask
;

16 
d©a_±r_t
 
	gmPÜt
;

17 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

19 
	gpublic
:

20 
vœtu®
 
š™
() {

21 
Fa¡Pš
<
DATA_PIN
>::
£tOuut
();

22 
	gmPšMask
 = 
Fa¡Pš
<
DATA_PIN
>::
mask
();

23 
	gmPÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

26 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

28 
	g´Ùeùed
:

29 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

30 
mWa™
.
wa™
();

31 if(!
showRGBIÁ”Çl
(
pix–s
)) {

32 
£i
(); 
d–ayMiüo£cÚds
(
WAIT_TIME
); 
şi
();

33 
showRGBIÁ”Çl
(
pix–s
);

35 
	gmWa™
.
m¬k
();

38 
	#_CYCCNT
 (*(vŞ©
ušt32_t
*)(0xE0001004UL))

	)

40 
	g‹m¶©e
<
	gBITS
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ãxt_m¬k
, 
d©a_±r_t
 
pÜt
, 
d©a_t
 
hi
, d©a_ˆ
lo
, 
ušt8_t
 & 
b
) {

41 
ušt32_t
 
	gi
 = 
BITS
-1; i > 0; --i) {

42 
	g_CYCCNT
 < (
	gT1
+
	gT2
+
	gT3
-20));

43 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
hi
);

44 
	g_CYCCNT
 = 4;

45 if(
	gb
&0x80) {

46 
	g_CYCCNT
 < (
	gT1
+
	gT2
-20));

47 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

49 
	g_CYCCNT
 < (
	gT1
-10));

50 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

52 
	gb
 <<= 1;

55 
	g_CYCCNT
 < (
	gT1
+
	gT2
+
	gT3
-20));

56 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
hi
);

57 
	g_CYCCNT
 = 4;

59 if(
	gb
&0x80) {

60 
	g_CYCCNT
 < (
	gT1
+
	gT2
-20));

61 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

63 
	g_CYCCNT
 < (
	gT1
-10));

64 
	gFa¡Pš
<
	gDATA_PIN
>::
ç¡£t
(
pÜt
, 
lo
);

70 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

72 
	gCÜeDebug
->
	gDEMCR
 |ğ
CÜeDebug_DEMCR_TRCENA_Msk
;

73 
	gDWT
->
	gCTRL
 |ğ
DWT_CTRL_CYCCNTENA_Msk
;

74 
	gDWT
->
	gCYCCNT
 = 0;

76 
d©a_±r_t
 
	gpÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

77 
d©a_t
 
	ghi
 = *
pÜt
 | 
Fa¡Pš
<
DATA_PIN
>::
mask
();;

78 
d©a_t
 
	glo
 = *
pÜt
 & ~
Fa¡Pš
<
DATA_PIN
>::
mask
();;

79 *
	gpÜt
 = 
lo
;

82 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

83 
ušt8_t
 
	gb
 = 
pix–s
.
lßdAndSÿË0
();

85 
şi
();

87 
ušt32_t
 
	gÃxt_m¬k
 = (
T1
+
T2
+
T3
);

89 
	gDWT
->
	gCYCCNT
 = 0;

90 
	gpix–s
.
has
(1)) {

91 
	gpix–s
.
¡•D™h”šg
();

92 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

93 
şi
();

95 if(
	gDWT
->
	gCYCCNT
 > 
	gÃxt_m¬k
) {

96 if((
	gDWT
->
	gCYCCNT
-
	gÃxt_m¬k
è> ((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
)è{ 
£i
();  0; }

99 
	ghi
 = *
pÜt
 | 
Fa¡Pš
<
DATA_PIN
>::
mask
();

100 
	glo
 = *
pÜt
 & ~
Fa¡Pš
<
DATA_PIN
>::
mask
();

104 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

105 
	gb
 = 
pix–s
.
lßdAndSÿË1
();

108 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

109 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

112 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÃxt_m¬k
, 
	gpÜt
, 
	ghi
, 
	glo
, 
	gb
);

113 
	gb
 = 
pix–s
.
advªûAndLßdAndSÿË0
();

114 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

115 
£i
();

119 
£i
();

120  
	gDWT
->
	gCYCCNT
;

124 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/stm32/cm3_regs.h

1 #iâdeà
__CM3_REGS


2 
	#__CM3_REGS


	)

4 
	~<¡dšt.h
>

6 #ifdeà
__ılu¥lus


7 
	#__I
 vŞ©

	)

9 
	#__I
 vŞ©cÚ¡

	)

11 
	#__O
 vŞ©

	)

12 
	#__IO
 vŞ©

	)

17 
__IO
 
ušt32_t
 
	mDHCSR
;

18 
__O
 
ušt32_t
 
	mDCRSR
;

19 
__IO
 
ušt32_t
 
	mDCRDR
;

20 
__IO
 
ušt32_t
 
	mDEMCR
;

21 } 
	tCÜeDebug_Ty³
;

23 
	#CÜeDebug_BASE
 (0xE000EDF0ULè

	)

24 
	#CÜeDebug
 ((
CÜeDebug_Ty³
 *è
CÜeDebug_BASE
è

	)

26 
	#CÜeDebug_DEMCR_TRCENA_Pos
 24

	)

27 
	#CÜeDebug_DEMCR_TRCENA_Msk
 (1UL << 
CÜeDebug_DEMCR_TRCENA_Pos
è

	)

31 
__IO
 
ušt32_t
 
	mCTRL
;

32 
__IO
 
ušt32_t
 
	mCYCCNT
;

33 
__IO
 
ušt32_t
 
	mCPICNT
;

34 
__IO
 
ušt32_t
 
	mEXCCNT
;

35 
__IO
 
ušt32_t
 
	mSLEEPCNT
;

36 
__IO
 
ušt32_t
 
	mLSUCNT
;

37 
__IO
 
ušt32_t
 
	mFOLDCNT
;

38 
__I
 
ušt32_t
 
	mPCSR
;

39 
__IO
 
ušt32_t
 
	mCOMP0
;

40 
__IO
 
ušt32_t
 
	mMASK0
;

41 
__IO
 
ušt32_t
 
	mFUNCTION0
;

42 
ušt32_t
 
	mRESERVED0
[1];

43 
__IO
 
ušt32_t
 
	mCOMP1
;

44 
__IO
 
ušt32_t
 
	mMASK1
;

45 
__IO
 
ušt32_t
 
	mFUNCTION1
;

46 
ušt32_t
 
	mRESERVED1
[1];

47 
__IO
 
ušt32_t
 
	mCOMP2
;

48 
__IO
 
ušt32_t
 
	mMASK2
;

49 
__IO
 
ušt32_t
 
	mFUNCTION2
;

50 
ušt32_t
 
	mRESERVED2
[1];

51 
__IO
 
ušt32_t
 
	mCOMP3
;

52 
__IO
 
ušt32_t
 
	mMASK3
;

53 
__IO
 
ušt32_t
 
	mFUNCTION3
;

54 } 
	tDWT_Ty³
;

57 
	#DWT_BASE
 (0xE0001000ULè

	)

58 
	#DWT
 ((
DWT_Ty³
 *è
DWT_BASE
 )

	)

60 
	#DWT_CTRL_CYCCNTENA_Pos
 0

	)

61 
	#DWT_CTRL_CYCCNTENA_Msk
 (0x1UL << 
DWT_CTRL_CYCCNTENA_Pos
è

	)

	@src/platforms/arm/stm32/fastled_arm_stm32.h

1 #iâdeà
__INC_FASTLED_ARM_SAM_H


2 
	#__INC_FASTLED_ARM_SAM_H


	)

5 
	~"ç¡pš_¬m_¡m32.h
"

7 
	~"şockËss_¬m_¡m32.h
"

	@src/platforms/arm/stm32/fastpin_arm_stm32.h

1 #iâdeà
__FASTPIN_ARM_STM32_H


2 
	#__FASTPIN_ARM_STM32_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


18 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, ušt8_ˆ
	g_BIT
, 
ušt32_t
 
	g_MASK
, 
ty³Çme
 
	g_GPIO
> cÏs 
	c_ARMPIN
 {

20 
	mpublic
:

21 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

22 
ušt32_t
 
	tpÜt_t
;

25 
šlše
 
	$£tOuut
() {

26 if(
_BIT
<8) {

27 
_CRL
::
	`r
(èğ(_CRL::r(è& (0xF << (
_BIT
*4)) | (0x1 << (_BIT*4));

29 
_CRH
::
	`r
(èğ(_CRH::r(è& (0xF << ((
_BIT
-8)*4))) | (0x1 << ((_BIT-8)*4));

32 
šlše
 
	$£tIÅut
(è{ 
	}
}

35 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); 
	}
}

36 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

38 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_GPIO
::
	`r
()->
BSRR
 = 
_MASK
; 
	}
}

39 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_GPIO
::
	`r
()->
BRR
 = 
_MASK
; 
	}
}

41 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_GPIO
::
	`r
()->
ODR
 = v®; 
	}
}

43 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

45 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ if(
_GPIO
::
	`r
()->
ODR
 & 
_MASK
è{ 
	`lo
(); } { 
	`hi
(); } 
	}
}

47 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

48 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

49 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

51 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_GPIO
::
	`r
()->
ODR
 | 
_MASK
; 
	}
}

52 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_GPIO
::
	`r
()->
ODR
 & ~
_MASK
; 
	}
}

53 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_GPIO
::
	`r
()->
ODR
; 
	}
}

54 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_GPIO
::
	`r
()->
BSRR
; 
	}
}

55 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_GPIO
::
	`r
()->
BRR
; 
	}
}

56 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

59 #ià
defšed
(
STM32F10X_MD
)

60 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

61 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 vŞ©
GPIO_Ty³Def
 * 
	`r
(è{  T; } };

	)

62 
	#_FL_IO
(
L
,
C
è
	`_RD32
(
GPIO
 ## L); 
	`_FL_DEFINE_PORT3
(L, C, 
	`_R
(GPIO ## L));

	)

63 #–ià
defšed
(
__STM32F1__
)

64 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

65 
	#_RD32
(
T
è
__g’_¡ruù_
 ## T { 
	`__©Œibu‹__
((
®ways_šlše
)è
šlše
 
gpio_»g_m­
* 
	`r
(è{  T->
»gs
; } };

	)

66 
	#_FL_IO
(
L
,
C
è
	`_RD32
(
GPIO
 ## L); 
	`_FL_DEFINE_PORT3
(L, C, 
	`_R
(GPIO ## L));

	)

71 
	#_FL_DEFPIN
(
PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ARMPIN
<PIN, BIT, 1 << BIT, 
	`_R
(
GPIO
 ## L)> {};

	)

73 #ifdeà
GPIOA


74 
_FL_IO
(
A
,0);

76 #ifdeà
GPIOB


77 
_FL_IO
(
B
,1);

79 #ifdeà
GPIOC


80 
_FL_IO
(
C
,2);

82 #ifdeà
GPIOD


83 
_FL_IO
(
D
,3);

85 #ifdeà
GPIOE


86 
_FL_IO
(
E
,4);

88 #ifdeà
GPIOF


89 
_FL_IO
(
F
,5);

91 #ifdeà
GPIOG


92 
_FL_IO
(
G
,6);

96 #ià
defšed
(
SPARK
)

98 
	#MAX_PIN
 19

	)

99 
_FL_DEFPIN
(0, 7, 
B
);

100 
_FL_DEFPIN
(1, 6, 
B
);

101 
_FL_DEFPIN
(2, 5, 
B
);

102 
_FL_DEFPIN
(3, 4, 
B
);

103 
_FL_DEFPIN
(4, 3, 
B
);

104 
_FL_DEFPIN
(5, 15, 
A
);

105 
_FL_DEFPIN
(6, 14, 
A
);

106 
_FL_DEFPIN
(7, 13, 
A
);

107 
_FL_DEFPIN
(8, 8, 
A
);

108 
_FL_DEFPIN
(9, 9, 
A
);

109 
_FL_DEFPIN
(10, 0, 
A
);

110 
_FL_DEFPIN
(11, 1, 
A
);

111 
_FL_DEFPIN
(12, 4, 
A
);

112 
_FL_DEFPIN
(13, 5, 
A
);

113 
_FL_DEFPIN
(14, 6, 
A
);

114 
_FL_DEFPIN
(15, 7, 
A
);

115 
_FL_DEFPIN
(16, 0, 
B
);

116 
_FL_DEFPIN
(17, 1, 
B
);

117 
_FL_DEFPIN
(18, 3, 
A
);

118 
_FL_DEFPIN
(19, 2, 
A
);

120 
	#SPI_DATA
 15

	)

121 
	#SPI_CLOCK
 13

	)

123 
	#HAS_HARDWARE_PIN_SUPPORT


	)

127 #ià
defšed
(
__STM32F1__
)

129 
	#MAX_PIN
 46

	)

131 
_FL_DEFPIN
(10, 0, 
A
);

132 
_FL_DEFPIN
(11, 1, 
A
);

133 
_FL_DEFPIN
(12, 2, 
A
);

134 
_FL_DEFPIN
(13, 3, 
A
);

135 
_FL_DEFPIN
(14, 4, 
A
);

136 
_FL_DEFPIN
(15, 5, 
A
);

137 
_FL_DEFPIN
(16, 6, 
A
);

138 
_FL_DEFPIN
(17, 7, 
A
);

139 
_FL_DEFPIN
(29, 8, 
A
);

140 
_FL_DEFPIN
(30, 9, 
A
);

141 
_FL_DEFPIN
(31, 10, 
A
);

142 
_FL_DEFPIN
(32, 11, 
A
);

143 
_FL_DEFPIN
(33, 12, 
A
);

144 
_FL_DEFPIN
(34, 13, 
A
);

145 
_FL_DEFPIN
(37, 14, 
A
);

146 
_FL_DEFPIN
(38, 15, 
A
);

148 
_FL_DEFPIN
(18, 0, 
B
);

149 
_FL_DEFPIN
(19, 1, 
B
);

150 
_FL_DEFPIN
(20, 2, 
B
);

151 
_FL_DEFPIN
(39, 3, 
B
);

152 
_FL_DEFPIN
(40, 4, 
B
);

153 
_FL_DEFPIN
(41, 5, 
B
);

154 
_FL_DEFPIN
(42, 6, 
B
);

155 
_FL_DEFPIN
(43, 7, 
B
);

156 
_FL_DEFPIN
(45, 8, 
B
);

157 
_FL_DEFPIN
(46, 9, 
B
);

158 
_FL_DEFPIN
(21, 10, 
B
);

159 
_FL_DEFPIN
(22, 11, 
B
);

161 
_FL_DEFPIN
(2, 13, 
C
);

162 
_FL_DEFPIN
(3, 14, 
C
);

163 
_FL_DEFPIN
(4, 15, 
C
);

165 
	#SPI_DATA
 
BOARD_SPI1_MOSI_PIN


	)

166 
	#SPI_CLOCK
 
BOARD_SPI1_SCK_PIN


	)

168 
	#HAS_HARDWARE_PIN_SUPPORT


	)

174 
	gFASTLED_NAMESPACE_END


	@src/platforms/arm/stm32/led_sysdefs_arm_stm32.h

1 #iâdeà
__INC_LED_SYSDEFS_ARM_SAM_H


2 
	#__INC_LED_SYSDEFS_ARM_SAM_H


	)

4 #ià
defšed
(
STM32F10X_MD
)

6 
	~<­¶iÿtiÚ.h
>

8 
	#FASTLED_NAMESPACE_BEGIN
 
Çme¥aû
 
NSFa¡LED
 {

	)

9 
	#FASTLED_NAMESPACE_END
 }

	)

10 
	#FASTLED_USING_NAMESPACE
 
usšg
 
Çme¥aû
 
NSFa¡LED
;

	)

13 
	#şi
(è
	`__di§bË_œq
(); 
	`__di§bË_çuÉ_œq
();

	)

14 
	#£i
(è
	`__’abË_œq
(); 
	`__’abË_çuÉ_œq
();

	)

16 #–ià
defšed
 (
__STM32F1__
)

18 
	~"cm3_»gs.h
"

20 
	#şi
(è
	`nvic_glob®œq_di§bË
()

	)

21 
	#£i
(è
	`nvic_glob®œq_’abË
()

	)

27 
	#FASTLED_ARM


	)

29 #iâdeà
INTERRUPT_THRESHOLD


30 
	#INTERRUPT_THRESHOLD
 1

	)

34 #iâdeà
FASTLED_ALLOW_INTERRUPTS


35 
	#FASTLED_ALLOW_INTERRUPTS
 0

	)

38 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

39 
	#FASTLED_ACCURATE_CLOCK


	)

43 
	#PROGMEM


	)

44 
	#pgm_»ad_dwÜd
(
addr
è(*(cÚ¡ *)×ddr))

	)

45 
	#pgm_»ad_dwÜd_Ã¬
(
addr
è
	`pgm_»ad_dwÜd
×ddr)

	)

48 #iâdeà
FASTLED_USE_PROGMEM


49 
	#FASTLED_USE_PROGMEM
 0

	)

53 vŞ©
	tušt8_t
 
	tRoReg
;

54 vŞ©
	tušt8_t
 
	tRwReg
;

56 
	#FASTLED_NO_PINMAP


	)

58 #iâdeà
F_CPU


59 
	#F_CPU
 72000000

	)

	@src/platforms/avr/clockless_trinket.h

1 #iâdeà
__INC_CLOCKLESS_TRINKET_H


2 
	#__INC_CLOCKLESS_TRINKET_H


	)

4 
	~"../../cÚŒŞËr.h
"

5 
	~"../../lib8tiÚ.h
"

6 
	~<avr/š‹¼u±.h
>

8 
	gFASTLED_NAMESPACE_BEGIN


10 #ià
defšed
(
FASTLED_AVR
)

13 #iâdeà
TRINKET_SCALE


14 
	#TRINKET_SCALE
 1

	)

16 
	#DITHER
 1

	)

19 #ià(
F_CPU
==8000000)

20 
	#FASTLED_SLOW_CLOCK_ADJUST


21 #–£

	)

22 
	#FASTLED_SLOW_CLOCK_ADJUST


	)

25 
	#US_PER_TICK
 (64 / (
F_CPU
/1000000))

	)

28 
	g‹m¶©e
<
	gCYCLES
> 
šlše
 
_dc
(
ušt8_t
 & 
loİv¬
);

30 
	g‹m¶©e
<
	g_LOOP
, 
	gPAD
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$_dc_AVR
(
ušt8_t
 & 
loİv¬
) {

31 
_dc
<
PAD
>(
loİv¬
);

33 
asm
 
	`__vŞ©e__
 ( "BRCS L_PC%=\n\t"

38 [
loİv¬
] "+a" (loİv¬è: [
_LOOP
] "M" (_LOOP) : );

39 
	}
}

41 
	g‹m¶©e
<
	gCYCLES
> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	$_dc
(
ušt8_t
 & 
loİv¬
) {

42 
_dc_AVR
<
CYCLES
/6,CYCLES%6>(
loİv¬
);

43 
	}
}

44 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<-6>(
	gušt8_t
 & ) {}

45 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<-5>(
	gušt8_t
 & ) {}

46 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<-4>(
	gušt8_t
 & ) {}

47 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<-3>(
	gušt8_t
 & ) {}

48 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<-2>(
	gušt8_t
 & ) {}

49 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<-1>(
	gušt8_t
 & ) {}

50 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 0>(
	gušt8_t
 & ) {}

51 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 1>(
	gušt8_t
 & ) {
asm
 
__vŞ©e__
("mov„0,r0":::);}

52 #ià
defšed
(
__LGT8F__
)

53 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 2>(
	gušt8_t
 & 
	gloİv¬
) { _dc<1>(loopvar); _dc<1>(loopvar); }

55 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 2>(
	gušt8_t
 & ) {
asm
 
__vŞ©e__
("rjmp .+0":::);}

57 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 3>(
	gušt8_t
 & 
	gloİv¬
) { _dc<2>(loopvar); _dc<1>(loopvar); }

58 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 4>(
	gušt8_t
 & 
	gloİv¬
) { _dc<2>(loopvar); _dc<2>(loopvar); }

59 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 5>(
	gušt8_t
 & 
	gloİv¬
) { _dc<2>(loopvar); _dc<3>(loopvar); }

60 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 6>(
	gušt8_t
 & 
	gloİv¬
) { _dc<2>(loopvar); _dc<2>(loopvar); _dc<2>(loopvar);}

61 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 7>(
	gušt8_t
 & 
	gloİv¬
) { _dc<4>(loopvar); _dc<3>(loopvar); }

62 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 8>(
	gušt8_t
 & 
	gloİv¬
) { _dc<4>(loopvar); _dc<4>(loopvar); }

63 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
< 9>(
	gušt8_t
 & 
	gloİv¬
) { _dc<5>(loopvar); _dc<4>(loopvar); }

64 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<10>(
	gušt8_t
 & 
	gloİv¬
) { _dc<6>(loopvar); _dc<4>(loopvar); }

65 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<11>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<1>(loopvar); }

66 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<12>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<2>(loopvar); }

67 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<13>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<3>(loopvar); }

68 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<14>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<4>(loopvar); }

69 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<15>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<5>(loopvar); }

70 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<16>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<6>(loopvar); }

71 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<17>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<7>(loopvar); }

72 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<18>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<8>(loopvar); }

73 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<19>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<9>(loopvar); }

74 
	g‹m¶©e
<> 
__©Œibu‹__
((
®ways_šlše
)è
šlše
 
	g_dc
<20>(
	gušt8_t
 & 
	gloİv¬
) { _dc<10>(loopvar); _dc<10>(loopvar); }

76 
	#DINTPIN
(
T
,
ADJ
,
PINADJ
è(T-(PINADJ+ADJ)>0è? 
_dc
<T-(PINADJ+ADJ)>(
loİv¬
è: _dc<0>Öoİv¬);

	)

77 
	#DINT
(
T
,
ADJ
èif(
	`AVR_PIN_CYCLES
(
DATA_PIN
)==1è{ 
	`DINTPIN
(T,ADJ,1è} { DINTPIN(T,ADJ,2); }

	)

78 
	#_D1
(
ADJ
è
	`DINT
(
T1
,ADJ)

	)

79 
	#_D2
(
ADJ
è
	`DINT
(
T2
,ADJ)

	)

80 
	#_D3
(
ADJ
è
	`DINT
(
T3
,ADJ)

	)

90 #ià(!
defšed
(
NO_CORRECTION
è|| (NO_CORRECTION =ğ0)è&& (
FASTLED_ALLOW_INTERRUPTS
 == 0)

91 
ušt8_t
 
	ggTimeE¼ÜAccum256ths
;

94 
	#FASTLED_HAS_CLOCKLESS
 1

	)

96 
	g‹m¶©e
 <
ušt8_t
 
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 10>

97 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

98 
¡©ic_as£¹
(
T1
 >ğ2 && 
T2
 >ğ2 && 
T3
 >= 3, "Notƒnough cycles - use‡ higher clock speed");

100 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

101 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

103 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

105 
	gpublic
:

106 
vœtu®
 
š™
() {

107 
Fa¡Pš
<
DATA_PIN
>::
£tOuut
();

110 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

112 
	g´Ùeùed
:

113 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

115 
mWa™
.
wa™
();

116 
şi
();

118 
showRGBIÁ”Çl
(
pix–s
);

121 #ià(!
defšed
(
NO_CORRECTION
è|| (NO_CORRECTION =ğ0)è&& (
FASTLED_ALLOW_INTERRUPTS
 == 0)

122 
ušt32_t
 
	gmiüosTak’
 = (ušt32_t)
pix–s
.
size
(è* (ušt32_t)
CLKS_TO_MICROS
(24 * (
T1
 + 
T2
 + 
T3
));

127 
	gmiüosTak’
 +ğ
sÿË16by8
(
pix–s
.
size
(),(0.6 * 256è+ 1è* 
CLKS_TO_MICROS
(16);

135 ifĞ
	gmiüosTak’
 > 1000) {

139 
	gmiüosTak’
 -= 1000;

144 
ušt16_t
 
	gx256ths
 = 
miüosTak’
 >> 2;

145 
	gx256ths
 +ğ
sÿË16by8
(
x256ths
,7);

147 
	gx256ths
 +ğ
gTimeE¼ÜAccum256ths
;

148 
	gMS_COUNTER
 +ğ(
x256ths
 >> 8);

149 
	ggTimeE¼ÜAccum256ths
 = 
x256ths
 & 0xFF;

163 
ušt16_t
 
	gmiüosTak’
 = (
ušt32_t
)
nLeds
 * (ušt32_t)
CLKS_TO_MICROS
((24è* (
T1
 + 
T2
 + 
T3
));

164 
	gMS_COUNTER
 +ğ(
miüosTak’
 >> 10);

169 
£i
();

170 
	gmWa™
.
m¬k
();

172 
	#USE_ASM_MACROS


	)

174 #ià
defšed
(
__AVR_ATmega4809__
)

175 
	#ASM_VAR_PORT
 "r" (((
PORT_t
*)
Fa¡Pš
<
DATA_PIN
>::
	`pÜt
())->
OUT
)

	)

177 
	#ASM_VAR_PORT
 "M" (
Fa¡Pš
<
DATA_PIN
>::
	`pÜt
(è- 0x20)

	)

182 
	#ASM_VARS
 : \

183 [
couÁ
] "+x" (count), \

184 [
d©a
] "+z" (data), \

185 [
b1
] "+a" (b1), \

186 [
d0
] "+r" (d0), \

187 [
d1
] "+r" (d1), \

188 [
d2
] "+r" (d2), \

189 [
loİv¬
] "+a" (loopvar), \

190 [
sÿË_ba£
] "+a" (scale_base) \

192 [
ADV
] "r" (
advªûBy
), \

193 [
b0
] "a" (b0), \

194 [
hi
] "r" (hi), \

195 [
lo
] "r" (lo), \

196 [
s0
] "r" (s0), \

197 [
s1
] "r" (s1), \

198 [
s2
] "r" (s2), \

199 [
e0
] "r" (e0), \

200 [
e1
] "r" (e1), \

201 [
e2
] "r" (e2), \

202 [
PORT
] 
ASM_VAR_PORT
, \

203 [
O0
] "M" (
	`RGB_BYTE0
(
RGB_ORDER
)), \

204 [
O1
] "M" (
	`RGB_BYTE1
(
RGB_ORDER
)), \

205 [
O2
] "M" (
	`RGB_BYTE2
(
RGB_ORDER
)) \

206 : "cc"

	)

209 
	#HI1
 
FASTLED_SLOW_CLOCK_ADJUST
 if(()(
Fa¡Pš
<
DATA_PIN
>::
	`pÜt
())-0x20 < 64è{ 
asm
 
	`__vŞ©e__
("ouˆ%[PORT], %[hi]" 
ASM_VARS
 ); } { *Fa¡Pš<DATA_PIN>::pÜt()=
hi
; }

	)

211 
	#LO1
 if(()(
Fa¡Pš
<
DATA_PIN
>::
	`pÜt
())-0x20 < 64è{ 
asm
 
	`__vŞ©e__
("ouˆ%[PORT], %[lo]" 
ASM_VARS
 ); } { *Fa¡Pš<DATA_PIN>::pÜt()=
lo
; }

	)

214 
	#QLO2
(
B
, 
N
è
asm
 
	`__vŞ©e__
("sbr %[" #B "], " #N 
ASM_VARS
 ); 
LO1
;

	)

216 
	#LD2
(
B
,
O
è
asm
 
	`__vŞ©e__
("ldd %[" #B "], Z + %[" #O "]\n\t" 
ASM_VARS
 );

	)

218 
	#LDSCL4
(
B
,
O
è
asm
 
	`__vŞ©e__
("ldd %[sÿË_ba£], Z + %[" #O "]\n\tş¸%[" #B "]\n\tşc\n\t" 
ASM_VARS
 );

	)

220 #ià(
DITHER
==1)

222 
	#PRESCALE4
(
D
è
asm
 
	`__vŞ©e__
("ı£ %[sÿË_ba£], __z”o_»g__\n\ˆadd %[sÿË_ba£],%[" #D "]\n\tbrcøL_%=\n\d˜%[sÿË_ba£], 0xFF\n\tL_%=:\n\t" 
ASM_VARS
);

	)

225 
	#PRESCALEA2
(
D
è
asm
 
	`__vŞ©e__
("ı£ %[sÿË_ba£], __z”o_»g__\n\ˆadd %[sÿË_ba£],%[" #D "]\n\t" 
ASM_VARS
);

	)

228 
	#PRESCALEB4
(
D
è
asm
 
	`__vŞ©e__
("brcøL_%=\n\d˜%[sÿË_ba£], 0xFF\n\tL_%=:\n\Šeg %[" #D "]\n\tCLC" 
ASM_VARS
);

	)

231 
	#PSBIDATA4
(
D
è
asm
 
	`__vŞ©e__
("brcøL_%=\n\d˜%[sÿË_ba£], 0xFF\n\tL_%=:\n\dd %A[d©a], %[ADV]\n\dø%B[d©a], __z”o_»g__\n\t" 
ASM_VARS
);

	)

234 
	#PRESCALE4
(
D
è
_dc
<4>(
loİv¬
);

	)

235 
	#PRESCALEA2
(
D
è
_dc
<2>(
loİv¬
);

	)

236 
	#PRESCALEB4
(
D
è
_dc
<4>(
loİv¬
);

	)

237 
	#PSBIDATA4
(
D
è
asm
 
	`__vŞ©e__
Ğ"add %A[d©a], %[ADV]\n\dø%B[d©a], __z”o_»g__\n\Œjm°.+0\n\t" 
ASM_VARS
 );

	)

241 
	#_SCALE02
(
B
, 
N
è"sbrø%[s0], " #N "\n\dd %[" #B "], %[sÿË_ba£]\n\t"

	)

242 
	#_SCALE12
(
B
, 
N
è"sbrø%[s1], " #N "\n\dd %[" #B "], %[sÿË_ba£]\n\t"

	)

243 
	#_SCALE22
(
B
, 
N
è"sbrø%[s2], " #N "\n\dd %[" #B "], %[sÿË_ba£]\n\t"

	)

244 
	#SCALE02
(
B
,
N
è
asm
 
	`__vŞ©e__
Ğ
	`_SCALE02
(B,Nè
ASM_VARS
 );

	)

245 
	#SCALE12
(
B
,
N
è
asm
 
	`__vŞ©e__
Ğ
	`_SCALE12
(B,Nè
ASM_VARS
 );

	)

246 
	#SCALE22
(
B
,
N
è
asm
 
	`__vŞ©e__
Ğ
	`_SCALE22
(B,Nè
ASM_VARS
 );

	)

249 
	#_ROR1
(
B
è"rÜ %[" #B "]\n\t"

	)

250 
	#ROR1
(
B
è
asm
 
	`__vŞ©e__
Ğ
	`_ROR1
(Bè
ASM_VARS
);

	)

253 
	#_CLC1
 "şc\n\t"

	)

254 
	#CLC1
 
asm
 
	`__vŞ©e__
Ğ
_CLC1
 
ASM_VARS
 );

	)

257 
	#RORCLC2
(
B
è
asm
 
	`__vŞ©e__
Ğ
	`_ROR1
(Bè
_CLC1
 
ASM_VARS
 );

	)

260 
	#RORSC04
(
B
, 
N
è
asm
 
	`__vŞ©e__
Ğ
	`_ROR1
(Bè
_CLC1
 
	`_SCALE02
(B, Nè
ASM_VARS
 );

	)

261 
	#RORSC14
(
B
, 
N
è
asm
 
	`__vŞ©e__
Ğ
	`_ROR1
(Bè
_CLC1
 
	`_SCALE12
(B, Nè
ASM_VARS
 );

	)

262 
	#RORSC24
(
B
, 
N
è
asm
 
	`__vŞ©e__
Ğ
	`_ROR1
(Bè
_CLC1
 
	`_SCALE22
(B, Nè
ASM_VARS
 );

	)

265 
	#SCROR04
(
B
, 
N
è
asm
 
	`__vŞ©e__
Ğ
	`_SCALE02
(B,Nè
	`_ROR1
(Bè
_CLC1
 
ASM_VARS
 );

	)

266 
	#SCROR14
(
B
, 
N
è
asm
 
	`__vŞ©e__
Ğ
	`_SCALE12
(B,Nè
	`_ROR1
(Bè
_CLC1
 
ASM_VARS
 );

	)

267 
	#SCROR24
(
B
, 
N
è
asm
 
	`__vŞ©e__
Ğ
	`_SCALE22
(B,Nè
	`_ROR1
(Bè
_CLC1
 
ASM_VARS
 );

	)

274 
	#_NEGD1
(
D
è"Ãg %[" #D "]\n\t"

	)

275 
	#_ADJD1
(
D
,
E
è"add %[" #D "], %[" #E "]\n\t"

	)

276 
	#ADJDITHER2
(
D
, 
E
è
asm
 
	`__vŞ©e__
 ( 
	`_NEGD1
(Dè
	`_ADJD1
(D, Eè
ASM_VARS
);

	)

277 
	#ADDDE1
(
D
, 
E
è
asm
 
	`__vŞ©e__
 ( 
	`_ADJD1
(D, Eè
ASM_VARS
 );

	)

284 
	#LOOP
 
asm
 
	`__vŞ©e__
("1:" 
ASM_VARS
 );

	)

286 
	#DONE
 
asm
 
	`__vŞ©e__
("2:" 
ASM_VARS
 );

	)

289 
	#IDATA2
 
asm
 
	`__vŞ©e__
("add %A[d©a], %[ADV]\n\dø%B[d©a], __z”o_»g__\n\t" 
ASM_VARS
 );

	)

290 
	#IDATACLC3
 
asm
 
	`__vŞ©e__
("add %A[d©a], %[ADV]\n\dø%B[d©a], __z”o_»g__\n\t" 
_CLC1
 
ASM_VARS
 );

	)

293 
	#_MOV1
(
B1
, 
B2
è"mov %[" #B1 "], %[" #B2 "]\n\t"

	)

295 
	#MOV1
(
B1
, 
B2
è
asm
 
	`__vŞ©e__
Ğ
	`_MOV1
(B1,B2è
ASM_VARS
 );

	)

298 #ià(
FASTLED_SCALE8_FIXED
 == 1)

299 
	#_MOV_FIX03
(
B1
, 
B2
è"mov %[" #B1 "], %[sÿË_ba£]\n\tı£ %[s0], __z”o_»g__\n\t" 
	`_MOV1
(B1, B2)

	)

300 
	#_MOV_FIX13
(
B1
, 
B2
è"mov %[" #B1 "], %[sÿË_ba£]\n\tı£ %[s1], __z”o_»g__\n\t" 
	`_MOV1
(B1, B2)

	)

301 
	#_MOV_FIX23
(
B1
, 
B2
è"mov %[" #B1 "], %[sÿË_ba£]\n\tı£ %[s2], __z”o_»g__\n\t" 
	`_MOV1
(B1, B2)

	)

305 
	#_MOV_FIX03
(
B1
, 
B2
è
	`_MOV1
(B1, B2è"rjm°.+0\n\t"

	)

306 
	#_MOV_FIX13
(
B1
, 
B2
è
	`_MOV1
(B1, B2è"rjm°.+0\n\t"

	)

307 
	#_MOV_FIX23
(
B1
, 
B2
è
	`_MOV1
(B1, B2è"rjm°.+0\n\t"

	)

311 
	#MOV_NEGD04
(
B1
, 
B2
, 
D
è
asm
 
	`__vŞ©e
Ğ
	`_MOV_FIX03
(B1, B2è
	`_NEGD1
(Dè
ASM_VARS
 );

	)

312 
	#MOV_ADDDE04
(
B1
, 
B2
, 
D
, 
E
è
asm
 
	`__vŞ©e
Ğ
	`_MOV_FIX03
(B1, B2è
	`_ADJD1
(D, Eè
ASM_VARS
 );

	)

313 
	#MOV_NEGD14
(
B1
, 
B2
, 
D
è
asm
 
	`__vŞ©e
Ğ
	`_MOV_FIX13
(B1, B2è
	`_NEGD1
(Dè
ASM_VARS
 );

	)

314 
	#MOV_ADDDE14
(
B1
, 
B2
, 
D
, 
E
è
asm
 
	`__vŞ©e
Ğ
	`_MOV_FIX13
(B1, B2è
	`_ADJD1
(D, Eè
ASM_VARS
 );

	)

315 
	#MOV_NEGD24
(
B1
, 
B2
, 
D
è
asm
 
	`__vŞ©e
Ğ
	`_MOV_FIX23
(B1, B2è
	`_NEGD1
(Dè
ASM_VARS
 );

	)

318 
	#DCOUNT2
 
asm
 
	`__vŞ©e__
("sbiw %[couÁ], 1" 
ASM_VARS
 );

	)

320 
	#JMPLOOP2
 
asm
 
	`__vŞ©e__
("rjm°1b" 
ASM_VARS
 );

	)

322 
	#BRLOOP1
 
asm
 
	`__vŞ©e__
("bº3\n\Œjm°2f\n\t3:" 
ASM_VARS
 );

	)

325 
	#ENDLOOP5
 
asm
 
	`__vŞ©e__
("sbiw %[couÁ], 1\n\tb»q L_%=\n\Œjm°1b\n\tL_%=:\n\t" 
ASM_VARS
);

	)

328 
	#DNOP
 
asm
 
	`__vŞ©e__
("mov„0,r0" 
ASM_VARS
);

	)

330 
	#DADVANCE
 3

	)

331 
	#DUSE
 (0xFF - (
DADVANCE
-1))

	)

334 
	#FL_FALLTHROUGH
 
	`__©Œibu‹__
 ((
çÎthrough
));

	)

338 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

339 
ušt8_t
 *
	gd©a
 = (ušt8_t*)
pix–s
.
mD©a
;

340 
d©a_±r_t
 
	gpÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

341 
d©a_t
 
	gmask
 = 
Fa¡Pš
<
DATA_PIN
>::
mask
();

342 
ušt8_t
 
	gsÿË_ba£
 = 0;

345 
d©a_t
 
	ghi
 = *
pÜt
 | 
mask
;

346 
d©a_t
 
	glo
 = *
pÜt
 & ~
mask
;

347 *
	gpÜt
 = 
lo
;

350 
ušt8_t
 
	gb0
 = 0;

352 
ušt8_t
 
	gb1
 = 0;

355 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

358 
ušt8_t
 
	gadvªûBy
 = 
pix–s
.
advªûBy
();

359 
ušt16_t
 
	gcouÁ
 = 
pix–s
.
mL’
;

361 
ušt8_t
 
	gs0
 = 
pix–s
.
mSÿË
.
¿w
[
RO
(0)];

362 
ušt8_t
 
	gs1
 = 
pix–s
.
mSÿË
.
¿w
[
RO
(1)];

363 
ušt8_t
 
	gs2
 = 
pix–s
.
mSÿË
.
¿w
[
RO
(2)];

364 #ià(
FASTLED_SCALE8_FIXED
==1)

365 
	gs0
++; 
	gs1
++; 
	gs2
++;

367 
ušt8_t
 
	gd0
 = 
pix–s
.
d
[
RO
(0)];

368 
ušt8_t
 
	gd1
 = 
pix–s
.
d
[
RO
(1)];

369 
ušt8_t
 
	gd2
 = 
pix–s
.
d
[
RO
(2)];

370 
ušt8_t
 
	ge0
 = 
pix–s
.
e
[
RO
(0)];

371 
ušt8_t
 
	ge1
 = 
pix–s
.
e
[
RO
(1)];

372 
ušt8_t
 
	ge2
 = 
pix–s
.
e
[
RO
(2)];

374 
ušt8_t
 
	gloİv¬
=0;

377 
	gb0
 = 
d©a
[
RO
(0)];

379 
LDSCL4
(
b0
,
O0
è
PRESCALEA2
(
d0
)

380 
PRESCALEB4
(
d0
è
SCALE02
(
b0
,0)

381 
RORSC04
(
b0
,1è
ROR1
(b0è
CLC1


382 
SCROR04
(
b0
,2è
SCALE02
(b0,3)

383 
RORSC04
(
b0
,4è
ROR1
(b0è
CLC1


384 
SCROR04
(
b0
,5è
SCALE02
(b0,6)

385 
RORSC04
(
b0
,7è
ROR1
(b0è
CLC1


386 
MOV_ADDDE04
(
b1
,
b0
,
d0
,
e0
)

387 
MOV1
(
b0
,
b1
)

394 
	gDNOP
;

395 
	gLOOP
;

408 
HI1
 
_D1
(1è
QLO2
(
b0
, 7è
LDSCL4
(
b1
,
O1
è
_D2
(4è
LO1
 
PRESCALEA2
(
d1
è
_D3
(2)

409 
HI1
 
_D1
(1è
QLO2
(
b0
, 6è
PRESCALEB4
(
d1
è
_D2
(4è
LO1
 
SCALE12
(
b1
,0è
_D3
(2)

410 
HI1
 
_D1
(1è
QLO2
(
b0
, 5è
RORSC14
(
b1
,1è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

411 
HI1
 
_D1
(1è
QLO2
(
b0
, 4è
SCROR14
(
b1
,2è
_D2
(4è
LO1
 
SCALE12
(b1,3è
_D3
(2)

412 
HI1
 
_D1
(1è
QLO2
(
b0
, 3è
RORSC14
(
b1
,4è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

413 
HI1
 
_D1
(1è
QLO2
(
b0
, 2è
SCROR14
(
b1
,5è
_D2
(4è
LO1
 
SCALE12
(b1,6è
_D3
(2)

414 
HI1
 
_D1
(1è
QLO2
(
b0
, 1è
RORSC14
(
b1
,7è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

415 
HI1
 
_D1
(1è
QLO2
(
b0
, 0)

416 
	gXTRA0
) {

417 4: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

418 3: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

419 2: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

420 1: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

422 
MOV_ADDDE14
(
b0
,
b1
,
d1
,
e1
è
_D2
(4è
LO1
 
_D3
(0)

424 
HI1
 
_D1
(1è
QLO2
(
b0
, 7è
LDSCL4
(
b1
,
O2
è
_D2
(4è
LO1
 
PRESCALEA2
(
d2
è
_D3
(2)

425 
HI1
 
_D1
(1è
QLO2
(
b0
, 6è
PSBIDATA4
(
d2
è
_D2
(4è
LO1
 
SCALE22
(
b1
,0è
_D3
(2)

426 
HI1
 
_D1
(1è
QLO2
(
b0
, 5è
RORSC24
(
b1
,1è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

427 
HI1
 
_D1
(1è
QLO2
(
b0
, 4è
SCROR24
(
b1
,2è
_D2
(4è
LO1
 
SCALE22
(b1,3è
_D3
(2)

428 
HI1
 
_D1
(1è
QLO2
(
b0
, 3è
RORSC24
(
b1
,4è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

429 
HI1
 
_D1
(1è
QLO2
(
b0
, 2è
SCROR24
(
b1
,5è
_D2
(4è
LO1
 
SCALE22
(b1,6è
_D3
(2)

430 
HI1
 
_D1
(1è
QLO2
(
b0
, 1è
RORSC24
(
b1
,7è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

431 
HI1
 
_D1
(1è
QLO2
(
b0
, 0)

432 
	gXTRA0
) {

433 4: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

434 3: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

435 2: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

436 1: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

442 
MOV_NEGD24
(
b0
,
b1
,
d2
è
_D2
(4è
LO1
 
ADDDE1
(d2,
e2
è
_D3
(1)

443 
HI1
 
_D1
(1è
QLO2
(
b0
, 7è
LDSCL4
(
b1
,
O0
è
_D2
(4è
LO1
 
PRESCALEA2
(
d0
è
_D3
(2)

444 
HI1
 
_D1
(1è
QLO2
(
b0
, 6è
PRESCALEB4
(
d0
è
_D2
(4è
LO1
 
SCALE02
(
b1
,0è
_D3
(2)

445 
HI1
 
_D1
(1è
QLO2
(
b0
, 5è
RORSC04
(
b1
,1è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

446 
HI1
 
_D1
(1è
QLO2
(
b0
, 4è
SCROR04
(
b1
,2è
_D2
(4è
LO1
 
SCALE02
(b1,3è
_D3
(2)

447 
HI1
 
_D1
(1è
QLO2
(
b0
, 3è
RORSC04
(
b1
,4è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

448 
HI1
 
_D1
(1è
QLO2
(
b0
, 2è
SCROR04
(
b1
,5è
_D2
(4è
LO1
 
SCALE02
(b1,6è
_D3
(2)

449 
HI1
 
_D1
(1è
QLO2
(
b0
, 1è
RORSC04
(
b1
,7è
_D2
(4è
LO1
 
RORCLC2
(b1è
_D3
(2)

450 
HI1
 
_D1
(1è
QLO2
(
b0
, 0)

451 
	gXTRA0
) {

452 4: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

453 3: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

454 2: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

455 1: 
_D2
(0è
LO1
 
_D3
(0è
HI1
 
_D1
(1è
QLO2
(
b0
,0)

457 
MOV_ADDDE04
(
b0
,
b1
,
d0
,
e0
è
_D2
(4è
LO1
 
_D3
(5)

458 
	gENDLOOP5


460 
	gDONE
;

463 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

465 
	gTCCR0A
 &= ~0x30;

473 
	gFASTLED_NAMESPACE_END


	@src/platforms/avr/fastled_avr.h

1 #iâdeà
__INC_FASTLED_AVR_H


2 
	#__INC_FASTLED_AVR_H


	)

4 
	~"ç¡pš_avr.h
"

5 
	~"ç¡¥i_avr.h
"

6 
	~"şockËss_Œšk‘.h
"

9 #iâdeà
FASTLED_USE_PROGMEM


10 
	#FASTLED_USE_PROGMEM
 1

	)

	@src/platforms/avr/fastpin_avr.h

1 #iâdeà
__INC_FASTPIN_AVR_H


2 
	#__INC_FASTPIN_AVR_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


6 #ià
defšed
(
FASTLED_FORCE_SOFTWARE_PINS
)

8 
	#NO_HARDWARE_PIN_SUPPORT


	)

9 #undeà
HAS_HARDWARE_PIN_SUPPORT


13 
	#AVR_PIN_CYCLES
(
_PIN
è(((()
Fa¡Pš
<_PIN>::
	`pÜt
())-0x20 < 64è? 1 : 2)

	)

17 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, ušt8_ˆ
	g_MASK
, 
ty³Çme
 
	g_PORT
,y³Çm
	g_DDR
,y³Çm
	g_PIN
> cÏs 
	c_AVRPIN
 {

18 
	mpublic
:

19 vŞ©
	tušt8_t
 * 
	tpÜt_±r_t
;

20 
ušt8_t
 
	tpÜt_t
;

22 
šlše
 
	$£tOuut
(è{ 
_DDR
::
	`r
(è|ğ
_MASK
; }

23 
šlše
 
	$£tIÅut
(è{ 
_DDR
::
	`r
(è&ğ~
_MASK
; 
	}
}

25 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PORT
::
	`r
(è|ğ
_MASK
; 
	}
}

26 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PORT
::
	`r
(è&ğ~
_MASK
; 
	}
}

27 
šlše
 
	$£t
(
ušt8_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PORT
::
	`r
(èğv®; 
	}
}

29 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

31 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
_PIN
::
	`r
(èğ
_MASK
; 
	}
}

33 
šlše
 
	$hi
(
pÜt_±r_t
 ) 
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

34 
šlše
 
	$lo
(
pÜt_±r_t
 ) 
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

35 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 , 
ušt8_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`£t
(v®); 
	}
}

37 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PORT
::
	`r
(è| 
_MASK
; 
	}
}

38 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_PORT
::
	`r
(è& ~
_MASK
; 
	}
}

39 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_PORT
::
	`r
(); 
	}
}

40 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
_MASK
; 
	}
}

48 vŞ©
	tušt8_t
 & 
	t»g8_t
;

49 
	#_R
(
T
è
__g’_¡ruù_
 ## 
	)
T

50 
	#_RD8
(
T
è
__g’_¡ruù_
 ## T { 
šlše
 
»g8_t
 
	`r
(è{  T; }};

	)

53 #ià
defšed
(
AVR_ATtšyxy7
è|| defšed(
AVR_ATtšyxy6
è|| defšed(
AVR_ATtšyxy4
è|| defšed(
AVR_ATtšyxy2
è|| defšed(
__AVR_ATmega4809__
)

55 
	#_FL_IO
(
L
,
C
è
	`_RD8
(
PORT
 ## L ## 
_DIR
); _RD8(PORT ## L ## 
_OUT
); _RD8(PORT ## L ## 
_IN
); 
	`_FL_DEFINE_PORT3
(L, C, 
	`_R
(PORT ## L ## _OUT));

	)

56 
	#_FL_DEFPIN
(
_PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<_PIN> : 
public
 
_AVRPIN
<_PIN, 1<<BIT, 
	`_R
(
PORT
 ## L ## 
_OUT
), _R(PORT ## L ## 
_DIR
), _R(PORT ## L ## 
_IN
)> {};

	)

59 
	#_FL_IO
(
L
,
C
è
	`_RD8
(
DDR
 ## L); _RD8(
PORT
 ## L); _RD8(
PIN
 ## L); 
	`_FL_DEFINE_PORT3
(L, C, 
	`_R
(PORT ## L));

	)

60 
	#_FL_DEFPIN
(
_PIN
, 
BIT
, 
L
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<_PIN> : 
public
 
_AVRPIN
<_PIN, 1<<BIT, 
	`_R
(
PORT
 ## L), _R(
DDR
 ## L), _R(
PIN
 ## L)> {};

	)

64 #ifdeà
PORTA


65 
	$_FL_IO
(
A
,0)

67 #ifdeà
PORTB


68 
	$_FL_IO
(
B
,1)

70 #ifdeà
PORTC


71 
	$_FL_IO
(
C
,2)

73 #ifdeà
PORTD


74 
	$_FL_IO
(
D
,3)

76 #ifdeà
PORTE


77 
	$_FL_IO
(
E
,4)

79 #ifdeà
PORTF


80 
	$_FL_IO
(
F
,5)

82 #ifdeà
PORTG


83 
	$_FL_IO
(
G
,6)

85 #ifdeà
PORTH


86 
	$_FL_IO
(
H
,7)

88 #ifdeà
PORTI


89 
	$_FL_IO
(
I
,8)

91 #ifdeà
PORTJ


92 
	$_FL_IO
(
J
,9)

94 #ifdeà
PORTK


95 
	$_FL_IO
(
K
,10)

97 #ifdeà
PORTL


98 
	$_FL_IO
(
L
,11)

100 #ifdeà
PORTM


101 
	$_FL_IO
(
M
,12)

103 #ifdeà
PORTN


104 
	$_FL_IO
(
N
,13)

107 #ià
	`defšed
(
__AVR_ATtšy85__
è|| defšed(
__AVR_ATtšy45__
è|| defšed(
__AVR_ATtšy25__
)

109 #ià
	`defšed
(
__AVR_ATtšy25__
)

110 #´agm¨
mes§ge
 "ATtiny25 has very†imited storage. This†ibrary could use upo morehan 100% of its flash size"

113 
	#MAX_PIN
 5

	)

115 
	`_FL_DEFPIN
(0, 0, 
B
); _FL_DEFPIN(1, 1, B); _FL_DEFPIN(2, 2, B); _FL_DEFPIN(3, 3, B);

116 
	`_FL_DEFPIN
(4, 4, 
B
); _FL_DEFPIN(5, 5, B);

118 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

120 #–ià
	`defšed
(
__AVR_ATtšy841__
è|| defšed(
__AVR_ATtšy441__
)

121 
	#MAX_PIN
 11

	)

123 
	`_FL_DEFPIN
(0, 0, 
B
); _FL_DEFPIN(1, 1, B); _FL_DEFPIN(2, 2, B);

124 
	`_FL_DEFPIN
(3, 7, 
A
); _FL_DEFPIN(4, 6, A); _FL_DEFPIN(5, 5, A);

125 
	`_FL_DEFPIN
(6, 4, 
A
); _FL_DEFPIN(7, 3, A); _FL_DEFPIN(8, 2, A);

126 
	`_FL_DEFPIN
(9, 1, 
A
); _FL_DEFPIN(10, 0, A); _FL_DEFPIN(11, 3, 
B
);

128 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

130 #–ià
	`defšed
(
ARDUINO_AVR_DIGISPARK
)

131 
	#MAX_PIN
 5

	)

132 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

134 
	`_FL_DEFPIN
(0, 0, 
B
); _FL_DEFPIN(1, 1, B); _FL_DEFPIN(2, 2, B);

135 
	`_FL_DEFPIN
(3, 7, 
A
); _FL_DEFPIN(4, 6, A); _FL_DEFPIN(5, 5, A);

137 #–ià
	`defšed
(
__AVR_ATtšy24__
è|| defšed(
__AVR_ATtšy44__
è|| defšed(
__AVR_ATtšy84__
)

139 
	#MAX_PIN
 10

	)

141 
	`_FL_DEFPIN
(0, 0, 
A
); _FL_DEFPIN(1, 1, A); _FL_DEFPIN(2, 2, A); _FL_DEFPIN(3, 3, A);

142 
	`_FL_DEFPIN
(4, 4, 
A
); _FL_DEFPIN(5, 5, A); _FL_DEFPIN(6, 6, A); _FL_DEFPIN(7, 7, A);

143 
	`_FL_DEFPIN
(8, 2, 
B
); _FL_DEFPIN(9, 1, B); _FL_DEFPIN(10, 0, B);

145 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

147 #–ià
	`defšed
(
ARDUINO_AVR_DIGISPARKPRO
)

149 
	#MAX_PIN
 12

	)

151 
	`_FL_DEFPIN
(0, 0, 
B
); _FL_DEFPIN(1, 1, B); _FL_DEFPIN(2, 2, B); _FL_DEFPIN(3, 5, B);

152 
	`_FL_DEFPIN
(4, 3, 
B
); _FL_DEFPIN(5, 7, 
A
); _FL_DEFPIN(6, 0, A); _FL_DEFPIN(7, 1, A);

153 
	`_FL_DEFPIN
(8, 2, 
A
); _FL_DEFPIN(9, 3, A); _FL_DEFPIN(10, 4, A); _FL_DEFPIN(11, 5, A);

154 
	`_FL_DEFPIN
(12, 6, 
A
);

156 #–ià
	`defšed
(
__AVR_ATtšy167__
è|| defšed(
__AVR_ATtšy87__
)

158 
	#MAX_PIN
 15

	)

160 
	`_FL_DEFPIN
(0, 0, 
A
); _FL_DEFPIN(1, 1, A); _FL_DEFPIN(2, 2, A); _FL_DEFPIN(3, 3, A);

161 
	`_FL_DEFPIN
(4, 4, 
A
); _FL_DEFPIN(5, 5, A); _FL_DEFPIN(6, 6, A); _FL_DEFPIN(7, 7, A);

162 
	`_FL_DEFPIN
(8, 0, 
B
); _FL_DEFPIN(9, 1, B); _FL_DEFPIN(10, 2, B); _FL_DEFPIN(11, 3, B);

163 
	`_FL_DEFPIN
(12, 4, 
B
); _FL_DEFPIN(13, 5, B); _FL_DEFPIN(14, 6, B); _FL_DEFPIN(15, 7, B);

165 
	#SPI_DATA
 4

	)

166 
	#SPI_CLOCK
 5

	)

167 
	#AVR_HARDWARE_SPI
 1

	)

169 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

170 #–ià
	`defšed
(
ARDUINO_HOODLOADER2
è&& (defšed(
__AVR_ATmega32U2__
è|| defšed(
__AVR_ATmega16U2__
è|| defšed(
__AVR_ATmega8U2__
)è|| defšed(
__AVR_AT90USB82__
è|| defšed(
__AVR_AT90USB162__
)

172 
	#MAX_PIN
 20

	)

174 
	`_FL_DEFPIN
Ğ0, 0, 
B
); _FL_DEFPIN( 1, 1, B); _FL_DEFPIN( 2, 2, B); _FL_DEFPIN( 3, 3, B);

175 
	`_FL_DEFPIN
Ğ4, 4, 
B
); _FL_DEFPIN( 5, 5, B); _FL_DEFPIN( 6, 6, B); _FL_DEFPIN( 7, 7, B);

177 
	`_FL_DEFPIN
Ğ8, 7, 
C
); _FL_DEFPIN( 9, 6, C); _FL_DEFPIN( 10, 5,C); _FL_DEFPIN( 11, 4, C);

178 
	`_FL_DEFPIN
Ğ12, 2, 
C
); _FL_DEFPINĞ13, 0, 
D
); _FL_DEFPIN( 14, 1, D); _FL_DEFPIN(15, 2, D);

179 
	`_FL_DEFPIN
Ğ16, 3, 
D
); _FL_DEFPIN( 17, 4, D); _FL_DEFPIN( 18, 5, D); _FL_DEFPIN( 19, 6, D);

180 
	`_FL_DEFPIN
Ğ20, 7, 
D
);

182 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

187 #–ià
	`defšed
(
IS_BEAN
)

189 
	#MAX_PIN
 19

	)

190 
	`_FL_DEFPIN
Ğ0, 6, 
D
); _FL_DEFPINĞ1, 1, 
B
); _FL_DEFPIN( 2, 2, B); _FL_DEFPIN( 3, 3, B);

191 
	`_FL_DEFPIN
Ğ4, 4, 
B
); _FL_DEFPINĞ5, 5, B); _FL_DEFPINĞ6, 0, 
D
); _FL_DEFPIN( 7, 7, D);

192 
	`_FL_DEFPIN
Ğ8, 0, 
B
); _FL_DEFPINĞ9, 1, 
D
); _FL_DEFPIN(10, 2, D); _FL_DEFPIN(11, 3, D);

193 
	`_FL_DEFPIN
(12, 4, 
D
); _FL_DEFPIN(13, 5, D); _FL_DEFPIN(14, 0, 
C
); _FL_DEFPIN(15, 1, C);

194 
	`_FL_DEFPIN
(16, 2, 
C
); _FL_DEFPIN(17, 3, C); _FL_DEFPIN(18, 4, C); _FL_DEFPIN(19, 5, C);

196 
	#SPI_DATA
 3

	)

197 
	#SPI_CLOCK
 5

	)

198 
	#SPI_SELECT
 2

	)

199 
	#AVR_HARDWARE_SPI
 1

	)

200 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

202 #iâdeà
__AVR_ATmega8__


203 
	#SPI_UART0_DATA
 9

	)

204 
	#SPI_UART0_CLOCK
 12

	)

207 #–ià
	`defšed
(
ARDUINO_AVR_NANO_EVERY
)

209 
	#MAX_PIN
 22

	)

210 
	`_FL_DEFPIN
(0, 5, 
C
); _FL_DEFPIN(1, 4, C); _FL_DEFPIN(2, 0, 
A
); _FL_DEFPIN(3, 5, 
F
);

211 
	`_FL_DEFPIN
(4, 6, 
C
); _FL_DEFPIN(5, 2, 
B
); _FL_DEFPIN(6, 4, 
F
); _FL_DEFPIN(7, 1, 
A
);

212 
	`_FL_DEFPIN
(8, 3, 
E
); _FL_DEFPIN(9, 0, 
B
); _FL_DEFPIN(10, 1, B); _FL_DEFPIN(11, 0, E);

213 
	`_FL_DEFPIN
(12, 1, 
E
); _FL_DEFPIN(13, 2, E); _FL_DEFPIN(14, 3, 
D
); _FL_DEFPIN(15, 2, D);

214 
	`_FL_DEFPIN
(16, 1, 
D
); _FL_DEFPIN(17, 0, D); _FL_DEFPIN(18, 2, 
A
); _FL_DEFPIN(19, 3, A);

215 
	`_FL_DEFPIN
(20, 4, 
D
); _FL_DEFPIN(21, 5, D); _FL_DEFPIN(22, 2, 
A
);

222 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

227 #–ià
	`defšed
(
__AVR_ATmega4809__
)

229 
	#MAX_PIN
 21

	)

230 
	`_FL_DEFPIN
(0, 4, 
C
); _FL_DEFPIN(1, 5, C); _FL_DEFPIN(2, 0, 
A
); _FL_DEFPIN(3, 5, 
F
);

231 
	`_FL_DEFPIN
(4, 6, 
C
); _FL_DEFPIN(5, 2, 
B
); _FL_DEFPIN(6, 4, 
F
); _FL_DEFPIN(7, 1, 
A
);

232 
	`_FL_DEFPIN
(8, 3, 
E
); _FL_DEFPIN(9, 0, 
B
); _FL_DEFPIN(10, 1, B); _FL_DEFPIN(11, 0, E);

233 
	`_FL_DEFPIN
(12, 1, 
E
); _FL_DEFPIN(13, 2, E); _FL_DEFPIN(14, 3, 
D
); _FL_DEFPIN(15, 2, D);

234 
	`_FL_DEFPIN
(16, 1, 
D
); _FL_DEFPIN(17, 0, D); _FL_DEFPIN(18, 2, 
A
); _FL_DEFPIN(19, 3, A);

235 
	`_FL_DEFPIN
(20, 4, 
D
); _FL_DEFPIN(21, 5, D);

242 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

247 #–ià
	`defšed
(
__AVR_ATmega328P__
è|| defšed(
__AVR_ATmega328PB__
è|| defšed(
__AVR_ATmega328__
è|| defšed(
__AVR_ATmega168__
è|| defšed(
__AVR_ATmega168P__
è|| defšed(
__AVR_ATmega8__
)

249 
	#MAX_PIN
 19

	)

250 
	`_FL_DEFPIN
Ğ0, 0, 
D
); _FL_DEFPIN( 1, 1, D); _FL_DEFPIN( 2, 2, D); _FL_DEFPIN( 3, 3, D);

251 
	`_FL_DEFPIN
Ğ4, 4, 
D
); _FL_DEFPIN( 5, 5, D); _FL_DEFPIN( 6, 6, D); _FL_DEFPIN( 7, 7, D);

252 
	`_FL_DEFPIN
Ğ8, 0, 
B
); _FL_DEFPIN( 9, 1, B); _FL_DEFPIN(10, 2, B); _FL_DEFPIN(11, 3, B);

253 
	`_FL_DEFPIN
(12, 4, 
B
); _FL_DEFPIN(13, 5, B); _FL_DEFPIN(14, 0, 
C
); _FL_DEFPIN(15, 1, C);

254 
	`_FL_DEFPIN
(16, 2, 
C
); _FL_DEFPIN(17, 3, C); _FL_DEFPIN(18, 4, C); _FL_DEFPIN(19, 5, C);

256 
	#SPI_DATA
 11

	)

257 
	#SPI_CLOCK
 13

	)

258 
	#SPI_SELECT
 10

	)

259 
	#AVR_HARDWARE_SPI
 1

	)

260 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

262 #iâdeà
__AVR_ATmega8__


263 
	#SPI_UART0_DATA
 1

	)

264 
	#SPI_UART0_CLOCK
 4

	)

267 #–ià
	`defšed
(
__AVR_ATmega1284__
è|| defšed(
__AVR_ATmega1284P__
è|| defšed(
__AVR_ATmega644P__
è|| defšed(
__AVR_ATmega32__
è|| defšed(
__AVR_ATmega16__
)

269 
	#MAX_PIN
 31

	)

270 
	`_FL_DEFPIN
(0, 0, 
B
); _FL_DEFPIN(1, 1, B); _FL_DEFPIN(2, 2, B); _FL_DEFPIN(3, 3, B);

271 
	`_FL_DEFPIN
(4, 4, 
B
); _FL_DEFPIN(5, 5, B); _FL_DEFPIN(6, 6, B); _FL_DEFPIN(7, 7, B);

272 
	`_FL_DEFPIN
(8, 0, 
D
); _FL_DEFPIN(9, 1, D); _FL_DEFPIN(10, 2, D); _FL_DEFPIN(11, 3, D);

273 
	`_FL_DEFPIN
(12, 4, 
D
); _FL_DEFPIN(13, 5, D); _FL_DEFPIN(14, 6, D); _FL_DEFPIN(15, 7, D);

274 
	`_FL_DEFPIN
(16, 0, 
C
); _FL_DEFPIN(17, 1, C); _FL_DEFPIN(18, 2, C); _FL_DEFPIN(19, 3, C);

275 
	`_FL_DEFPIN
(20, 4, 
C
); _FL_DEFPIN(21, 5, C); _FL_DEFPIN(22, 6, C); _FL_DEFPIN(23, 7, C);

276 
	`_FL_DEFPIN
(24, 0, 
A
); _FL_DEFPIN(25, 1, A); _FL_DEFPIN(26, 2, A); _FL_DEFPIN(27, 3, A);

277 
	`_FL_DEFPIN
(28, 4, 
A
); _FL_DEFPIN(29, 5, A); _FL_DEFPIN(30, 6, A); _FL_DEFPIN(31, 7, A);

279 
	#SPI_DATA
 5

	)

280 
	#SPI_CLOCK
 7

	)

281 
	#SPI_SELECT
 4

	)

282 
	#AVR_HARDWARE_SPI
 1

	)

283 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

285 #–ià 
	`defšed
(
__AVR_ATmega128RFA1__
è|| defšed(
__AVR_ATmega256RFR2__
)

288 
	`_FL_DEFPIN
Ğ0, 0, 
E
); _FL_DEFPINĞ1, 1, E); _FL_DEFPINĞ2, 7, 
B
); _FL_DEFPIN( 3, 3, E);

289 
	`_FL_DEFPIN
Ğ4, 4, 
E
); _FL_DEFPIN( 5, 5, E); _FL_DEFPIN( 6, 2, E); _FL_DEFPIN( 7, 6, E);

290 
	`_FL_DEFPIN
Ğ8, 5, 
D
); _FL_DEFPINĞ9, 0, 
B
); _FL_DEFPIN(10, 2, B); _FL_DEFPIN(11, 3, B);

291 
	`_FL_DEFPIN
(12, 1, 
B
); _FL_DEFPIN(13, 2, 
D
); _FL_DEFPIN(14, 3, D); _FL_DEFPIN(15, 0, D);

292 
	`_FL_DEFPIN
(16, 1, 
D
); _FL_DEFPIN(17, 4, D); _FL_DEFPIN(18, 7, 
E
); _FL_DEFPIN(19, 6, D);

293 
	`_FL_DEFPIN
(20, 7, 
D
); _FL_DEFPIN(21, 4, 
B
); _FL_DEFPIN(22, 5, B); _FL_DEFPIN(23, 6, B);

294 
	`_FL_DEFPIN
(24, 0, 
F
); _FL_DEFPIN(25, 1, F); _FL_DEFPIN(26, 2, F); _FL_DEFPIN(27, 3, F);

295 
	`_FL_DEFPIN
(28, 4, 
F
); _FL_DEFPIN(29, 5, F); _FL_DEFPIN(30, 6, F); _FL_DEFPIN(31, 7, F);

297 
	#SPI_DATA
 10

	)

298 
	#SPI_CLOCK
 12

	)

299 
	#SPI_SELECT
 9

	)

301 
	#AVR_HARDWARE_SPI
 1

	)

302 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

304 #–ià
	`defšed
(
__AVR_ATmega1280__
è|| defšed(
__AVR_ATmega2560__
)

306 
	#MAX_PIN
 69

	)

307 
	`_FL_DEFPIN
(0, 0, 
E
); _FL_DEFPIN(1, 1, E); _FL_DEFPIN(2, 4, E); _FL_DEFPIN(3, 5, E);

308 
	`_FL_DEFPIN
(4, 5, 
G
); _FL_DEFPIN(5, 3, 
E
); _FL_DEFPIN(6, 3, 
H
); _FL_DEFPIN(7, 4, H);

309 
	`_FL_DEFPIN
(8, 5, 
H
); _FL_DEFPIN(9, 6, H); _FL_DEFPIN(10, 4, 
B
); _FL_DEFPIN(11, 5, B);

310 
	`_FL_DEFPIN
(12, 6, 
B
); _FL_DEFPIN(13, 7, B); _FL_DEFPIN(14, 1, 
J
); _FL_DEFPIN(15, 0, J);

311 
	`_FL_DEFPIN
(16, 1, 
H
); _FL_DEFPIN(17, 0, H); _FL_DEFPIN(18, 3, 
D
); _FL_DEFPIN(19, 2, D);

312 
	`_FL_DEFPIN
(20, 1, 
D
); _FL_DEFPIN(21, 0, D); _FL_DEFPIN(22, 0, 
A
); _FL_DEFPIN(23, 1, A);

313 
	`_FL_DEFPIN
(24, 2, 
A
); _FL_DEFPIN(25, 3, A); _FL_DEFPIN(26, 4, A); _FL_DEFPIN(27, 5, A);

314 
	`_FL_DEFPIN
(28, 6, 
A
); _FL_DEFPIN(29, 7, A); _FL_DEFPIN(30, 7, 
C
); _FL_DEFPIN(31, 6, C);

315 
	`_FL_DEFPIN
(32, 5, 
C
); _FL_DEFPIN(33, 4, C); _FL_DEFPIN(34, 3, C); _FL_DEFPIN(35, 2, C);

316 
	`_FL_DEFPIN
(36, 1, 
C
); _FL_DEFPIN(37, 0, C); _FL_DEFPIN(38, 7, 
D
); _FL_DEFPIN(39, 2, 
G
);

317 
	`_FL_DEFPIN
(40, 1, 
G
); _FL_DEFPIN(41, 0, G); _FL_DEFPIN(42, 7, 
L
); _FL_DEFPIN(43, 6, L);

318 
	`_FL_DEFPIN
(44, 5, 
L
); _FL_DEFPIN(45, 4, L); _FL_DEFPIN(46, 3, L); _FL_DEFPIN(47, 2, L);

319 
	`_FL_DEFPIN
(48, 1, 
L
); _FL_DEFPIN(49, 0, L); _FL_DEFPIN(50, 3, 
B
); _FL_DEFPIN(51, 2, B);

320 
	`_FL_DEFPIN
(52, 1, 
B
); _FL_DEFPIN(53, 0, B); _FL_DEFPIN(54, 0, 
F
); _FL_DEFPIN(55, 1, F);

321 
	`_FL_DEFPIN
(56, 2, 
F
); _FL_DEFPIN(57, 3, F); _FL_DEFPIN(58, 4, F); _FL_DEFPIN(59, 5, F);

322 
	`_FL_DEFPIN
(60, 6, 
F
); _FL_DEFPIN(61, 7, F); _FL_DEFPIN(62, 0, 
K
); _FL_DEFPIN(63, 1, K);

323 
	`_FL_DEFPIN
(64, 2, 
K
); _FL_DEFPIN(65, 3, K); _FL_DEFPIN(66, 4, K); _FL_DEFPIN(67, 5, K);

324 
	`_FL_DEFPIN
(68, 6, 
K
); _FL_DEFPIN(69, 7, K);

326 
	#SPI_DATA
 51

	)

327 
	#SPI_CLOCK
 52

	)

328 
	#SPI_SELECT
 53

	)

329 
	#AVR_HARDWARE_SPI
 1

	)

330 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

333 #–ià
	`defšed
(
__AVR_ATmega32U4__
è&& defšed(
CORE_TEENSY
)

336 
	#MAX_PIN
 23

	)

337 
	`_FL_DEFPIN
(0, 0, 
B
); _FL_DEFPIN(1, 1, B); _FL_DEFPIN(2, 2, B); _FL_DEFPIN(3, 3, B);

338 
	`_FL_DEFPIN
(4, 7, 
B
); _FL_DEFPIN(5, 0, 
D
); _FL_DEFPIN(6, 1, D); _FL_DEFPIN(7, 2, D);

339 
	`_FL_DEFPIN
(8, 3, 
D
); _FL_DEFPIN(9, 6, 
C
); _FL_DEFPIN(10, 7, C); _FL_DEFPIN(11, 6, D);

340 
	`_FL_DEFPIN
(12, 7, 
D
); _FL_DEFPIN(13, 4, 
B
); _FL_DEFPIN(14, 5, B); _FL_DEFPIN(15, 6, B);

341 
	`_FL_DEFPIN
(16, 7, 
F
); _FL_DEFPIN(17, 6, F); _FL_DEFPIN(18, 5, F); _FL_DEFPIN(19, 4, F);

342 
	`_FL_DEFPIN
(20, 1, 
F
); _FL_DEFPIN(21, 0, F); _FL_DEFPIN(22, 4, 
D
); _FL_DEFPIN(23, 5, D);

344 
	#SPI_DATA
 2

	)

345 
	#SPI_CLOCK
 1

	)

346 
	#SPI_SELECT
 0

	)

347 
	#AVR_HARDWARE_SPI
 1

	)

348 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

351 
	#SPI_UART1_DATA
 8

	)

352 
	#SPI_UART1_CLOCK
 23

	)

354 #–ià
	`defšed
(
__AVR_AT90USB646__
è|| defšed(
__AVR_AT90USB1286__
)

356 
	#MAX_PIN
 45

	)

357 
	`_FL_DEFPIN
(0, 0, 
D
); _FL_DEFPIN(1, 1, D); _FL_DEFPIN(2, 2, D); _FL_DEFPIN(3, 3, D);

358 
	`_FL_DEFPIN
(4, 4, 
D
); _FL_DEFPIN(5, 5, D); _FL_DEFPIN(6, 6, D); _FL_DEFPIN(7, 7, D);

359 
	`_FL_DEFPIN
(8, 0, 
E
); _FL_DEFPIN(9, 1, E); _FL_DEFPIN(10, 0, 
C
); _FL_DEFPIN(11, 1, C);

360 
	`_FL_DEFPIN
(12, 2, 
C
); _FL_DEFPIN(13, 3, C); _FL_DEFPIN(14, 4, C); _FL_DEFPIN(15, 5, C);

361 
	`_FL_DEFPIN
(16, 6, 
C
); _FL_DEFPIN(17, 7, C); _FL_DEFPIN(18, 6, 
E
); _FL_DEFPIN(19, 7, E);

362 
	`_FL_DEFPIN
(20, 0, 
B
); _FL_DEFPIN(21, 1, B); _FL_DEFPIN(22, 2, B); _FL_DEFPIN(23, 3, B);

363 
	`_FL_DEFPIN
(24, 4, 
B
); _FL_DEFPIN(25, 5, B); _FL_DEFPIN(26, 6, B); _FL_DEFPIN(27, 7, B);

364 
	`_FL_DEFPIN
(28, 0, 
A
); _FL_DEFPIN(29, 1, A); _FL_DEFPIN(30, 2, A); _FL_DEFPIN(31, 3, A);

365 
	`_FL_DEFPIN
(32, 4, 
A
); _FL_DEFPIN(33, 5, A); _FL_DEFPIN(34, 6, A); _FL_DEFPIN(35, 7, A);

366 
	`_FL_DEFPIN
(36, 4, 
E
); _FL_DEFPIN(37, 5, E); _FL_DEFPIN(38, 0, 
F
); _FL_DEFPIN(39, 1, F);

367 
	`_FL_DEFPIN
(40, 2, 
F
); _FL_DEFPIN(41, 3, F); _FL_DEFPIN(42, 4, F); _FL_DEFPIN(43, 5, F);

368 
	`_FL_DEFPIN
(44, 6, 
F
); _FL_DEFPIN(45, 7, F);

370 
	#SPI_DATA
 22

	)

371 
	#SPI_CLOCK
 21

	)

372 
	#SPI_SELECT
 20

	)

373 
	#AVR_HARDWARE_SPI
 1

	)

374 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

377 
	#SPI_UART1_DATA
 3

	)

378 
	#SPI_UART1_CLOCK
 5

	)

381 #–ià
	`defšed
(
__AVR_ATmega32U4__
)

384 
	#MAX_PIN
 30

	)

385 
	`_FL_DEFPIN
(0, 2, 
D
); _FL_DEFPIN(1, 3, D); _FL_DEFPIN(2, 1, D); _FL_DEFPIN(3, 0, D);

386 
	`_FL_DEFPIN
(4, 4, 
D
); _FL_DEFPIN(5, 6, 
C
); _FL_DEFPIN(6, 7, D); _FL_DEFPIN(7, 6, 
E
);

387 
	`_FL_DEFPIN
(8, 4, 
B
); _FL_DEFPIN(9, 5, B); _FL_DEFPIN(10, 6, B); _FL_DEFPIN(11, 7, B);

388 
	`_FL_DEFPIN
(12, 6, 
D
); _FL_DEFPIN(13, 7, 
C
); _FL_DEFPIN(14, 3, 
B
); _FL_DEFPIN(15, 1, B);

389 
	`_FL_DEFPIN
(16, 2, 
B
); _FL_DEFPIN(17, 0, B); _FL_DEFPIN(18, 7, 
F
); _FL_DEFPIN(19, 6, F);

390 
	`_FL_DEFPIN
(20, 5, 
F
); _FL_DEFPIN(21, 4, F); _FL_DEFPIN(22, 1, F); _FL_DEFPIN(23, 0, F);

391 
	`_FL_DEFPIN
(24, 4, 
D
); _FL_DEFPIN(25, 7, D); _FL_DEFPIN(26, 4, 
B
); _FL_DEFPIN(27, 5, B);

392 
	`_FL_DEFPIN
(28, 6, 
B
); _FL_DEFPIN(29, 6, 
D
); _FL_DEFPIN(30, 5, D);

394 
	#SPI_DATA
 16

	)

395 
	#SPI_CLOCK
 15

	)

396 
	#AVR_HARDWARE_SPI
 1

	)

397 
	#HAS_HARDWARE_PIN_SUPPORT
 1

	)

400 
	#SPI_UART1_DATA
 1

	)

401 
	#SPI_UART1_CLOCK
 30

	)

408 
FASTLED_NAMESPACE_END


	@src/platforms/avr/fastspi_avr.h

1 #iâdeà
__INC_FASTSPI_AVR_H


2 
	#__INC_FASTSPI_AVR_H


	)

4 
	gFASTLED_NAMESPACE_BEGIN


15 #ià
defšed
(
AVR_HARDWARE_SPI
)

17 #ià
defšed
(
UBRR1
)

19 #iâdeà
UCPHA1


20 
	#UCPHA1
 1

	)

23 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

24 şas 
	cAVRUSART1SPIOuut
 {

25 
S–eùabË
 *
	mm_pS–eù
;

27 
	mpublic
:

28 
	$AVRUSART1SPIOuut
(è{ 
m_pS–eù
 = 
NULL
; }

29 
	$AVRUSART1SPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

30 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

32 
	$š™
() {

33 
UBRR1
 = 0;

36 
UCSR1C
 = (1<<
UMSEL11
)|(1<<
UMSEL10
)|(0<<
UCPHA1
)|(0<<
UCPOL1
);

38 
UCSR1B
 = (1<<
RXEN1
)|(1<<
TXEN1
);

40 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

41 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

44 
	`£tSPIR©e
();

45 
	}
}

47 
	$£tSPIR©e
() {

48 if(
_SPI_CLOCK_DIVIDER
 > 2) {

49 
UBRR1
 = (
_SPI_CLOCK_DIVIDER
/2)-1;

51 
UBRR1
 = 0;

53 
	}
}

56 
	$¡İ
() {

58 
	}
}

60 
boŞ
 
	$shouldWa™
(
boŞ
 
wa™
 = 
çl£
è
	`__©Œibu‹__
((
®ways_šlše
)) {

61 
boŞ
 
sWa™
=
çl£
;

62 if(
sWa™
) {

63 
sWa™
 = 
wa™
;  
Œue
;

65 
sWa™
 = 
wa™
;  
çl£
;

68 
	}
}

69 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

70 if(
	`shouldWa™
()) {

71 !(
UCSR1A
 & (1<<
UDRE1
)));

73 
	}
}

74 
	$wa™FuÎy
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	}
}

76 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wr™eBy‹
(w>>8); wr™eBy‹(w&0xFF); 
	}
}

78 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
UDR1
=b; 
	`shouldWa™
(
Œue
); 
	}
}

79 
	$wr™eBy‹Po¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
UDR1
=b; 
	`shouldWa™
(
Œue
); 
	`wa™
(); 
	}
}

80 
	$wr™eBy‹NoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
UDR1
=b; 
	`shouldWa™
(
Œue
); 
	}
}

83 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

84 if(
b
 && (1 << 
BIT
)) {

85 
Fa¡Pš
<
_DATA_PIN
>::
	`hi
();

87 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

90 
Fa¡Pš
<
_CLOCK_PIN
>::
	`hi
();

91 
Fa¡Pš
<
_CLOCK_PIN
>::
	`lo
();

92 
	}
}

94 
	$’abË_pšs
(è{ 
	}
}

95 
	$di§bË_pšs
(è{ 
	}
}

97 
	$£Ëù
() {

98 if(
m_pS–eù
 !ğ
NULL
) {

99 
m_pS–eù
->
	`£Ëù
();

101 
	`’abË_pšs
();

102 
	`£tSPIR©e
();

103 
	}
}

105 
	$»Ëa£
() {

106 if(
m_pS–eù
 !ğ
NULL
) {

107 
m_pS–eù
->
	`»Ëa£
();

109 
	`di§bË_pšs
();

110 
	}
}

112 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

113 
Ën
--) {

114 
	`wr™eBy‹
(
v®ue
);

116 
	}
}

118 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

120 
	`£Ëù
();

121 
Ën
--) {

122 
	`wr™eBy‹
(
v®ue
);

124 
	`»Ëa£
();

125 
	}
}

128 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

130 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

131 
	`£Ëù
();

132 
d©a
 !ğ
’d
) {

134 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++)); 
d–aycyşes
<3>();

136 
	`»Ëa£
();

137 
	}
}

139 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

143 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

145 
	gËn
 = 
pix–s
.
mL’
;

147 
£Ëù
();

148 
	gpix–s
.
has
(1)) {

149 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

150 
	gwr™eB™
<0>(1);

151 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

152 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

153 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

155 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

156 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

157 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

160 
	gpix–s
.
advªûD©a
();

161 
	gpix–s
.
¡•D™h”šg
();

163 
	gD
::
po¡Block
(
Ën
);

164 
»Ëa£
();

169 #ià
defšed
(
UBRR0
)

170 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

171 şas 
	cAVRUSART0SPIOuut
 {

172 
S–eùabË
 *
	mm_pS–eù
;

174 
	mpublic
:

175 
	$AVRUSART0SPIOuut
(è{ 
m_pS–eù
 = 
NULL
; }

176 
	$AVRUSART0SPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

177 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

179 
	$š™
() {

180 
UBRR0
 = 0;

183 
UCSR0C
 = (1<<
UMSEL01
)|(1<<
UMSEL00
è|(0<<
UCPOL0
);

185 
UCSR0B
 = (1<<
RXEN0
)|(1<<
TXEN0
);

187 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

188 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

191 
	`£tSPIR©e
();

192 
	}
}

194 
	$£tSPIR©e
() {

195 if(
_SPI_CLOCK_DIVIDER
 > 2) {

196 
UBRR0
 = (
_SPI_CLOCK_DIVIDER
/2)-1;

198 
UBRR0
 = 0;

200 
	}
}

202 
	$¡İ
() {

204 
	}
}

206 
boŞ
 
	$shouldWa™
(
boŞ
 
wa™
 = 
çl£
è
	`__©Œibu‹__
((
®ways_šlše
)) {

207 
boŞ
 
sWa™
=
çl£
;

208 if(
sWa™
) {

209 
sWa™
 = 
wa™
;  
Œue
;

211 
sWa™
 = 
wa™
;  
çl£
;

214 
	}
}

215 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)) {

216 if(
	`shouldWa™
()) {

217 !(
UCSR0A
 & (1<<
UDRE0
)));

219 
	}
}

220 
	$wa™FuÎy
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	}
}

222 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wr™eBy‹
(w>>8); wr™eBy‹(w&0xFF); 
	}
}

224 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
UDR0
=b; 
	`shouldWa™
(
Œue
); 
	}
}

225 
	$wr™eBy‹Po¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
UDR0
=b; 
	`shouldWa™
(
Œue
); 
	`wa™
(); 
	}
}

226 
	$wr™eBy‹NoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
UDR0
=b; 
	`shouldWa™
(
Œue
); 
	}
}

229 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

230 if(
b
 && (1 << 
BIT
)) {

231 
Fa¡Pš
<
_DATA_PIN
>::
	`hi
();

233 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

236 
Fa¡Pš
<
_CLOCK_PIN
>::
	`hi
();

237 
Fa¡Pš
<
_CLOCK_PIN
>::
	`lo
();

238 
	}
}

240 
	$’abË_pšs
(è{ 
	}
}

241 
	$di§bË_pšs
(è{ 
	}
}

243 
	$£Ëù
() {

244 if(
m_pS–eù
 !ğ
NULL
) {

245 
m_pS–eù
->
	`£Ëù
();

247 
	`’abË_pšs
();

248 
	`£tSPIR©e
();

249 
	}
}

251 
	$»Ëa£
() {

252 if(
m_pS–eù
 !ğ
NULL
) {

253 
m_pS–eù
->
	`»Ëa£
();

255 
	`di§bË_pšs
();

256 
	}
}

258 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

259 
Ën
--) {

260 
	`wr™eBy‹
(
v®ue
);

262 
	}
}

264 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

266 
	`£Ëù
();

267 
Ën
--) {

268 
	`wr™eBy‹
(
v®ue
);

270 
	`»Ëa£
();

271 
	}
}

274 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

276 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

277 
	`£Ëù
();

278 
d©a
 !ğ
’d
) {

280 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++)); 
d–aycyşes
<3>();

282 
	`»Ëa£
();

283 
	}
}

285 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

289 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

291 
	gËn
 = 
pix–s
.
mL’
;

293 
£Ëù
();

294 
	gpix–s
.
has
(1)) {

295 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

296 
	gwr™eB™
<0>(1);

297 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

298 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

299 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

301 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

302 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

303 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

306 
	gpix–s
.
advªûD©a
();

307 
	gpix–s
.
¡•D™h”šg
();

309 
	gD
::
po¡Block
(
Ën
);

310 
wa™FuÎy
();

311 
»Ëa£
();

318 #ià
defšed
(
SPSR
)

331 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

332 şas 
	cAVRH¬dw¬eSPIOuut
 {

333 
S–eùabË
 *
	mm_pS–eù
;

334 
boŞ
 
	mmWa™
;

336 
	mpublic
:

337 
	$AVRH¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; 
mWa™
 = 
çl£
;}

338 
	$AVRH¬dw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

339 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

341 
	$£tSPIR©e
() {

342 
SPCR
 &ğ~ ( (1<<
SPR1
è| (1<<
SPR0
) );

344 
boŞ
 
b2x
 = 
çl£
;

346 if(
_SPI_CLOCK_DIVIDER
 >ğ128è{ 
SPCR
 |ğ(1<<
SPR1
); SPCR |ğ(1<<
SPR0
); }

347 if(
_SPI_CLOCK_DIVIDER
 >ğ64è{ 
SPCR
 |ğ(1<<
SPR1
);}

348 if(
_SPI_CLOCK_DIVIDER
 >ğ32è{ 
SPCR
 |ğ(1<<
SPR1
); 
b2x
 = 
Œue
; }

349 if(
_SPI_CLOCK_DIVIDER
 >ğ16è{ 
SPCR
 |ğ(1<<
SPR0
); }

350 if(
_SPI_CLOCK_DIVIDER
 >ğ8è{ 
SPCR
 |ğ(1<<
SPR0
); 
b2x
 = 
Œue
; }

351 if(
_SPI_CLOCK_DIVIDER
 >= 4) { }

352 { 
b2x
 = 
Œue
; }

354 if(
b2x
è{ 
SPSR
 |ğ(1<<
SPI2X
); }

355 { 
SPSR
 &ğ~ (1<<
SPI2X
); }

356 
	}
}

358 
	$š™
() {

359 vŞ©
ušt8_t
 
şr
;

362 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

363 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

364 #ifdeà
SPI_SELECT


366 
Fa¡Pš
<
SPI_SELECT
>::
	`£tOuut
();

367 
Fa¡Pš
<
SPI_SELECT
>::
	`lo
();

370 
SPCR
 |ğ((1<<
SPE
è| (1<<
MSTR
) );

371 
SPCR
 &ğ~ ( (1<<
SPR1
è| (1<<
SPR0
) );

373 
şr
 = 
SPSR
;

374 
şr
 = 
SPDR
;

375 
şr
;

377 
boŞ
 
b2x
 = 
çl£
;

379 if(
_SPI_CLOCK_DIVIDER
 >ğ128è{ 
SPCR
 |ğ(1<<
SPR1
); SPCR |ğ(1<<
SPR0
); }

380 if(
_SPI_CLOCK_DIVIDER
 >ğ64è{ 
SPCR
 |ğ(1<<
SPR1
);}

381 if(
_SPI_CLOCK_DIVIDER
 >ğ32è{ 
SPCR
 |ğ(1<<
SPR1
); 
b2x
 = 
Œue
; }

382 if(
_SPI_CLOCK_DIVIDER
 >ğ16è{ 
SPCR
 |ğ(1<<
SPR0
); }

383 if(
_SPI_CLOCK_DIVIDER
 >ğ8è{ 
SPCR
 |ğ(1<<
SPR0
); 
b2x
 = 
Œue
; }

384 if(
_SPI_CLOCK_DIVIDER
 >= 4) { }

385 { 
b2x
 = 
Œue
; }

387 if(
b2x
è{ 
SPSR
 |ğ(1<<
SPI2X
); }

388 { 
SPSR
 &ğ~ (1<<
SPI2X
); }

390 
SPDR
=0;

391 
	`shouldWa™
(
çl£
);

392 
	`»Ëa£
();

393 
	}
}

395 
boŞ
 
	$shouldWa™
(
boŞ
 
wa™
 = 
çl£
è
	`__©Œibu‹__
((
®ways_šlše
)) {

396 
boŞ
 
sWa™
=
çl£
;

397 if(
sWa™
è{ sWa™ = 
wa™
;  
Œue
; } { sWa™ = wa™;  
çl£
; }

399 
	}
}

400 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ if(
	`shouldWa™
()è{ !(
SPSR
 & (1<<
SPIF
))); } 
	}
}

401 
	$wa™FuÎy
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	}
}

403 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wr™eBy‹
(w>>8); wr™eBy‹(w&0xFF); 
	}
}

405 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
SPDR
=b; 
	`shouldWa™
(
Œue
); 
	}
}

406 
	$wr™eBy‹Po¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPDR
=b; 
	`shouldWa™
(
Œue
); 
	`wa™
(); 
	}
}

407 
	$wr™eBy‹NoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPDR
=b; 
	`shouldWa™
(
Œue
); 
	}
}

409 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

410 
SPCR
 &ğ~(1 << 
SPE
);

411 if(
b
 & (1 << 
BIT
)) {

412 
Fa¡Pš
<
_DATA_PIN
>::
	`hi
();

414 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

417 
Fa¡Pš
<
_CLOCK_PIN
>::
	`hi
();

418 
Fa¡Pš
<
_CLOCK_PIN
>::
	`lo
();

419 
SPCR
 |ğ1 << 
SPE
;

420 
	`shouldWa™
(
çl£
);

421 
	}
}

423 
	$’abË_pšs
() {

424 
SPCR
 |ğ((1<<
SPE
è| (1<<
MSTR
) );

425 
	}
}

427 
	$di§bË_pšs
() {

428 
SPCR
 &ğ~(((1<<
SPE
è| (1<<
MSTR
) ));

429 
	}
}

431 
	$£Ëù
() {

432 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); }

433 
	`’abË_pšs
();

434 
	`£tSPIR©e
();

435 
	}
}

437 
	$»Ëa£
() {

438 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); }

439 
	`di§bË_pšs
();

440 
	}
}

442 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

443 
Ën
--è{ 
	`wr™eBy‹
(
v®ue
); }

444 
	}
}

446 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

448 
	`£Ëù
();

449 
Ën
--) {

450 
	`wr™eBy‹
(
v®ue
);

452 
	`»Ëa£
();

453 
	}
}

456 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

458 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

459 
	`£Ëù
();

460 
d©a
 !ğ
’d
) {

462 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++)); 
d–aycyşes
<3>();

464 
	`»Ëa£
();

465 
	}
}

467 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

471 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

473 
	gËn
 = 
pix–s
.
mL’
;

475 
£Ëù
();

476 
	gpix–s
.
has
(1)) {

477 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

478 
	gwr™eB™
<0>(1);

479 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

480 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

481 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

483 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

484 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

485 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

488 
	gpix–s
.
advªûD©a
();

489 
	gpix–s
.
¡•D™h”šg
();

491 
	gD
::
po¡Block
(
Ën
);

492 
wa™FuÎy
();

493 
»Ëa£
();

496 #–ià
defšed
(
SPSR0
)

509 
	g‹m¶©e
 <
ušt8_t
 
	g_DATA_PIN
, ušt8_ˆ
	g_CLOCK_PIN
, 
ušt32_t
 
	g_SPI_CLOCK_DIVIDER
>

510 şas 
	cAVRH¬dw¬eSPIOuut
 {

511 
S–eùabË
 *
	mm_pS–eù
;

512 
boŞ
 
	mmWa™
;

514 
	mpublic
:

515 
	$AVRH¬dw¬eSPIOuut
(è{ 
m_pS–eù
 = 
NULL
; 
mWa™
 = 
çl£
;}

516 
	$AVRH¬dw¬eSPIOuut
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

517 
	$£tS–eù
(
S–eùabË
 *
pS–eù
è{ 
m_pS–eù
 =…S–eù; 
	}
}

519 
	$£tSPIR©e
() {

520 
SPCR0
 &ğ~ ( (1<<
SPR10
è| (1<<
SPR0
) );

522 
boŞ
 
b2x
 = 
çl£
;

524 if(
_SPI_CLOCK_DIVIDER
 >ğ128è{ 
SPCR0
 |ğ(1<<
SPR1
); SPCR0 |ğ(1<<
SPR0
); }

525 if(
_SPI_CLOCK_DIVIDER
 >ğ64è{ 
SPCR0
 |ğ(1<<
SPR1
);}

526 if(
_SPI_CLOCK_DIVIDER
 >ğ32è{ 
SPCR0
 |ğ(1<<
SPR1
); 
b2x
 = 
Œue
; }

527 if(
_SPI_CLOCK_DIVIDER
 >ğ16è{ 
SPCR0
 |ğ(1<<
SPR0
); }

528 if(
_SPI_CLOCK_DIVIDER
 >ğ8è{ 
SPCR0
 |ğ(1<<
SPR0
); 
b2x
 = 
Œue
; }

529 if(
_SPI_CLOCK_DIVIDER
 >= 4) { }

530 { 
b2x
 = 
Œue
; }

532 if(
b2x
è{ 
SPSR0
 |ğ(1<<
SPI2X
); }

533 { 
SPSR0
 &ğ~ (1<<
SPI2X
); }

534 
	}
}

536 
	$š™
() {

537 vŞ©
ušt8_t
 
şr
;

540 
Fa¡Pš
<
_DATA_PIN
>::
	`£tOuut
();

541 
Fa¡Pš
<
_CLOCK_PIN
>::
	`£tOuut
();

542 #ifdeà
SPI_SELECT


544 
Fa¡Pš
<
SPI_SELECT
>::
	`£tOuut
();

545 
Fa¡Pš
<
SPI_SELECT
>::
	`lo
();

548 
SPCR0
 |ğ((1<<
SPE
è| (1<<
MSTR
) );

549 
SPCR0
 &ğ~ ( (1<<
SPR1
è| (1<<
SPR0
) );

551 
şr
 = 
SPSR0
;

552 
şr
 = 
SPDR0
;

553 
şr
;

555 
boŞ
 
b2x
 = 
çl£
;

557 if(
_SPI_CLOCK_DIVIDER
 >ğ128è{ 
SPCR0
 |ğ(1<<
SPR1
); SPCR0 |ğ(1<<
SPR0
); }

558 if(
_SPI_CLOCK_DIVIDER
 >ğ64è{ 
SPCR0
 |ğ(1<<
SPR1
);}

559 if(
_SPI_CLOCK_DIVIDER
 >ğ32è{ 
SPCR0
 |ğ(1<<
SPR1
); 
b2x
 = 
Œue
; }

560 if(
_SPI_CLOCK_DIVIDER
 >ğ16è{ 
SPCR0
 |ğ(1<<
SPR0
); }

561 if(
_SPI_CLOCK_DIVIDER
 >ğ8è{ 
SPCR0
 |ğ(1<<
SPR0
); 
b2x
 = 
Œue
; }

562 if(
_SPI_CLOCK_DIVIDER
 >= 4) { }

563 { 
b2x
 = 
Œue
; }

565 if(
b2x
è{ 
SPSR0
 |ğ(1<<
SPI2X
); }

566 { 
SPSR0
 &ğ~ (1<<
SPI2X
); }

568 
SPDR0
=0;

569 
	`shouldWa™
(
çl£
);

570 
	`»Ëa£
();

571 
	}
}

573 
boŞ
 
	$shouldWa™
(
boŞ
 
wa™
 = 
çl£
è
	`__©Œibu‹__
((
®ways_šlše
)) {

574 
boŞ
 
sWa™
=
çl£
;

575 if(
sWa™
è{ sWa™ = 
wa™
;  
Œue
; } { sWa™ = wa™;  
çl£
; }

577 
	}
}

578 
	$wa™
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ if(
	`shouldWa™
()è{ !(
SPSR0
 & (1<<
SPIF
))); } 
	}
}

579 
	$wa™FuÎy
(è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
	}
}

581 
	$wr™eWÜd
(
ušt16_t
 
w
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wr™eBy‹
(w>>8); wr™eBy‹(w&0xFF); 
	}
}

583 
	$wr™eBy‹
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
	`wa™
(); 
SPDR0
=b; 
	`shouldWa™
(
Œue
); 
	}
}

584 
	$wr™eBy‹Po¡Wa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPDR0
=b; 
	`shouldWa™
(
Œue
); 
	`wa™
(); 
	}
}

585 
	$wr™eBy‹NoWa™
(
ušt8_t
 
b
è
	`__©Œibu‹__
((
®ways_šlše
)è{ 
SPDR0
=b; 
	`shouldWa™
(
Œue
); 
	}
}

587 
	g‹m¶©e
 <
ušt8_t
 
	gBIT
> 
šlše
 
	$wr™eB™
(
ušt8_t
 
b
) {

588 
SPCR0
 &ğ~(1 << 
SPE
);

589 if(
b
 & (1 << 
BIT
)) {

590 
Fa¡Pš
<
_DATA_PIN
>::
	`hi
();

592 
Fa¡Pš
<
_DATA_PIN
>::
	`lo
();

595 
Fa¡Pš
<
_CLOCK_PIN
>::
	`hi
();

596 
Fa¡Pš
<
_CLOCK_PIN
>::
	`lo
();

597 
SPCR0
 |ğ1 << 
SPE
;

598 
	`shouldWa™
(
çl£
);

599 
	}
}

601 
	$’abË_pšs
() {

602 
SPCR0
 |ğ((1<<
SPE
è| (1<<
MSTR
) );

603 
	}
}

605 
	$di§bË_pšs
() {

606 
SPCR0
 &ğ~(((1<<
SPE
è| (1<<
MSTR
) ));

607 
	}
}

609 
	$£Ëù
() {

610 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`£Ëù
(); }

611 
	`’abË_pšs
();

612 
	`£tSPIR©e
();

613 
	}
}

615 
	$»Ëa£
() {

616 if(
m_pS–eù
 !ğ
NULL
è{ m_pS–eù->
	`»Ëa£
(); }

617 
	`di§bË_pšs
();

618 
	}
}

620 
	$wr™eBy‹sV®ueRaw
(
ušt8_t
 
v®ue
, 
Ën
) {

621 
Ën
--è{ 
	`wr™eBy‹
(
v®ue
); }

622 
	}
}

624 
	$wr™eBy‹sV®ue
(
ušt8_t
 
v®ue
, 
Ën
) {

626 
	`£Ëù
();

627 
Ën
--) {

628 
	`wr™eBy‹
(
v®ue
);

630 
	`»Ëa£
();

631 
	}
}

634 
	g‹m¶©e
 <
şass
 
	gD
> 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
) {

636 
ušt8_t
 *
’d
 = 
d©a
 + 
Ën
;

637 
	`£Ëù
();

638 
d©a
 !ğ
’d
) {

640 
	`wr™eBy‹
(
D
::
	`adju¡
(*
d©a
++)); 
d–aycyşes
<3>();

642 
	`»Ëa£
();

643 
	}
}

645 
	$wr™eBy‹s
(
ušt8_t
 *
d©a
, 
Ën
è{ 
wr™eBy‹s
<
DATA_NOP
>(d©a,†’); 
	}
}

649 
	g‹m¶©e
 <
ušt8_t
 
	gFLAGS
, 
şass
 
	gD
, 
EOrd”
 
	gRGB_ORDER
> 
wr™ePix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

651 
	gËn
 = 
pix–s
.
mL’
;

653 
£Ëù
();

654 
	gpix–s
.
has
(1)) {

655 if(
	gFLAGS
 & 
	gFLAG_START_BIT
) {

656 
	gwr™eB™
<0>(1);

657 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

658 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

659 
wr™eBy‹Po¡Wa™
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

661 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË0
()));

662 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË1
()));

663 
wr™eBy‹
(
D
::
adju¡
(
pix–s
.
lßdAndSÿË2
()));

666 
	gpix–s
.
advªûD©a
();

667 
	gpix–s
.
¡•D™h”šg
();

669 
	gD
::
po¡Block
(
Ën
);

670 
wa™FuÎy
();

671 
»Ëa£
();

680 
	gFASTLED_NAMESPACE_END
;

	@src/platforms/avr/led_sysdefs_avr.h

1 #iâdeà
__INC_LED_SYSDEFS_AVR_H


2 
	#__INC_LED_SYSDEFS_AVR_H


	)

4 
	#FASTLED_AVR


	)

6 #iâdeà
INTERRUPT_THRESHOLD


7 
	#INTERRUPT_THRESHOLD
 2

	)

10 
	#FASTLED_SPI_BYTE_ONLY


	)

12 
	~<avr/io.h
>

13 
	~<avr/š‹¼u±.h
>

16 vŞ©
	tušt8_t
 
	tRoReg
;

17 vŞ©
	tušt8_t
 
	tRwReg
;

22 #iâdeà
FASTLED_ALLOW_INTERRUPTS


23 
	#FASTLED_ALLOW_INTERRUPTS
 0

	)

26 #ià
FASTLED_ALLOW_INTERRUPTS
 == 1

27 
	#FASTLED_ACCURATE_CLOCK


	)

32 #iâdeà
FASTLED_USE_PROGMEM


33 
	#FASTLED_USE_PROGMEM
 1

	)

36 #ià
defšed
(
ARDUINO_AVR_DIGISPARK
è|| defšed(
ARDUINO_AVR_DIGISPARKPRO
)

37 #iâdeà
NO_CORRECTION


38 
	#NO_CORRECTION
 1

	)

43 #ià
defšed
(
CORE_TEENSY
è|| defšed(
TEENSYDUINO
)

44 vŞ©
tim”0_mlis_couÁ
;

45 
	#MS_COUNTER
 
tim”0_mlis_couÁ


	)

46 #–ià
defšed
(
ATTINY_CORE
)

47 vŞ©
mlis_tim”_mlis
;

48 
	#MS_COUNTER
 
mlis_tim”_mlis


	)

49 #–ià
defšed
(
__AVR_ATmega4809__
)

50 vŞ©
tim”_mlis
;

51 
	#MS_COUNTER
 
tim”_mlis


	)

53 vŞ©
tim”0_mlis
;

54 
	#MS_COUNTER
 
tim”0_mlis


	)

59 #ià
defšed
(
__AVR_ATmega32U2__
è|| defšed(
__AVR_ATmega16U2__
è|| defšed(
__AVR_ATmega8U2__
è|| defšed(
__AVR_AT90USB162__
è|| defšed(
__AVR_ATtšy24__
è|| defšed(
__AVR_ATtšy44__
è|| defšed(
__AVR_ATtšy84__
è|| defšed(
__AVR_ATtšy25__
è|| defšed(
__AVR_ATtšy45__
è|| defšed(
__AVR_ATtšy85__
è|| defšed(
__AVR_ATtšy167__
è|| defšed(
__AVR_ATtšy87__
è|| defšed(
__AVR_ATtšyX41__
è|| defšed(
__AVR_ATtšy841__
è|| defšed(
__AVR_ATtšy441__
)

60 
	#LIB8_ATTINY
 1

	)

61 
	#FASTLED_NEEDS_YIELD


	)

64 #ià
defšed
(
ARDUINO
è&& (ARDUINO > 150è&& !defšed(
IS_BEAN
è&& !defšed (
ARDUINO_AVR_DIGISPARK
è&& !defšed (
LIB8_TINY
è&& !defšed (
ARDUINO_AVR_LARDU_328E
)

67 
	#FASTLED_NEEDS_YIELD


	)

68 "C" 
y›ld
();

	@src/platforms/esp/32/clockless_block_esp32.h

1 #iâdeà
__INC_CLOCKLESS_BLOCK_ESP8266_H


2 
	#__INC_CLOCKLESS_BLOCK_ESP8266_H


	)

4 
	#FASTLED_HAS_BLOCKLESS
 1

	)

6 
	#PORT_MASK
 (((1<<
LANES
)-1è& 0x0000FFFFL)

	)

7 
	#MIN
(
X
,
Y
è(((X)<(Y)è? (X):(Y))

	)

8 
	#USED_LANES
 (
	`MIN
(
LANES
,4))

	)

9 
	#REAL_FIRST_PIN
 12

	)

10 
	#LAST_PIN
 (12 + 
USED_LANES
 - 1)

	)

12 
	gFASTLED_NAMESPACE_BEGIN


14 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


15 
ušt32_t
 
_äame_út
;

16 
ušt32_t
 
_»Œy_út
;

19 
	g‹m¶©e
 <
ušt8_t
 
	gLANES
, 
	gFIRST_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
GRB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 5>

20 
şass
 
IÆšeBlockClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 
	gLANES
, 
	gPORT_MASK
> {

21 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

22 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_t
 
	td©a_t
;

24 
d©a_t
 
	gmPšMask
;

25 
d©a_±r_t
 
	gmPÜt
;

26 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

28 
	gpublic
:

29 
vœtu®
 
size
(è{  
CLEDCÚŒŞËr
::size(è* 
LANES
; }

31 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> & 
pix–s
) {

34 
	gút
=
FASTLED_INTERRUPT_RETRY_COUNT
;

35 !
showRGBIÁ”Çl
(
pix–s
è&& 
	gút
--) {

36 
‘s_šŒ_uÆock
();

37 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


38 ++
	g_»Œy_út
;

40 
d–ayMiüo£cÚds
(
WAIT_TIME
 * 10);

41 
‘s_šŒ_lock
();

52 
	g‹m¶©e
<
	gPIN
> 
š™Pš
() {

53 if(
	gPIN
 >ğ
REAL_FIRST_PIN
 && 
PIN
 <ğ
LAST_PIN
) {

54 
_ESPPIN
<
PIN
, 1<<(PIN & 0xFF)>::
£tOuut
();

59 
vœtu®
 
š™
() {

62 
	gš™Pš
<12>();

63 
	gš™Pš
<13>();

64 
	gš™Pš
<14>();

65 
	gš™Pš
<15>();

66 
	gmPšMask
 = 
Fa¡Pš
<
FIRST_PIN
>::
mask
();

67 
	gmPÜt
 = 
Fa¡Pš
<
FIRST_PIN
>::
pÜt
();

72 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

75 
ušt8_t
 
	gby‹s
[8];

76 
ušt16_t
 
	gshÜts
[4];

77 
ušt32_t
 
	g¿w
[2];

78 } 
	tLšes
;

80 
	#ESP_ADJUST
 0

81 
	#ESP_ADJUST2
 0

	)

82 
	g‹m¶©e
<
	gBITS
,
	gPX
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ï¡_m¬k
, 
Lšes
 & 
b
, 
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> &
pix–s
) {

83 
Lšes
 
	gb2
 = 
b
;

84 
Œª¥o£8x1_nošlše
(
b
.
by‹s
,
b2
.bytes);

86 
ušt8_t
 
	gd
 = 
pix–s
.
‹m¶©e
 
g‘d
<
PX
>(pixels);

87 
ušt8_t
 
	gsÿË
 = 
pix–s
.
‹m¶©e
 
g‘sÿË
<
PX
>(pixels);

89 
ušt32_t
 
	gi
 = 0; i < 
	gUSED_LANES
; ++i) {

90 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
+
	gT3
));

91 
	gÏ¡_m¬k
 = 
__şock_cyşes
();

92 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PORT_MASK
 << 
REAL_FIRST_PIN
;

94 
ušt32_t
 
	gnwÜd
 = ((ušt32_t)(~
b2
.
by‹s
[7-
i
]è& 
PORT_MASK
è<< 
REAL_FIRST_PIN
;

95 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
-6));

96 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
nwÜd
;

98 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
));

99 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PORT_MASK
 << 
REAL_FIRST_PIN
;

101 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
,
	gd
,
	gsÿË
);

104 
ušt32_t
 
	gi
 = 
USED_LANES
; i < 8; ++i) {

105 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
+
	gT3
));

106 
	gÏ¡_m¬k
 = 
__şock_cyşes
();

107 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PORT_MASK
 << 
REAL_FIRST_PIN
;

109 
ušt32_t
 
	gnwÜd
 = ((ušt32_t)(~
b2
.
by‹s
[7-
i
]è& 
PORT_MASK
è<< 
REAL_FIRST_PIN
;

110 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
-6));

111 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
nwÜd
;

113 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
));

114 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PORT_MASK
 << 
REAL_FIRST_PIN
;

120 
ušt32_t
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> &
®Íix–s
) {

123 
Lšes
 
	gb0
;

125 
	gi
 = 0; i < 
	gUSED_LANES
; ++i) {

126 
	gb0
.
	gby‹s
[
i
] = 
®Íix–s
.
lßdAndSÿË0
(i);

128 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

130 
‘s_šŒ_lock
();

131 
ušt32_t
 
	g_¡¬t
 = 
__şock_cyşes
();

132 
ušt32_t
 
	gÏ¡_m¬k
 = 
_¡¬t
;

134 
	g®Íix–s
.
has
(1)) {

136 
	gwr™eB™s
<8+
	gXTRA0
,1>(
	gÏ¡_m¬k
, 
	gb0
, 
	g®Íix–s
);

139 
	gwr™eB™s
<8+
	gXTRA0
,2>(
	gÏ¡_m¬k
, 
	gb0
, 
	g®Íix–s
);

140 
	g®Íix–s
.
advªûD©a
();

143 
	gwr™eB™s
<8+
	gXTRA0
,0>(
	gÏ¡_m¬k
, 
	gb0
, 
	g®Íix–s
);

145 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

146 
‘s_šŒ_uÆock
();

149 
	g®Íix–s
.
¡•D™h”šg
();

151 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

152 
‘s_šŒ_lock
();

154 if((
	gšt32_t
)(
__şock_cyşes
()-
	gÏ¡_m¬k
) > 0) {

155 if((
	gšt32_t
)(
__şock_cyşes
()-
	gÏ¡_m¬k
è> (
	gT1
+
	gT2
+
	gT3
+((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
))è{ 
‘s_šŒ_uÆock
();  0; }

160 
‘s_šŒ_uÆock
();

161 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


162 ++
	g_äame_út
;

164  
__şock_cyşes
(è- 
	g_¡¬t
;

168 
	gFASTLED_NAMESPACE_END


	@src/platforms/esp/32/clockless_i2s_esp32.h

87 #´agm¨
Úû


89 #´agm¨
mes§ge
 "NOTE: ESP32 support using I2S…arallel driver. All strips must usehe same chipset"

91 
	gFASTLED_NAMESPACE_BEGIN


93 #ifdeà
__ılu¥lus


97 
	~"e¥_h—p_ÿps.h
"

98 
	~"soc/soc.h
"

99 
	~"soc/gpio_sig_m­.h
"

100 
	~"soc/i2s_»g.h
"

101 
	~"soc/i2s_¡ruù.h
"

102 
	~"soc/io_mux_»g.h
"

103 
	~"driv”/gpio.h
"

104 
	~"driv”/³rh_ù¾.h
"

105 
	~"rom/Îdesc.h
"

106 
	~"e¥_šŒ.h
"

107 
	~"e¥_log.h
"

109 #ifdeà
__ılu¥lus


113 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
ušt32_t
 
	$__şock_cyşes
() {

114 
ušt32_t
 
cyc
;

115 
__asm__
 
	`__vŞ©e__
 ("r¤ %0,ccouÁ":"÷" (
cyc
));

116  
cyc
;

117 
	}
}

119 
	#FASTLED_HAS_CLOCKLESS
 1

	)

120 
	#NUM_COLOR_CHANNELS
 3

	)

123 #iâdeà
I2S_DEVICE


124 
	#I2S_DEVICE
 0

	)

128 #iâdeà
FASTLED_I2S_MAX_CONTROLLERS


129 
	#FASTLED_I2S_MAX_CONTROLLERS
 24

	)

133 
	#I2S_BASE_CLK
 (80000000L)

	)

134 
	#I2S_MAX_CLK
 (20000000L)

135 
	#I2S_MAX_PULSE_PER_BIT
 20

137 
	#ESPCLKS_TO_NS
(
_CLKS
è((()(_CLKSè* 1000Lè/ 
F_CPU_MHZ
)

	)

140 
CLEDCÚŒŞËr
 * 
gCÚŒŞËrs
[
FASTLED_I2S_MAX_CONTROLLERS
];

141 
	ggNumCÚŒŞËrs
 = 0;

142 
	ggNumS¹ed
 = 0;

146 
xSem­hÜeHªdË
 
	ggTX_£m
 = 
NULL
;

149 
boŞ
 
	ggIn™Ÿlized
 = 
çl£
;

152 
šŒ_hªdË_t
 
	ggI2S_šŒ_hªdË
 = 
NULL
;

155 
i2s_dev_t
 * 
	gi2s
;

158 
	gi2s_ba£_pš_šdex
;

161 
	sDMABufãr
 {

162 
Îdesc_t
 
	mdesütÜ
;

163 
ušt8_t
 * 
	mbufãr
;

166 
	#NUM_DMA_BUFFERS
 2

	)

167 
DMABufãr
 * 
	gdmaBufãrs
[
NUM_DMA_BUFFERS
];

173 
	ggPul£sP”B™
 = 0;

174 
ušt32_t
 
	ggOÃB™
[40] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

175 
ušt32_t
 
	ggZ”oB™
[40] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

178 
	ggCurBufãr
 = 0;

179 
boŞ
 
	ggDÚeFlšg
 = 
çl£
;

180 
	gÚes_fÜ_Úe
;

181 
	gÚes_fÜ_z”o
;

184 
ušt8_t
 
	ggPix–Row
[
NUM_COLOR_CHANNELS
][32];

185 
ušt8_t
 
	ggPix–B™s
[
NUM_COLOR_CHANNELS
][8][4];

186 
	gCLOCK_DIVIDER_N
;

187 
	gCLOCK_DIVIDER_A
;

188 
	gCLOCK_DIVIDER_B
;

190 
	g‹m¶©e
 <
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 5>

191 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
>

194 
gpio_num_t
 
mPš
;

197 
	gFa¡Pš
<
	gDATA_PIN
> 
	gmFa¡Pš
;

200 
	gPix–CÚŒŞËr
<
	gRGB_ORDER
> * 
	gmPix–s
;

203 
	gCMšWa™
<50> 
	gmWa™
;

205 
	gpublic
:

206 
š™
()

208 
i2sIn™
();

212 
	gmPix–s
 = (
Pix–CÚŒŞËr
<
RGB_ORDER
> *è
m®loc
((PixelController<RGB_ORDER>));

214 
	ggCÚŒŞËrs
[
gNumCÚŒŞËrs
] = 
this
;

215 
	gmy_šdex
 = 
gNumCÚŒŞËrs
;

216 ++
	ggNumCÚŒŞËrs
;

224 
	gmPš
 = 
gpio_num_t
(
DATA_PIN
);

226 
PIN_FUNC_SELECT
(
GPIO_PIN_MUX_REG
[
DATA_PIN
], 
PIN_FUNC_GPIO
);

227 
gpio_£t_dœeùiÚ
(
mPš
, (
gpio_mode_t
)
GPIO_MODE_DEF_OUTPUT
);

228 
pšMode
(
mPš
,
OUTPUT
);

229 
gpio_m©rix_out
(
mPš
, 
i2s_ba£_pš_šdex
 + 
my_šdex
, 
çl£
, false);

232 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

234 
	g´Ùeùed
:

235 
pgcd
(
sm®Ë¡
,
´ecisiÚ
,
a
,
b
,
c
)

237 
	gpgc_
=1;

238  
	gi
=
sm®Ë¡
;i>0;--i)

241 ifĞ
	ga
%
	gi
<=
´ecisiÚ
 && 
b
%
i
<õ»cisiÚ && 
c
%i<=precision)

243 
pgc_
=
i
;

247  
	gpgc_
;

260 
š™B™P©‹ºs
()

266 
ušt32_t
 
	gT1ns
 = 
ESPCLKS_TO_NS
(
T1
);

267 
ušt32_t
 
	gT2ns
 = 
ESPCLKS_TO_NS
(
T2
);

268 
ušt32_t
 
	gT3ns
 = 
ESPCLKS_TO_NS
(
T3
);

280 
	gsm®Ë¡
=0;

281 ià(
	gT1
>
	gT2
)

282 
	gsm®Ë¡
=
T2
;

284 
	gsm®Ë¡
=
T1
;

285 if(
	gsm®Ë¡
>
	gT3
)

286 
	gsm®Ë¡
=
T3
;

287 
	gäeq
=()1/()(
T1ns
 + 
T2ns
 + 
T3ns
);

290 
	gpgc_
=1;

291 
	g´ecisiÚ
=0;

292 
	gpgc_
=
pgcd
(
sm®Ë¡
,
´ecisiÚ
,
T1
,
T2
,
T3
);

294 
	gpgc_
==1 || (
T1
/
pgc_
 +
T2
/pgc_ +
T3
/pgc_)>
I2S_MAX_PULSE_PER_BIT
)

296 ++
´ecisiÚ
;

297 
	gpgc_
=
pgcd
(
sm®Ë¡
,
´ecisiÚ
,
T1
,
T2
,
T3
);

300 
	gpgc_
=
pgcd
(
sm®Ë¡
,
´ecisiÚ
,
T1
,
T2
,
T3
);

303 
	ggPul£sP”B™
=()
T1
/
pgc_
 +()
T2
/pgc_ +()
T3
/pgc_;

312 
	gäeq
=1000000000L*
äeq
*
gPul£sP”B™
;

322 
	gCLOCK_DIVIDER_N
=()(()
I2S_BASE_CLK
/
äeq
);

323 
	gv
=
I2S_BASE_CLK
/
äeq
-
CLOCK_DIVIDER_N
;

325 
	g´ec
=()1/63;

326 
	ga
=1;

327 
	gb
=0;

328 
	gCLOCK_DIVIDER_A
=1;

329 
	gCLOCK_DIVIDER_B
=0;

330 
	ga
=1;a<64;++a)

332 
	gb
=0;b<
	ga
;++b)

335 if(
çbsf
(
v
-()
b
/
a
è<ğ
´ec
/2)

338 if(
çbsf
(
v
-()
b
/
a
) ==0)

340 
CLOCK_DIVIDER_A
=
a
;

341 
	gCLOCK_DIVIDER_B
=
b
;

344 if(
çbsf
(
v
-()
b
/
a
è< 
	g´ec
/2)

346 ià(
çbsf
(
v
-()
b
/
a
è<çbsf(v-()
CLOCK_DIVIDER_B
/
CLOCK_DIVIDER_A
))

348 
	gCLOCK_DIVIDER_A
=
a
;

349 
	gCLOCK_DIVIDER_B
=
b
;

355 if(
	gCLOCK_DIVIDER_A
==
CLOCK_DIVIDER_B
)

357 
CLOCK_DIVIDER_A
=1;

358 
	gCLOCK_DIVIDER_B
=0;

359 ++
	gCLOCK_DIVIDER_N
;

364 
	gäeq
=1/(
CLOCK_DIVIDER_N
+()
CLOCK_DIVIDER_B
/
CLOCK_DIVIDER_A
);

365 
	gäeq
=
äeq
*
I2S_BASE_CLK
;

374 
	gÚes_fÜ_Úe
 = 
T1
/
pgc_
 +
T2
/pgc_;

382 
	gi
 = 0;

383  
	gi
 < 
	gÚes_fÜ_Úe
 ) {

384 
	ggOÃB™
[
i
] = 0xFFFFFF00;

385 ++
	gi
;

387  
	gi
 < 
	ggPul£sP”B™
 ) {

388 
	ggOÃB™
[
i
] = 0x00000000;

389 ++
	gi
;

393 
	gÚes_fÜ_z”o
 =
T1
/
pgc_
 ;

399 
	gi
 = 0;

400  
	gi
 < 
	gÚes_fÜ_z”o
 ) {

401 
	ggZ”oB™
[
i
] = 0xFFFFFF00;

402 ++
	gi
;

404  
	gi
 < 
	ggPul£sP”B™
 ) {

405 
	ggZ”oB™
[
i
] = 0x00000000;

406 ++
	gi
;

409 
mem£t
(
gPix–Row
, 0, 
NUM_COLOR_CHANNELS
 * 32);

410 
mem£t
(
gPix–B™s
, 0, 
NUM_COLOR_CHANNELS
 * 32);

413 
DMABufãr
 * 
®loÿ‹DMABufãr
(
by‹s
)

415 
DMABufãr
 * 
	gb
 = (DMABufã¸*)
h—p_ÿps_m®loc
((DMABufãr), 
MALLOC_CAP_DMA
);

417 
	gb
->
	gbufãr
 = (
ušt8_t
 *)
h—p_ÿps_m®loc
(
by‹s
, 
MALLOC_CAP_DMA
);

418 
mem£t
(
b
->
bufãr
, 0, 
by‹s
);

420 
	gb
->
	gdesütÜ
.
	gËngth
 = 
by‹s
;

421 
	gb
->
	gdesütÜ
.
	gsize
 = 
by‹s
;

422 
	gb
->
	gdesütÜ
.
	gowÃr
 = 1;

423 
	gb
->
	gdesütÜ
.
	gsosf
 = 1;

424 
	gb
->
	gdesütÜ
.
	gbuf
 = 
b
->
bufãr
;

425 
	gb
->
	gdesütÜ
.
	goff£t
 = 0;

426 
	gb
->
	gdesütÜ
.
	gem±y
 = 0;

427 
	gb
->
	gdesütÜ
.
	geof
 = 1;

428 
	gb
->
	gdesütÜ
.
	gqe
.
	g¡qe_Ãxt
 = 0;

430  
	gb
;

433 
i2sIn™
()

436 ià(
	ggIn™Ÿlized
) ;

439 
š™B™P©‹ºs
();

443 
	gš‹¼u±Sourû
;

444 ià(
	gI2S_DEVICE
 == 0) {

445 
i2s
 = &
I2S0
;

446 
³rh_moduË_’abË
(
PERIPH_I2S0_MODULE
);

447 
	gš‹¼u±Sourû
 = 
ETS_I2S0_INTR_SOURCE
;

448 
	gi2s_ba£_pš_šdex
 = 
I2S0O_DATA_OUT0_IDX
;

450 
	gi2s
 = &
I2S1
;

451 
³rh_moduË_’abË
(
PERIPH_I2S1_MODULE
);

452 
	gš‹¼u±Sourû
 = 
ETS_I2S1_INTR_SOURCE
;

453 
	gi2s_ba£_pš_šdex
 = 
I2S1O_DATA_OUT0_IDX
;

457 
i2sRe£t
();

458 
i2sRe£t_DMA
();

459 
i2sRe£t_FIFO
();

462 
	gi2s
->
	gcÚf
.
	gtx_msb_right
 = 1;

463 
	gi2s
->
	gcÚf
.
	gtx_mÚo
 = 0;

464 
	gi2s
->
	gcÚf
.
	gtx_shÜt_sync
 = 0;

465 
	gi2s
->
	gcÚf
.
	gtx_msb_shiá
 = 0;

466 
	gi2s
->
	gcÚf
.
	gtx_right_fœ¡
 = 1;

467 
	gi2s
->
	gcÚf
.
	gtx_¦ave_mod
 = 0;

470 
	gi2s
->
	gcÚf2
.
	gv®
 = 0;

471 
	gi2s
->
	gcÚf2
.
	glcd_’
 = 1;

472 
	gi2s
->
	gcÚf2
.
	glcd_tx_wrx2_’
 = 0;

473 
	gi2s
->
	gcÚf2
.
	glcd_tx_sdx2_’
 = 0;

476 
	gi2s
->
	g§m¶e_¿‹_cÚf
.
	gv®
 = 0;

477 
	gi2s
->
	g§m¶e_¿‹_cÚf
.
	gtx_b™s_mod
 = 32;

478 
	gi2s
->
	g§m¶e_¿‹_cÚf
.
	gtx_bck_div_num
 = 1;

479 
	gi2s
->
	gşkm_cÚf
.
	gv®
 = 0;

480 
	gi2s
->
	gşkm_cÚf
.
	gşka_’
 = 0;

485 
	gi2s
->
	gşkm_cÚf
.
	gşkm_div_a
 = 
CLOCK_DIVIDER_A
;

486 
	gi2s
->
	gşkm_cÚf
.
	gşkm_div_b
 = 
CLOCK_DIVIDER_B
;

487 
	gi2s
->
	gşkm_cÚf
.
	gşkm_div_num
 = 
CLOCK_DIVIDER_N
;

489 
	gi2s
->
	gfifo_cÚf
.
	gv®
 = 0;

490 
	gi2s
->
	gfifo_cÚf
.
	gtx_fifo_mod_fÜû_’
 = 1;

491 
	gi2s
->
	gfifo_cÚf
.
	gtx_fifo_mod
 = 3;

492 
	gi2s
->
	gfifo_cÚf
.
	gtx_d©a_num
 = 32;

493 
	gi2s
->
	gfifo_cÚf
.
	gdsü_’
 = 1;

495 
	gi2s
->
	gcÚf1
.
	gv®
 = 0;

496 
	gi2s
->
	gcÚf1
.
	gtx_¡İ_’
 = 0;

497 
	gi2s
->
	gcÚf1
.
	gtx_pcm_by·ss
 = 1;

499 
	gi2s
->
	gcÚf_chª
.
	gv®
 = 0;

500 
	gi2s
->
	gcÚf_chª
.
	gtx_chª_mod
 = 1;

502 
	gi2s
->
	gtimšg
.
	gv®
 = 0;

505 
	gdmaBufãrs
[0] = 
®loÿ‹DMABufãr
(32 * 
NUM_COLOR_CHANNELS
 * 
gPul£sP”B™
);

506 
	gdmaBufãrs
[1] = 
®loÿ‹DMABufãr
(32 * 
NUM_COLOR_CHANNELS
 * 
gPul£sP”B™
);

509 
	gdmaBufãrs
[0]->
	gdesütÜ
.
	gqe
.
	g¡qe_Ãxt
 = &(
dmaBufãrs
[1]->
desütÜ
);

510 
	gdmaBufãrs
[1]->
	gdesütÜ
.
	gqe
.
	g¡qe_Ãxt
 = &(
dmaBufãrs
[0]->
desütÜ
);

513 
SET_PERI_REG_BITS
(
I2S_INT_ENA_REG
(
I2S_DEVICE
), 
I2S_OUT_EOF_INT_ENA_V
, 1, 
I2S_OUT_EOF_INT_ENA_S
);

514 
e¥_šŒ_®loc
(
š‹¼u±Sourû
, 0,

515 &
š‹¼u±HªdËr
, 0, &
gI2S_šŒ_hªdË
);

518 ià(
	ggTX_£m
 =ğ
NULL
) {

519 
gTX_£m
 = 
xSem­hÜeC»©eBš¬y
();

520 
xSem­hÜeGive
(
gTX_£m
);

524 
	ggIn™Ÿlized
 = 
Œue
;

532 
em±y
Ğ
ušt32_t
 *
buf
)

534 
	gi
=0;i<8*
	gNUM_COLOR_CHANNELS
;++i)

536 
	goff£t
=
gPul£sP”B™
*
i
;

537 
	gj
=0;j<
	gÚes_fÜ_z”o
;++j)

538 
	gbuf
[
off£t
+
j
]=0xffffffff;

540 
	gj
=
Úes_fÜ_Úe
;j<
	ggPul£sP”B™
;++j)

541 
	gbuf
[
off£t
+
j
]=0;

547 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
)

549 ià(
	ggNumS¹ed
 == 0) {

551 
xSem­hÜeTake
(
gTX_£m
, 
pÜtMAX_DELAY
);

558 (*
	gmPix–s
èğ
pix–s
;

561 ++
	ggNumS¹ed
;

568 ià(
	ggNumS¹ed
 =ğ
gNumCÚŒŞËrs
) {

569 
em±y
((
ušt32_t
*)
dmaBufãrs
[0]->
bufãr
);

570 
em±y
((
ušt32_t
*)
dmaBufãrs
[1]->
bufãr
);

571 
	ggCurBufãr
 = 0;

572 
	ggDÚeFlšg
 = 
çl£
;

575 
flBufãr
();

576 
flBufãr
();

579 
	gmWa™
.
wa™
();

581 
i2sS¹
();

586 
xSem­hÜeTake
(
gTX_£m
, 
pÜtMAX_DELAY
);

587 
xSem­hÜeGive
(
gTX_£m
);

589 
i2sStİ
();

591 
	gmWa™
.
m¬k
();

594 
	ggNumS¹ed
 = 0;

599 
IRAM_ATTR
 
š‹¼u±HªdËr
(*
¬g
)

601 ià(
	gi2s
->
	gšt_¡
.
	gout_eof
) {

602 
	gi2s
->
	gšt_şr
.
	gv®
 = 
i2s
->
št_¿w
.
v®
;

604 iàĞ! 
	ggDÚeFlšg
) {

605 
flBufãr
();

607 
pÜtBASE_TYPE
 
	gHPTaskAwok’
 = 0;

608 
xSem­hÜeGiveFromISR
(
gTX_£m
, &
HPTaskAwok’
);

609 if(
	gHPTaskAwok’
 =ğ
pdTRUE
è
pÜtYIELD_FROM_ISR
();

620 
flBufãr
()

623 vŞ©
ušt32_t
 * 
	gbuf
 = (ušt32_ˆ*è
dmaBufãrs
[
gCurBufãr
]->
bufãr
;

624 
	ggCurBufãr
 = (
gCurBufãr
 + 1è% 
NUM_DMA_BUFFERS
;

628 
ušt32_t
 
	ghas_d©a_mask
 = 0;

629 
	gi
 = 0; i < 
	ggNumCÚŒŞËrs
; ++i) {

633 
	gb™_šdex
 = 23-
i
;

634 
ClockËssCÚŒŞËr
 * 
	gpCÚŒŞËr
 = 
¡©ic_ÿ¡
<ClockËssCÚŒŞËr*>(
gCÚŒŞËrs
[
i
]);

635 ià(
	gpCÚŒŞËr
->
	gmPix–s
->
has
(1)) {

636 
	ggPix–Row
[0][
b™_šdex
] = 
pCÚŒŞËr
->
mPix–s
->
lßdAndSÿË0
();

637 
	ggPix–Row
[1][
b™_šdex
] = 
pCÚŒŞËr
->
mPix–s
->
lßdAndSÿË1
();

638 
	ggPix–Row
[2][
b™_šdex
] = 
pCÚŒŞËr
->
mPix–s
->
lßdAndSÿË2
();

639 
	gpCÚŒŞËr
->
	gmPix–s
->
advªûD©a
();

640 
	gpCÚŒŞËr
->
	gmPix–s
->
¡•D™h”šg
();

643 
	ghas_d©a_mask
 |ğ(1 << (
i
+8));

648 ià(
	ghas_d©a_mask
 == 0) {

649 
gDÚeFlšg
 = 
Œue
;

655 
	gchªÃl
 = 0; chªÃÈ< 
	gNUM_COLOR_CHANNELS
; ++channel) {

658 
Œª¥o£32
(
gPix–Row
[
chªÃl
], 
gPix–B™s
[channel][0] );

661 
	gb™num
 = 0; bitnum < 8; ++bitnum) {

662 
ušt8_t
 * 
	grow
 = (ušt8_ˆ*è(
gPix–B™s
[
chªÃl
][
b™num
]);

663 
ušt32_t
 
	gb™
 = (
row
[0] << 24) | (row[1] << 16) | (row[2] << 8) |„ow[3];

672 
	gpul£_num
 = 
Úes_fÜ_z”o
;…ul£_num < 
	gÚes_fÜ_Úe
; ++pulse_num) {

673 
	gbuf
[
b™num
*
gPul£sP”B™
+
chªÃl
*8*gPul£sP”B™+
pul£_num
] = 
has_d©a_mask
 & 
b™
;

679 
Œª¥o£32
(
ušt8_t
 * 
pix–s
, ušt8_ˆ* 
b™s
)

681 
Œª¥o£8rS32
(& 
pix–s
[0], 1, 4, & 
b™s
[0]);

682 
Œª¥o£8rS32
(& 
pix–s
[8], 1, 4, & 
b™s
[1]);

683 
Œª¥o£8rS32
(& 
pix–s
[16], 1, 4, & 
b™s
[2]);

690 
Œª¥o£8rS32
(
ušt8_t
 * 
A
, 
m
, 
n
, ušt8_ˆ* 
B
)

692 
ušt32_t
 
	gx
, 
	gy
, 
	gt
;

696 
	gx
 = (
A
[0]<<24è| (A[
m
]<<16) | (A[2*m]<<8) | A[3*m];

697 
	gy
 = (
A
[4*
m
]<<24) | (A[5*m]<<16) | (A[6*m]<<8) | A[7*m];

699 
	gt
 = (
x
 ^ (x >> 7)è& 0x00AA00AA; 
	gx
 = x ^ 
t
 ^ (t << 7);

700 
	gt
 = (
y
 ^ (y >> 7)è& 0x00AA00AA; 
	gy
 = y ^ 
t
 ^ (t << 7);

702 
	gt
 = (
x
 ^ (x >>14)è& 0x0000CCCC; 
	gx
 = x ^ 
t
 ^ (t <<14);

703 
	gt
 = (
y
 ^ (y >>14)è& 0x0000CCCC; 
	gy
 = y ^ 
t
 ^ (t <<14);

705 
	gt
 = (
x
 & 0xF0F0F0F0è| ((
y
 >> 4) & 0x0F0F0F0F);

706 
	gy
 = ((
x
 << 4è& 0xF0F0F0F0è| (
y
 & 0x0F0F0F0F);

707 
	gx
 = 
t
;

709 
	gB
[0]=
x
>>24; B[
n
]=x>>16; B[2*n]=x>>8; B[3*n]=x;

710 
	gB
[4*
n
]=
y
>>24; B[5*n]=y>>16; B[6*n]=y>>8; B[7*n]=y;

715 
i2sS¹
()

719 
i2sRe£t
();

721 
	gi2s
->
	glc_cÚf
.
	gv®
=
I2S_OUT_DATA_BURST_EN
 | 
I2S_OUTDSCR_BURST_EN
 | I2S_OUT_DATA_BURST_EN;

722 
	gi2s
->
	gout_lšk
.
	gaddr
 = (
ušt32_t
è& (
dmaBufãrs
[0]->
desütÜ
);

723 
	gi2s
->
	gout_lšk
.
	g¡¬t
 = 1;

725 
	gi2s
->
	gšt_şr
.
	gv®
 = 
i2s
->
št_¿w
.
v®
;

727 
	gi2s
->
	gšt_’a
.
	gout_dsü_”r
 = 1;

730 
e¥_šŒ_’abË
(
gI2S_šŒ_hªdË
);

732 
	gi2s
->
	gšt_’a
.
	gv®
 = 0;

733 
	gi2s
->
	gšt_’a
.
	gout_eof
 = 1;

736 
	gi2s
->
	gcÚf
.
	gtx_¡¬t
 = 1;

739 
i2sRe£t
()

742 cÚ¡ 
	glc_cÚf_»£t_æags
 = 
I2S_IN_RST_M
 | 
I2S_OUT_RST_M
 | 
I2S_AHBM_RST_M
 | 
I2S_AHBM_FIFO_RST_M
;

743 
	gi2s
->
	glc_cÚf
.
	gv®
 |ğ
lc_cÚf_»£t_æags
;

744 
	gi2s
->
	glc_cÚf
.
	gv®
 &ğ~
lc_cÚf_»£t_æags
;

746 cÚ¡ 
ušt32_t
 
	gcÚf_»£t_æags
 = 
I2S_RX_RESET_M
 | 
I2S_RX_FIFO_RESET_M
 | 
I2S_TX_RESET_M
 | 
I2S_TX_FIFO_RESET_M
;

747 
	gi2s
->
	gcÚf
.
	gv®
 |ğ
cÚf_»£t_æags
;

748 
	gi2s
->
	gcÚf
.
	gv®
 &ğ~
cÚf_»£t_æags
;

751 
i2sRe£t_DMA
()

753 
	gi2s
->
	glc_cÚf
.
	gš_r¡
=1; i2s->lc_conf.in_rst=0;

754 
	gi2s
->
	glc_cÚf
.
	gout_r¡
=1; i2s->lc_conf.out_rst=0;

757 
i2sRe£t_FIFO
()

759 
	gi2s
->
	gcÚf
.
	grx_fifo_»£t
=1; i2s->conf.rx_fifo_reset=0;

760 
	gi2s
->
	gcÚf
.
	gtx_fifo_»£t
=1; i2s->conf.tx_fifo_reset=0;

763 
i2sStİ
()

766 
e¥_šŒ_di§bË
(
gI2S_šŒ_hªdË
);

767 
i2sRe£t
();

768 
	gi2s
->
	gcÚf
.
	grx_¡¬t
 = 0;

769 
	gi2s
->
	gcÚf
.
	gtx_¡¬t
 = 0;

773 
	gFASTLED_NAMESPACE_END


	@src/platforms/esp/32/clockless_rmt_esp32.cpp

2 #ifdeà
ESP32


4 
	#FASTLED_INTERNAL


	)

5 
	~"Fa¡LED.h
"

8 
şass
 
	gESP32RMTCÚŒŞËr
;

13 
ESP32RMTCÚŒŞËr
 * 
	ggCÚŒŞËrs
[
FASTLED_RMT_MAX_CONTROLLERS
];

17 
ESP32RMTCÚŒŞËr
 * 
	ggOnChªÃl
[
FASTLED_RMT_MAX_CHANNELS
];

19 
	ggNumCÚŒŞËrs
 = 0;

20 
	ggNumS¹ed
 = 0;

21 
	ggNumDÚe
 = 0;

22 
	ggNext
 = 0;

24 
šŒ_hªdË_t
 
	ggRMT_šŒ_hªdË
 = 
NULL
;

28 
xSem­hÜeHªdË
 
	ggTX_£m
 = 
NULL
;

31 
	gCMšWa™
<50> 
	ggWa™
;

33 
boŞ
 
	ggIn™Ÿlized
 = 
çl£
;

35 
	gESP32RMTCÚŒŞËr
::
	$ESP32RMTCÚŒŞËr
(
DATA_PIN
, 
T1
, 
T2
, 
T3
)

36 : 
	`mPix–D©a
(0),

37 
	`mSize
(0),

38 
	`mCur
(0),

39 
	`mWhichH®f
(0),

40 
	`mBufãr
(0),

41 
	`mBufãrSize
(0),

42 
	$mCurPul£
(0)

47 
mOÃ
.
Ëv–0
 = 1;

48 
mOÃ
.
du¿tiÚ0
 = 
	`ESP_TO_RMT_CYCLES
(
T1
+
T2
);

50 
mOÃ
.
Ëv–1
 = 0;

51 
mOÃ
.
du¿tiÚ1
 = 
	`ESP_TO_RMT_CYCLES
(
T3
);

54 
mZ”o
.
Ëv–0
 = 1;

55 
mZ”o
.
du¿tiÚ0
 = 
	`ESP_TO_RMT_CYCLES
(
T1
);

57 
mZ”o
.
Ëv–1
 = 0;

58 
mZ”o
.
du¿tiÚ1
 = 
	`ESP_TO_RMT_CYCLES
(
T2
+
T3
);

60 
gCÚŒŞËrs
[
gNumCÚŒŞËrs
] = 
this
;

61 
gNumCÚŒŞËrs
++;

64 
mCyşesP”Fl
 = (
T1
 + 
T2
 + 
T3
è* 
PULSES_PER_FILL
;

68 
mMaxCyşesP”Fl
 = 
mCyşesP”Fl
 + mCyclesPerFill/2;

70 
mPš
 = 
	`gpio_num_t
(
DATA_PIN
);

71 
	}
}

76 
ušt32_t
 * 
	gESP32RMTCÚŒŞËr
::
	$g‘Pix–Bufãr
(
size_š_by‹s
)

78 ià(
mPix–D©a
 == 0) {

79 
mSize
 = ((
size_š_by‹s
-1è/ (
ušt32_t
)) + 1;

80 
mPix–D©a
 = (
ušt32_t
 *è
	`ÿÎoc
Ğ
mSize
, (uint32_t));

82  
mPix–D©a
;

83 
	}
}

87 
	gESP32RMTCÚŒŞËr
::
	$š™
(
gpio_num_t
 
pš
)

89 ià(
gIn™Ÿlized
) ;

91 
i
 = 0; i < 
FASTLED_RMT_MAX_CHANNELS
; i++) {

92 
gOnChªÃl
[
i
] = 
NULL
;

95 
rmt_cÚfig_t
 
rmt_tx
;

96 
rmt_tx
.
chªÃl
 = 
	`rmt_chªÃl_t
(
i
);

97 
rmt_tx
.
rmt_mode
 = 
RMT_MODE_TX
;

98 
rmt_tx
.
gpio_num
 = 
pš
;

99 
rmt_tx
.
mem_block_num
 = 
FASTLED_RMT_MEM_BLOCKS
;

100 
rmt_tx
.
şk_div
 = 
DIVIDER
;

101 
rmt_tx
.
tx_cÚfig
.
loİ_’
 = 
çl£
;

102 
rmt_tx
.
tx_cÚfig
.
ÿ¼›r_Ëv–
 = 
RMT_CARRIER_LEVEL_LOW
;

103 
rmt_tx
.
tx_cÚfig
.
ÿ¼›r_’
 = 
çl£
;

104 
rmt_tx
.
tx_cÚfig
.
idË_Ëv–
 = 
RMT_IDLE_LEVEL_LOW
;

105 
rmt_tx
.
tx_cÚfig
.
idË_ouut_’
 = 
Œue
;

108 
	`rmt_cÚfig
(&
rmt_tx
);

110 ià(
FASTLED_RMT_BUILTIN_DRIVER
) {

111 
	`rmt_driv”_š¡®l
(
	`rmt_chªÃl_t
(
i
), 0, 0);

116 
	`rmt_£t_tx_thr_šŒ_’
(
	`rmt_chªÃl_t
(
i
), 
Œue
, 
PULSES_PER_FILL
);

121 ià(
gTX_£m
 =ğ
NULL
) {

122 
gTX_£m
 = 
	`xSem­hÜeC»©eBš¬y
();

123 
	`xSem­hÜeGive
(
gTX_£m
);

126 iàĞ! 
FASTLED_RMT_BUILTIN_DRIVER
) {

131 ià(
gRMT_šŒ_hªdË
 =ğ
NULL
)

132 
	`e¥_šŒ_®loc
(
ETS_RMT_INTR_SOURCE
, 
ESP_INTR_FLAG_IRAM
 | 
ESP_INTR_FLAG_LEVEL3
, 
š‹¼u±HªdËr
, 0, &
gRMT_šŒ_hªdË
);

135 
gIn™Ÿlized
 = 
Œue
;

136 
	}
}

140 
IRAM_ATTR
 
	gESP32RMTCÚŒŞËr
::
	$showPix–s
()

142 ià(
gNumS¹ed
 == 0) {

144 
ESP32RMTCÚŒŞËr
::
	`š™
(
mPš
);

146 #ià
FASTLED_ESP32_FLASH_LOCK
 == 1

148 
	`¥i_æash_İ_lock
();

153 
gNumS¹ed
++;

157 ià(
gNumS¹ed
 =ğ
gNumCÚŒŞËrs
) {

158 
gNext
 = 0;

161 
	`xSem­hÜeTake
(
gTX_£m
, 
pÜtMAX_DELAY
);

164 
gWa™
.
	`wa™
();

167 
chªÃl
 = 0;

168 
chªÃl
 < 
FASTLED_RMT_MAX_CHANNELS
 && 
gNext
 < 
gNumCÚŒŞËrs
) {

169 
ESP32RMTCÚŒŞËr
::
	`¡¬tNext
(
chªÃl
);

172 
chªÃl
 +ğ
FASTLED_RMT_MEM_BLOCKS
;

178 
	`xSem­hÜeTake
(
gTX_£m
, 
pÜtMAX_DELAY
);

179 
	`xSem­hÜeGive
(
gTX_£m
);

182 
gWa™
.
	`m¬k
();

185 
gNumS¹ed
 = 0;

186 
gNumDÚe
 = 0;

187 
gNext
 = 0;

189 #ià
FASTLED_ESP32_FLASH_LOCK
 == 1

191 
	`¥i_æash_İ_uÆock
();

195 
	}
}

200 
IRAM_ATTR
 
	gESP32RMTCÚŒŞËr
::
	$¡¬tNext
(
chªÃl
)

202 ià(
gNext
 < 
gNumCÚŒŞËrs
) {

203 
ESP32RMTCÚŒŞËr
 * 
pCÚŒŞËr
 = 
gCÚŒŞËrs
[
gNext
];

204 
pCÚŒŞËr
->
	`¡¬tOnChªÃl
(
chªÃl
);

205 
gNext
++;

207 
	}
}

212 
IRAM_ATTR
 
	gESP32RMTCÚŒŞËr
::
	$¡¬tOnChªÃl
(
chªÃl
)

215 
mRMT_chªÃl
 = 
	`rmt_chªÃl_t
(
chªÃl
);

219 
gOnChªÃl
[
chªÃl
] = 
this
;

222 
	`rmt_£t_pš
(
mRMT_chªÃl
, 
RMT_MODE_TX
, 
mPš
);

224 ià(
FASTLED_RMT_BUILTIN_DRIVER
) {

226 
	`rmt_»gi¡”_tx_’d_ÿÎback
(
dÚeOnChªÃl
, 0);

227 
	`rmt_wr™e_™ems
(
mRMT_chªÃl
, 
mBufãr
, 
mBufãrSize
, 
çl£
);

233 
mRMT_mem_¡¬t
 = & (
RMTMEM
.
chª
[
mRMT_chªÃl
].
d©a32
[0].
v®
);

234 
mRMT_mem_±r
 = 
mRMT_mem_¡¬t
;

235 
mCur
 = 0;

236 
mWhichH®f
 = 0;

237 
mLa¡Fl
 = 0;

240 
	`flNext
(
çl£
);

241 
	`flNext
(
çl£
);

244 
	`rmt_£t_tx_šŒ_’
(
mRMT_chªÃl
, 
Œue
);

247 
	`tx_¡¬t
();

249 
	}
}

253 
IRAM_ATTR
 
	gESP32RMTCÚŒŞËr
::
	$tx_¡¬t
()

257 
RMT
.
cÚf_ch
[
mRMT_chªÃl
].
cÚf1
.
mem_rd_r¡
 = 1;

258 
RMT
.
cÚf_ch
[
mRMT_chªÃl
].
cÚf1
.
mem_rd_r¡
 = 0;

259 
RMT
.
št_’a
.
v®
 &ğ~(1 << (
mRMT_chªÃl
 * 3));

260 
RMT
.
št_’a
.
v®
 |ğ(1 << (
mRMT_chªÃl
 * 3));

261 
RMT
.
cÚf_ch
[
mRMT_chªÃl
].
cÚf1
.
tx_¡¬t
 = 1;

262 
mLa¡Fl
 = 
	`__şock_cyşes
();

263 
	}
}

271 
IRAM_ATTR
 
	gESP32RMTCÚŒŞËr
::
	$dÚeOnChªÃl
(
rmt_chªÃl_t
 
chªÃl
, * 
¬g
)

273 
ESP32RMTCÚŒŞËr
 * 
pCÚŒŞËr
 = 
gOnChªÃl
[
chªÃl
];

277 
	`gpio_m©rix_out
(
pCÚŒŞËr
->
mPš
, 0x100, 0, 0);

282 
RMT
.
št_’a
.
v®
 &ğ~(1 << (
chªÃl
 * 3));

283 
RMT
.
cÚf_ch
[
chªÃl
].
cÚf1
.
mem_rd_r¡
 = 1;

284 
RMT
.
cÚf_ch
[
chªÃl
].
cÚf1
.
mem_rd_r¡
 = 0;

286 
gOnChªÃl
[
chªÃl
] = 
NULL
;

287 
gNumDÚe
++;

289 ià(
gNumDÚe
 =ğ
gNumCÚŒŞËrs
) {

291 ià(
FASTLED_RMT_BUILTIN_DRIVER
) {

292 
	`xSem­hÜeGive
(
gTX_£m
);

294 
pÜtBASE_TYPE
 
HPTaskAwok’
 = 0;

295 
	`xSem­hÜeGiveFromISR
(
gTX_£m
, &
HPTaskAwok’
);

296 ià(
HPTaskAwok’
 =ğ
pdTRUE
è
	`pÜtYIELD_FROM_ISR
();

301 ià(
gNext
 < 
gNumCÚŒŞËrs
) {

302 
	`¡¬tNext
(
chªÃl
);

305 
	}
}

311 
IRAM_ATTR
 
	gESP32RMTCÚŒŞËr
::
	$š‹¼u±HªdËr
(*
¬g
)

315 
ušt32_t
 
šŒ_¡
 = 
RMT
.
št_¡
.
v®
;

316 
ušt8_t
 
chªÃl
;

318 
boŞ
 
¡uff_to_do
 = 
çl£
;

319 
chªÃl
 = 0; chªÃÈ< 
FASTLED_RMT_MAX_CHANNELS
; channel++) {

320 
tx_dÚe_b™
 = 
chªÃl
 * 3;

321 
tx_Ãxt_b™
 = 
chªÃl
 + 24;

323 
ESP32RMTCÚŒŞËr
 * 
pCÚŒŞËr
 = 
gOnChªÃl
[
chªÃl
];

324 ià(
pCÚŒŞËr
 !ğ
NULL
) {

325 ià(
šŒ_¡
 & 
	`BIT
(
tx_Ãxt_b™
)) {

327 
pCÚŒŞËr
->
	`flNext
(
Œue
);

328 
RMT
.
št_şr
.
v®
 |ğ
	`BIT
(
tx_Ãxt_b™
);

331 ià(
šŒ_¡
 & 
	`BIT
(
tx_dÚe_b™
)) {

332 
RMT
.
št_şr
.
v®
 |ğ
	`BIT
(
tx_dÚe_b™
);

333 
	`dÚeOnChªÃl
(
	`rmt_chªÃl_t
(
chªÃl
), 0);

338 
	}
}

344 
IRAM_ATTR
 
	gESP32RMTCÚŒŞËr
::
	$flNext
(
boŞ
 
check_time
)

346 
ušt32_t
 
now
 = 
	`__şock_cyşes
();

347 ià(
check_time
) {

348 ià(
mLa¡Fl
 !ğ0 
ªd
 
now
 > mLastFill) {

349 
ušt32_t
 
d–
 = (
now
 - 
mLa¡Fl
);

350 ià(
d–
 > 
mMaxCyşesP”Fl
) {

364 
mCur
 = 
mSize
;

368 
mLa¡Fl
 = 
now
;

371 
ušt32_t
 
Úe_v®
 = 
mOÃ
.
v®
;

372 
ušt32_t
 
z”o_v®
 = 
mZ”o
.
v®
;

375 vŞ©
ušt32_t
 * 
pI‹m
 = 
mRMT_mem_±r
;

377 
i
 = 0; i < 
PULSES_PER_FILL
/32; i++) {

378 ià(
mCur
 < 
mSize
) {

381 
ušt32_t
 
pix–d©a
 = 
mPix–D©a
[
mCur
];

382 
mCur
++;

386 
ušt32_t
 
j
 = 0; j < 32; j++) {

387 *
pI‹m
++ = (
pix–d©a
 & 0x80000000Lè? 
Úe_v®
 : 
z”o_v®
;

390 
pix–d©a
 <<= 1;

395 *
pI‹m
++ = 0;

400 
mWhichH®f
++;

401 ià(
mWhichH®f
 == 2) {

402 
pI‹m
 = 
mRMT_mem_¡¬t
;

403 
mWhichH®f
 = 0;

407 
mRMT_mem_±r
 = 
pI‹m
;

408 
	}
}

414 
	gESP32RMTCÚŒŞËr
::
	$š™Pul£Bufãr
(
size_š_by‹s
)

416 ià(
mBufãr
 == 0) {

418 
mBufãrSize
 = 
size_š_by‹s
 * 8 * 4;

419 
mBufãr
 = (
rmt_™em32_t
 *è
	`ÿÎoc
Ğ
mBufãrSize
, (rmt_item32_t));

421 
mCurPul£
 = 0;

422 
	}
}

426 
	gESP32RMTCÚŒŞËr
::
	$cÚv”tBy‹
(
ušt32_t
 
by‹v®
)

429 
by‹v®
 <<= 24;

430 
ušt32_t
 
j
 = 0; j < 8; j++) {

431 
mBufãr
[
mCurPul£
] = (
by‹v®
 & 0x80000000Lè? 
mOÃ
 : 
mZ”o
;

432 
by‹v®
 <<= 1;

433 
mCurPul£
++;

435 
	}
}

	@src/platforms/esp/32/clockless_rmt_esp32.h

107 #´agm¨
Úû


109 
	gFASTLED_NAMESPACE_BEGIN


111 #ifdeà
__ılu¥lus


115 
	~"e¥32-h®.h
"

116 
	~"e¥_šŒ.h
"

117 
	~"driv”/gpio.h
"

118 
	~"driv”/rmt.h
"

119 
	~"driv”/³rh_ù¾.h
"

120 
	~"ä“¹os/£mphr.h
"

121 
	~"soc/rmt_¡ruù.h
"

123 
	~"e¥_log.h
"

125 
¥i_æash_İ_lock
();

126 
¥i_æash_İ_uÆock
();

128 #ifdeà
__ılu¥lus


132 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
ušt32_t
 
	$__şock_cyşes
() {

133 
ušt32_t
 
cyc
;

134 
__asm__
 
	`__vŞ©e__
 ("r¤ %0,ccouÁ":"÷" (
cyc
));

135  
cyc
;

136 
	}
}

138 
	#FASTLED_HAS_CLOCKLESS
 1

	)

139 
	#NUM_COLOR_CHANNELS
 3

	)

150 
	#DIVIDER
 2

	)

158 #iâdeà
FASTLED_RMT_MEM_BLOCKS


159 
	#FASTLED_RMT_MEM_BLOCKS
 2

	)

162 
	#MAX_PULSES
 (64 * 
FASTLED_RMT_MEM_BLOCKS
è

	)

163 
	#PULSES_PER_FILL
 (
MAX_PULSES
 / 2è

	)

166 
	#F_CPU_RMT
 ( 80000000L)

	)

167 
	#RMT_CYCLES_PER_SEC
 (
F_CPU_RMT
/
DIVIDER
)

	)

168 
	#RMT_CYCLES_PER_ESP_CYCLE
 (
F_CPU
 / 
RMT_CYCLES_PER_SEC
)

	)

169 
	#ESP_TO_RMT_CYCLES
(
n
è(Òè/ (
RMT_CYCLES_PER_ESP_CYCLE
))

	)

172 
	#NS_PER_CYCLE
 ( 1000000000L / 
RMT_CYCLES_PER_SEC
 )

	)

173 
	#NS_TO_CYCLES
(
n
èĞÒè/ 
NS_PER_CYCLE
 )

	)

174 
	#RMT_RESET_DURATION
 
	`NS_TO_CYCLES
(50000)

	)

177 #iâdeà
FASTLED_RMT_BUILTIN_DRIVER


178 
	#FASTLED_RMT_BUILTIN_DRIVER
 
çl£


	)

182 #iâdeà
FASTLED_RMT_MAX_CONTROLLERS


183 
	#FASTLED_RMT_MAX_CONTROLLERS
 32

	)

188 #iâdeà
FASTLED_RMT_MAX_CHANNELS


189 
	#FASTLED_RMT_MAX_CHANNELS
 (8/
FASTLED_RMT_MEM_BLOCKS
)

	)

192 şas 
	cESP32RMTCÚŒŞËr


194 
	m´iv©e
:

197 
rmt_chªÃl_t
 
mRMT_chªÃl
;

200 
gpio_num_t
 
	mmPš
;

203 
rmt_™em32_t
 
	mmZ”o
;

204 
rmt_™em32_t
 
	mmOÃ
;

208 
ušt32_t
 
	mmCyşesP”Fl
;

209 
ušt32_t
 
	mmMaxCyşesP”Fl
;

210 
ušt32_t
 
	mmLa¡Fl
;

213 
ušt32_t
 * 
	mmPix–D©a
;

214 
	mmSize
;

215 
	mmCur
;

218 vŞ©
ušt32_t
 * 
	mmRMT_mem_±r
;

219 vŞ©
ušt32_t
 * 
	mmRMT_mem_¡¬t
;

220 
	mmWhichH®f
;

224 
rmt_™em32_t
 * 
	mmBufãr
;

225 
ušt16_t
 
	mmBufãrSize
;

226 
	mmCurPul£
;

228 
	mpublic
:

233 
ESP32RMTCÚŒŞËr
(
DATA_PIN
, 
T1
, 
T2
, 
T3
);

236 
ušt32_t
 
IRAM_ATTR
 
	$g‘MaxCyşesP”Fl
(ècÚ¡ {  
mMaxCyşesP”Fl
; }

239 
ušt32_t
 * 
	`g‘Pix–Bufãr
(
size_š_by‹s
);

244 
	`š™
(
gpio_num_t
 
pš
);

248 
IRAM_ATTR
 
	`showPix–s
();

253 
IRAM_ATTR
 
	`¡¬tNext
(
chªÃl
);

258 
IRAM_ATTR
 
	`¡¬tOnChªÃl
(
chªÃl
);

262 
IRAM_ATTR
 
	`tx_¡¬t
();

270 
IRAM_ATTR
 
	`dÚeOnChªÃl
(
rmt_chªÃl_t
 
chªÃl
, * 
¬g
);

276 
IRAM_ATTR
 
	`š‹¼u±HªdËr
(*
¬g
);

284 
IRAM_ATTR
 
	`flNext
(
boŞ
 
check_time
);

290 
	`š™Pul£Bufãr
(
size_š_by‹s
);

294 
	`cÚv”tBy‹
(
ušt32_t
 
by‹v®
);

295 
	}
};

297 
	g‹m¶©e
 <
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 5>

298 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
>

300 
´iv©e
:

303 
ESP32RMTCÚŒŞËr
 
mRMTCÚŒŞËr
;

306 
	gFa¡Pš
<
	gDATA_PIN
> 
	gmFa¡Pš
;

308 
	gpublic
:

310 
ClockËssCÚŒŞËr
()

311 : 
mRMTCÚŒŞËr
(
DATA_PIN
, 
T1
, 
T2
, 
T3
)

314 
š™
()

319 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

321 
	g´Ùeùed
:

328 
lßdPix–D©a
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
)

331 
size_š_by‹s
 = 
pix–s
.
size
() * 3;

332 
ušt32_t
 * 
	gpD©a
 = 
mRMTCÚŒŞËr
.
g‘Pix–Bufãr
(
size_š_by‹s
);

336 
	gcouÁ
 = 0;

337 
	gwhich
 = 0;

338 
	gpix–s
.
has
(1)) {

340 
ušt8_t
 
	gfour
[4] = {0,0,0,0};

341 
	gi
 = 0; i < 4; i++) {

342 
	gwhich
) {

344 
four
[
i
] = 
pix–s
.
lßdAndSÿË0
();

347 
four
[
i
] = 
pix–s
.
lßdAndSÿË1
();

350 
four
[
i
] = 
pix–s
.
lßdAndSÿË2
();

351 
	gpix–s
.
advªûD©a
();

352 
	gpix–s
.
¡•D™h”šg
();

356 
	gwhich
++;

357 ià(
	gwhich
 > 2) which = 0;

360 iàĞ! 
	gpix–s
.
has
(1)) ;

364 
ušt8_t
 
	ga
 = 
four
[0];

365 
ušt8_t
 
	gb
 = 
four
[1];

366 
ušt8_t
 
	gc
 = 
four
[2];

367 
ušt8_t
 
	gd
 = 
four
[3];

368 
	gpD©a
[
couÁ
++] = 
a
 << 24 | 
b
 << 16 | 
c
 << 8 | 
d
;

374 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
)

376 ià(
	gFASTLED_RMT_BUILTIN_DRIVER
) {

377 
cÚv”tAÎPix–D©a
(
pix–s
);

379 
lßdPix–D©a
(
pix–s
);

382 
	gmRMTCÚŒŞËr
.
showPix–s
();

389 
cÚv”tAÎPix–D©a
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
)

392 
	gmRMTCÚŒŞËr
.
š™Pul£Bufãr
(
pix–s
.
size
() * 3);

397 
ušt32_t
 
	gby‹v®
;

398 
	gpix–s
.
has
(1)) {

399 
	gby‹v®
 = 
pix–s
.
lßdAndSÿË0
();

400 
	gmRMTCÚŒŞËr
.
cÚv”tBy‹
(
by‹v®
);

401 
	gby‹v®
 = 
pix–s
.
lßdAndSÿË1
();

402 
	gmRMTCÚŒŞËr
.
cÚv”tBy‹
(
by‹v®
);

403 
	gby‹v®
 = 
pix–s
.
lßdAndSÿË2
();

404 
	gmRMTCÚŒŞËr
.
cÚv”tBy‹
(
by‹v®
);

405 
	gpix–s
.
advªûD©a
();

406 
	gpix–s
.
¡•D™h”šg
();

412 
	gFASTLED_NAMESPACE_END


	@src/platforms/esp/32/fastled_esp32.h

1 #´agm¨
Úû


3 
	~"ç¡pš_e¥32.h
"

5 #ifdeà
FASTLED_ESP32_I2S


6 
	~"şockËss_i2s_e¥32.h
"

8 
	~"şockËss_rmt_e¥32.h
"

	@src/platforms/esp/32/fastpin_esp32.h

1 #´agm¨
Úû


3 
FASTLED_NAMESPACE_BEGIN


5 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	gMASK
> cÏs 
	c_ESPPIN
 {

6 
	mpublic
:

7 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

8 
ušt32_t
 
	tpÜt_t
;

10 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

11 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

13 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

14 ià(
PIN
 < 32è
GPIO
.
out_w1ts
 = 
MASK
;

15 
GPIO
.
out1_w1ts
.
v®
 = 
MASK
;

16 
	}
}

18 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

19 ià(
PIN
 < 32è
GPIO
.
out_w1tc
 = 
MASK
;

20 
GPIO
.
out1_w1tc
.
v®
 = 
MASK
;

21 
	}
}

23 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

24 ià(
PIN
 < 32è
GPIO
.
out
 = 
v®
;

25 
GPIO
.
out1
.
v®
 = val;

26 
	}
}

28 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

30 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

31 if(
PIN
 < 32è{ 
GPIO
.
out
 ^ğ
MASK
; }

32 { 
GPIO
.
out1
.
v®
 ^=
MASK
; }

33 
	}
}

35 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

36 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

37 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

39 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

40 ià(
PIN
 < 32è 
GPIO
.
out
 | 
MASK
;

41  
GPIO
.
out1
.
v®
 | 
MASK
;

42 
	}
}

44 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

45 ià(
PIN
 < 32è 
GPIO
.
out
 & ~
MASK
;

46  
GPIO
.
out1
.
v®
 & ~
MASK
;

47 
	}
}

49 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

50 ià(
PIN
 < 32è &
GPIO
.
out
;

51  &
GPIO
.
out1
.
v®
;

52 
	}
}

54 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

55 ià(
PIN
 < 32è &
GPIO
.
out_w1ts
;

56  &
GPIO
.
out1_w1ts
.
v®
;

57 
	}
}

59 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

60 ià(
PIN
 < 32è &
GPIO
.
out_w1tc
;

61  &
GPIO
.
out1_w1tc
.
v®
;

62 
	}
}

64 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
MASK
; 
	}
}

66 
šlše
 
boŞ
 
	$is£t
(è
	`__©Œibu‹__
 ((
®ways_šlše
)) {

67 ià(
PIN
 < 32è 
GPIO
.
out
 & 
MASK
;

68  
GPIO
.
out1
.
v®
 & 
MASK
;

69 
	}
}

72 
	#_FL_DEFPIN
(
PIN
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ESPPIN
<PIN, ((PIN<32)?((
ušt32_t
)1 << PIN):((ušt32_t)1 << (PIN-32)))> {};

	)

74 
_FL_DEFPIN
(0);

75 
_FL_DEFPIN
(1);

76 
_FL_DEFPIN
(2);

77 
_FL_DEFPIN
(3);

78 
_FL_DEFPIN
(4);

79 
_FL_DEFPIN
(5);

85 
_FL_DEFPIN
(12);

86 
_FL_DEFPIN
(13);

87 
_FL_DEFPIN
(14);

88 
_FL_DEFPIN
(15);

89 
_FL_DEFPIN
(16);

90 
_FL_DEFPIN
(17);

91 
_FL_DEFPIN
(18);

92 
_FL_DEFPIN
(19);

96 
_FL_DEFPIN
(21);

97 
_FL_DEFPIN
(22);

98 
_FL_DEFPIN
(23);

102 
_FL_DEFPIN
(25);

103 
_FL_DEFPIN
(26);

104 
_FL_DEFPIN
(27);

109 
_FL_DEFPIN
(32);

110 
_FL_DEFPIN
(33);

112 
	#HAS_HARDWARE_PIN_SUPPORT


	)

114 
	gFASTLED_NAMESPACE_END


	@src/platforms/esp/32/led_sysdefs_esp32.h

1 #´agm¨
Úû


3 #iâdeà
ESP32


4 
	#ESP32


	)

7 
	#FASTLED_ESP32


	)

10 
	#FASTLED_HAS_MILLIS


	)

12 vŞ©
	tušt32_t
 
	tRoReg
;

13 vŞ©
	tušt32_t
 
	tRwReg
;

14 
	t´og_ušt32_t
;

18 #iâdeà
FASTLED_USE_PROGMEM


19 
	#FASTLED_USE_PROGMEM
 0

	)

22 #iâdeà
FASTLED_ALLOW_INTERRUPTS


23 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

24 
	#INTERRUPT_THRESHOLD
 0

	)

27 
	#NEED_CXX_BITS


	)

30 
	#FASTLED_ESP32_RAW_PIN_ORDER


	)

	@src/platforms/esp/8266/clockless_block_esp8266.h

1 #iâdeà
__INC_CLOCKLESS_BLOCK_ESP8266_H


2 
	#__INC_CLOCKLESS_BLOCK_ESP8266_H


	)

4 
	#FASTLED_HAS_BLOCKLESS
 1

	)

6 
	#FIX_BITS
(
b™s
è(((b™ & 0x0fLè<< 12è| (b™ & 0x30))

	)

8 
	#MIN
(
X
,
Y
è(((X)<(Y)è? (X):(Y))

	)

9 
	#USED_LANES
 (
	`MIN
(
LANES
, 6))

	)

10 
	#PORT_MASK
 (((1 << 
USED_LANES
)-1è& 0x0000FFFFL)

	)

11 
	#PIN_MASK
 
	`FIX_BITS
(
PORT_MASK
)

	)

13 
	gFASTLED_NAMESPACE_BEGIN


15 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


16 
ušt32_t
 
_äame_út
;

17 
ušt32_t
 
_»Œy_út
;

20 
	g‹m¶©e
 <
ušt8_t
 
	gLANES
, 
	gFIRST_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
GRB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

21 
şass
 
IÆšeBlockClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
, 
	gLANES
, 
	gPORT_MASK
> {

22 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

23 
ty³Çme
 
	tFa¡Pš
<
	tFIRST_PIN
>::
	tpÜt_t
 
	td©a_t
;

25 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

27 
	gpublic
:

28 
vœtu®
 
size
(è{  
CLEDCÚŒŞËr
::size(è* 
LANES
; }

30 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> & 
pix–s
) {

33 
	gút
=
FASTLED_INTERRUPT_RETRY_COUNT
;

34 !
showRGBIÁ”Çl
(
pix–s
è&& 
	gút
--) {

35 
os_šŒ_uÆock
();

36 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


37 ++
	g_»Œy_út
;

39 
d–ayMiüo£cÚds
(
WAIT_TIME
 * 10);

40 
os_šŒ_lock
();

51 
	g‹m¶©e
<
	gPIN
> 
š™Pš
() {

52 
	g_ESPPIN
<
	gPIN
, 1<<(PIN & 0xFF)>::
£tOuut
();

55 
vœtu®
 
š™
() {

56 (* 
	gfuncs
[])(è={
š™Pš
<12>, initPin<13>, initPin<14>, initPin<15>, initPin<4>, initPin<5>};

58 
ušt8_t
 
	gi
 = 0; i < 
	gUSED_LANES
; ++i) {

59 
	gfuncs
[
i
]();

63 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

66 
ušt8_t
 
	gby‹s
[8];

67 
ušt16_t
 
	gshÜts
[4];

68 
ušt32_t
 
	g¿w
[2];

69 } 
	tLšes
;

71 
	#ESP_ADJUST
 0

72 
	#ESP_ADJUST2
 0

	)

73 
	g‹m¶©e
<
	gBITS
,
	gPX
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ï¡_m¬k
, 
Lšes
 & 
b
, 
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> &
pix–s
) {

74 
Lšes
 
	gb2
 = 
b
;

75 
Œª¥o£8x1_nošlše
(
b
.
by‹s
,
b2
.bytes);

77 
ušt8_t
 
	gd
 = 
pix–s
.
‹m¶©e
 
g‘d
<
PX
>(pixels);

78 
ušt8_t
 
	gsÿË
 = 
pix–s
.
‹m¶©e
 
g‘sÿË
<
PX
>(pixels);

80 
ušt32_t
 
	gi
 = 0; i < 
	gUSED_LANES
; ++i) {

81 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
+
	gT3
));

82 
	gÏ¡_m¬k
 = 
__şock_cyşes
();

83 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PIN_MASK
;

85 
ušt32_t
 
	gnwÜd
 = (ušt32_t)(~
b2
.
by‹s
[7-
i
]);

86 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
-6));

87 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
FIX_BITS
(
nwÜd
);

89 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
));

90 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PIN_MASK
;

92 
	gb
.
	gby‹s
[
i
] = 
pix–s
.
‹m¶©e
 
lßdAndSÿË
<
PX
>Õix–s,
	gi
,
	gd
,
	gsÿË
);

95 
ušt32_t
 
	gi
 = 
USED_LANES
; i < 8; ++i) {

96 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
+
	gT3
));

97 
	gÏ¡_m¬k
 = 
__şock_cyşes
();

98 *
	gFa¡Pš
<
	gFIRST_PIN
>::
¥Üt
(èğ
PIN_MASK
;

100 
ušt32_t
 
	gnwÜd
 = (ušt32_t)(~
b2
.
by‹s
[7-
i
]);

101 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
-6));

102 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
FIX_BITS
(
nwÜd
);

104 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
));

105 *
	gFa¡Pš
<
	gFIRST_PIN
>::
ıÜt
(èğ
PIN_MASK
;

111 
ušt32_t
 
ICACHE_RAM_ATTR
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
, 
LANES
, 
PORT_MASK
> &
®Íix–s
) {

114 
Lšes
 
	gb0
;

116 
	gi
 = 0; i < 
	gUSED_LANES
; ++i) {

117 
	gb0
.
	gby‹s
[
i
] = 
®Íix–s
.
lßdAndSÿË0
(i);

119 
	g®Íix–s
.
´eS‹pFœ¡By‹D™h”šg
();

121 
os_šŒ_lock
();

122 
ušt32_t
 
	g_¡¬t
 = 
__şock_cyşes
();

123 
ušt32_t
 
	gÏ¡_m¬k
 = 
_¡¬t
;

125 
	g®Íix–s
.
has
(1)) {

127 
	gwr™eB™s
<8+
	gXTRA0
,1>(
	gÏ¡_m¬k
, 
	gb0
, 
	g®Íix–s
);

130 
	gwr™eB™s
<8+
	gXTRA0
,2>(
	gÏ¡_m¬k
, 
	gb0
, 
	g®Íix–s
);

131 
	g®Íix–s
.
advªûD©a
();

134 
	gwr™eB™s
<8+
	gXTRA0
,0>(
	gÏ¡_m¬k
, 
	gb0
, 
	g®Íix–s
);

136 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

137 
os_šŒ_uÆock
();

140 
	g®Íix–s
.
¡•D™h”šg
();

142 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

143 
os_šŒ_lock
();

145 if((
	gšt32_t
)(
__şock_cyşes
()-
	gÏ¡_m¬k
) > 0) {

146 if((
	gšt32_t
)(
__şock_cyşes
()-
	gÏ¡_m¬k
è> (
	gT1
+
	gT2
+
	gT3
+((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
))è{ 
os_šŒ_uÆock
();  0; }

151 
os_šŒ_uÆock
();

152 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


153 ++
	g_äame_út
;

155  
__şock_cyşes
(è- 
	g_¡¬t
;

159 
	gFASTLED_NAMESPACE_END


	@src/platforms/esp/8266/clockless_esp8266.h

1 #´agm¨
Úû


3 
	gFASTLED_NAMESPACE_BEGIN


5 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


6 
ušt32_t
 
_äame_út
;

7 
ušt32_t
 
_»Œy_út
;

11 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
ušt32_t
 
	$__şock_cyşes
() {

12 
ušt32_t
 
cyc
;

13 
__asm__
 
	`__vŞ©e__
 ("r¤ %0,ccouÁ":"÷" (
cyc
));

14  
cyc
;

15 
	}
}

17 
	#FASTLED_HAS_CLOCKLESS
 1

	)

19 
	g‹m¶©e
 <
	gDATA_PIN
, 
	gT1
, 
	gT2
, 
	gT3
, 
EOrd”
 
	gRGB_ORDER
 = 
RGB
, 
	gXTRA0
 = 0, 
boŞ
 
	gFLIP
 = 
çl£
, 
	gWAIT_TIME
 = 50>

20 
şass
 
ClockËssCÚŒŞËr
 : 
public
 
CPix–LEDCÚŒŞËr
<
RGB_ORDER
> {

21 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_±r_t
 
	td©a_±r_t
;

22 
ty³Çme
 
	tFa¡Pš
<
	tDATA_PIN
>::
	tpÜt_t
 
	td©a_t
;

24 
d©a_t
 
	gmPšMask
;

25 
d©a_±r_t
 
	gmPÜt
;

26 
	gCMšWa™
<
	gWAIT_TIME
> 
	gmWa™
;

27 
	gpublic
:

28 
vœtu®
 
š™
() {

29 
Fa¡Pš
<
DATA_PIN
>::
£tOuut
();

30 
	gmPšMask
 = 
Fa¡Pš
<
DATA_PIN
>::
mask
();

31 
	gmPÜt
 = 
Fa¡Pš
<
DATA_PIN
>::
pÜt
();

34 
vœtu®
 
ušt16_t
 
g‘MaxReäeshR©e
() const {  400; }

36 
	g´Ùeùed
:

38 
vœtu®
 
showPix–s
(
Pix–CÚŒŞËr
<
RGB_ORDER
> & 
pix–s
) {

40 
út
 = 
FASTLED_INTERRUPT_RETRY_COUNT
;

41 (
showRGBIÁ”Çl
(
pix–s
)==0è&& 
út
--) {

42 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


43 ++
_»Œy_út
;

45 
os_šŒ_uÆock
();

46 
d–ayMiüo£cÚds
(
WAIT_TIME
);

47 
os_šŒ_lock
();

52 
	#_ESP_ADJ
 (0)

	)

53 
	#_ESP_ADJ2
 (0)

	)

55 
	g‹m¶©e
<
	gBITS
> 
__©Œibu‹__
 ((
®ways_šlše
)è
šlše
 
wr™eB™s
(
ušt32_t
 & 
Ï¡_m¬k
, ušt32_ˆ
b
) {

56 
	gb
 <<ğ24; b = ~
b
;

57 
ušt32_t
 
	gi
 = 
BITS
; i > 0; --i) {

58 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
+
	gT3
));

59 
	gÏ¡_m¬k
 = 
__şock_cyşes
();

60 
	gFa¡Pš
<
	gDATA_PIN
>::
hi
();

62 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< 
	gT1
);

63 if(
	gb
 & 0x80000000Lè{ 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
(); }

64 
	gb
 <<= 1;

66 (
__şock_cyşes
(è- 
	gÏ¡_m¬k
è< (
	gT1
+
	gT2
));

67 
	gFa¡Pš
<
	gDATA_PIN
>::
lo
();

73 
ušt32_t
 
ICACHE_RAM_ATTR
 
showRGBIÁ”Çl
(
Pix–CÚŒŞËr
<
RGB_ORDER
> 
pix–s
) {

75 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

76 
ušt32_t
 
	gb
 = 
pix–s
.
lßdAndSÿË0
();

77 
	gpix–s
.
´eS‹pFœ¡By‹D™h”šg
();

78 
os_šŒ_lock
();

79 
ušt32_t
 
	g¡¬t
 = 
__şock_cyşes
();

80 
ušt32_t
 
	gÏ¡_m¬k
 = 
¡¬t
;

81 
	gpix–s
.
has
(1)) {

83 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÏ¡_m¬k
, 
	gb
);

84 
	gb
 = 
pix–s
.
lßdAndSÿË1
();

87 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÏ¡_m¬k
, 
	gb
);

88 
	gb
 = 
pix–s
.
lßdAndSÿË2
();

91 
	gwr™eB™s
<8+
	gXTRA0
>(
	gÏ¡_m¬k
, 
	gb
);

92 
	gb
 = 
pix–s
.
advªûAndLßdAndSÿË0
();

94 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

95 
os_šŒ_uÆock
();

98 
	gpix–s
.
¡•D™h”šg
();

100 #ià(
FASTLED_ALLOW_INTERRUPTS
 == 1)

101 
os_šŒ_lock
();

103 if((
	gšt32_t
)(
__şock_cyşes
()-
	gÏ¡_m¬k
) > 0) {

104 if((
	gšt32_t
)(
__şock_cyşes
()-
	gÏ¡_m¬k
è> (
	gT1
+
	gT2
+
	gT3
+((
	gWAIT_TIME
-
	gINTERRUPT_THRESHOLD
)*
	gCLKS_PER_US
))è{ 
£i
();  0; }

109 
os_šŒ_uÆock
();

110 #ifdeà
FASTLED_DEBUG_COUNT_FRAME_RETRIES


111 ++
	g_äame_út
;

113  
__şock_cyşes
(è- 
	g¡¬t
;

117 
	gFASTLED_NAMESPACE_END


	@src/platforms/esp/8266/fastled_esp8266.h

1 #´agm¨
Úû


3 
	~"ç¡pš_e¥8266.h
"

4 
	~"şockËss_e¥8266.h
"

5 
	~"şockËss_block_e¥8266.h
"

	@src/platforms/esp/8266/fastpin_esp8266.h

1 #´agm¨
Úû


3 
FASTLED_NAMESPACE_BEGIN


5 
	sFASTLED_ESP_IO
 {

6 vŞ©
ušt32_t
 
	m_GPO
;

7 vŞ©
ušt32_t
 
	m_GPOS
;

8 vŞ©
ušt32_t
 
	m_GPOC
;

11 
	#_GPB
 (*(
FASTLED_ESP_IO
*)(0x60000000+(0x300)))

	)

14 
	g‹m¶©e
<
ušt8_t
 
	gPIN
, 
ušt32_t
 
	gMASK
> cÏs 
	c_ESPPIN
 {

15 
	mpublic
:

16 vŞ©
	tušt32_t
 * 
	tpÜt_±r_t
;

17 
ušt32_t
 
	tpÜt_t
;

19 
šlše
 
	$£tOuut
(è{ 
	`pšMode
(
PIN
, 
OUTPUT
); }

20 
šlše
 
	$£tIÅut
(è{ 
	`pšMode
(
PIN
, 
INPUT
); 
	}
}

22 
šlše
 
	$hi
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ if(
PIN
 < 16è{ 
_GPB
.
_GPOS
 = 
MASK
; } { 
GP16O
 = 1; } 
	}
}

23 
šlše
 
	$lo
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ if(
PIN
 < 16è{ 
_GPB
.
_GPOC
 = 
MASK
; } { 
GP16O
 = 0; } 
	}
}

24 
šlše
 
	$£t
(
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ if(
PIN
 < 16è{ 
_GPB
.
_GPO
 = v®; } { 
GP16O
 = v®; }
	}
}

26 
šlše
 
	$¡robe
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`toggË
();oggË(); 
	}
}

28 
šlše
 
	$toggË
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ if(
PIN
 < 16è{ 
_GPB
.
_GPO
 ^ğ
MASK
; } { 
GP16O
 ^ğMASK; } 
	}
}

30 
šlše
 
	$hi
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`hi
(); 
	}
}

31 
šlše
 
	$lo
(
pÜt_±r_t
 
pÜt
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ 
	`lo
(); 
	}
}

32 
šlše
 
	$ç¡£t
(
pÜt_±r_t
 
pÜt
, 
pÜt_t
 
v®
è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ *pÜˆğv®; 
	}
}

34 
šlše
 
pÜt_t
 
	$hiv®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ ià(
PIN
<16è{  
GPO
 | 
MASK
; } {  
GP16O
 | MASK; } 
	}
}

35 
šlše
 
pÜt_t
 
	$lov®
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ ià(
PIN
<16è{  
GPO
 & ~
MASK
; } {  
GP16O
 & ~MASK; } 
	}
}

36 
šlše
 
pÜt_±r_t
 
	$pÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{ if(
PIN
<16è{  &
_GPB
.
_GPO
; } {  &
GP16O
; } 
	}
}

37 
šlše
 
pÜt_±r_t
 
	$¥Üt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_GPB
.
_GPOS
; 
	}
}

38 
šlše
 
pÜt_±r_t
 
	$ıÜt
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  &
_GPB
.
_GPOC
; 
	}
}

39 
šlše
 
pÜt_t
 
	$mask
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  
MASK
; 
	}
}

41 
šlše
 
boŞ
 
	$is£t
(è
	`__©Œibu‹__
 ((
®ways_šlše
)è{  (
PIN
 < 16è? (
GPO
 & 
MASK
è: (
GP16O
 & MASK); 
	}
}

44 
	#_FL_DEFPIN
(
PIN
, 
REAL_PIN
è
‹m¶©e
<> 
şass
 
Fa¡Pš
<PIN> : 
public
 
_ESPPIN
<REAL_PIN, (1<<(REAL_PIN & 0x0F))> {};

	)

47 #ifdeà
FASTLED_ESP8266_RAW_PIN_ORDER


48 
	#MAX_PIN
 16

	)

49 
_FL_DEFPIN
(0,0); _FL_DEFPIN(1,1); _FL_DEFPIN(2,2); _FL_DEFPIN(3,3);

50 
_FL_DEFPIN
(4,4); _FL_DEFPIN(5,5);

56 
_FL_DEFPIN
(12,12); _FL_DEFPIN(13,13); _FL_DEFPIN(14,14); _FL_DEFPIN(15,15);

57 
_FL_DEFPIN
(16,16);

59 
	#PORTA_FIRST_PIN
 12

	)

60 #–ià
defšed
(
FASTLED_ESP8266_D1_PIN_ORDER
)

61 
	#MAX_PIN
 15

	)

62 
_FL_DEFPIN
(0,3);

63 
_FL_DEFPIN
(1,1);

64 
_FL_DEFPIN
(2,16);

65 
_FL_DEFPIN
(3,5);

66 
_FL_DEFPIN
(4,4);

67 
_FL_DEFPIN
(5,14);

68 
_FL_DEFPIN
(6,12);

69 
_FL_DEFPIN
(7,13);

70 
_FL_DEFPIN
(8,0);

71 
_FL_DEFPIN
(9,2);

72 
_FL_DEFPIN
(10,15);

73 
_FL_DEFPIN
(11,13);

74 
_FL_DEFPIN
(12,12);

75 
_FL_DEFPIN
(13,14);

76 
_FL_DEFPIN
(14,4);

77 
_FL_DEFPIN
(15,5);

79 
	#PORTA_FIRST_PIN
 12

	)

82 
	#MAX_PIN
 10

	)

85 
_FL_DEFPIN
(0,16); _FL_DEFPIN(1,5); _FL_DEFPIN(2,4); _FL_DEFPIN(3,0);

86 
_FL_DEFPIN
(4,2); _FL_DEFPIN(5,14); _FL_DEFPIN(6,12); _FL_DEFPIN(7,13);

87 
_FL_DEFPIN
(8,15); _FL_DEFPIN(9,3); _FL_DEFPIN(10,1);

89 
	#PORTA_FIRST_PIN
 6

	)

98 
	#HAS_HARDWARE_PIN_SUPPORT


	)

100 
	gFASTLED_NAMESPACE_END


	@src/platforms/esp/8266/led_sysdefs_esp8266.h

1 #´agm¨
Úû


3 #iâdeà
ESP8266


4 
	#ESP8266


	)

7 
	#FASTLED_ESP8266


	)

10 
	#FASTLED_HAS_MILLIS


	)

12 vŞ©
	tušt32_t
 
	tRoReg
;

13 vŞ©
	tušt32_t
 
	tRwReg
;

14 
ušt32_t
 
	t´og_ušt32_t
;

18 #iâdeà
FASTLED_USE_PROGMEM


19 
	#FASTLED_USE_PROGMEM
 0

	)

22 #iâdeà
FASTLED_ALLOW_INTERRUPTS


23 
	#FASTLED_ALLOW_INTERRUPTS
 1

	)

24 
	#INTERRUPT_THRESHOLD
 0

	)

27 
	#NEED_CXX_BITS


	)

30 #ià!
defšed
(
FASTLED_ESP8266_RAW_PIN_ORDER
è&& !defšed(
FASTLED_ESP8266_NODEMCU_PIN_ORDER
è&& !defšed(
FASTLED_ESP8266_D1_PIN_ORDER
)

31 #ifdeà
ARDUINO_ESP8266_NODEMCU


32 
	#FASTLED_ESP8266_NODEMCU_PIN_ORDER


	)

34 
	#FASTLED_ESP8266_RAW_PIN_ORDER


	)

	@src/power_mgt.cpp

1 
	#FASTLED_INTERNAL


	)

2 
	~"Fa¡LED.h
"

3 
	~"pow”_mgt.h
"

5 
FASTLED_NAMESPACE_BEGIN


25 cÚ¡ 
ušt8_t
 
	ggRed_mW
 = 16 * 5;

26 cÚ¡ 
ušt8_t
 
	ggG»’_mW
 = 11 * 5;

27 cÚ¡ 
ušt8_t
 
	ggBlue_mW
 = 15 * 5;

28 cÚ¡ 
ušt8_t
 
	ggD¬k_mW
 = 1 * 5;

40 
	#POWER_LED
 1

	)

41 
	#POWER_DEBUG_PRINT
 0

	)

45 cÚ¡ 
ušt8_t
 
	ggMCU_mW
 = 25 * 5;

47 
ušt8_t
 
	ggMaxPow”IndiÿtÜLEDPšNumb”
 = 0;

50 
ušt32_t
 
	$ÿlcuÏ‹_unsÿËd_pow”_mW
ĞcÚ¡ 
CRGB
* 
Ëdbufãr
, 
ušt16_t
 
numLeds
 )

52 
ušt32_t
 
»d32
 = 0, 
g»’32
 = 0, 
blue32
 = 0;

53 cÚ¡ 
CRGB
* 
fœ¡Ëd
 = &(
Ëdbufãr
[0]);

54 
ušt8_t
* 
p
 = (ušt8_t*)(
fœ¡Ëd
);

56 
ušt16_t
 
couÁ
 = 
numLeds
;

59  
couÁ
) {

60 
»d32
 +ğ*
p
++;

61 
g»’32
 +ğ*
p
++;

62 
blue32
 +ğ*
p
++;

63 --
couÁ
;

66 
»d32
 *ğ
gRed_mW
;

67 
g»’32
 *ğ
gG»’_mW
;

68 
blue32
 *ğ
gBlue_mW
;

70 
»d32
 >>= 8;

71 
g»’32
 >>= 8;

72 
blue32
 >>= 8;

74 
ušt32_t
 
tÙ®
 = 
»d32
 + 
g»’32
 + 
blue32
 + (
gD¬k_mW
 * 
numLeds
);

76  
tÙ®
;

77 
	}
}

80 
ušt8_t
 
	$ÿlcuÏ‹_max_brighŠess_fÜ_pow”_vmA
(cÚ¡ 
CRGB
* 
Ëdbufãr
, 
ušt16_t
 
numLeds
, 
ušt8_t
 
rg‘_brighŠess
, 
ušt32_t
 
max_pow”_V
, ušt32_ˆ
max_pow”_mA
) {

81  
	`ÿlcuÏ‹_max_brighŠess_fÜ_pow”_mW
(
Ëdbufãr
, 
numLeds
, 
rg‘_brighŠess
, 
max_pow”_V
 * 
max_pow”_mA
);

82 
	}
}

84 
ušt8_t
 
	$ÿlcuÏ‹_max_brighŠess_fÜ_pow”_mW
(cÚ¡ 
CRGB
* 
Ëdbufãr
, 
ušt16_t
 
numLeds
, 
ušt8_t
 
rg‘_brighŠess
, 
ušt32_t
 
max_pow”_mW
) {

85 
ušt32_t
 
tÙ®_mW
 = 
	`ÿlcuÏ‹_unsÿËd_pow”_mW
Ğ
Ëdbufãr
, 
numLeds
);

87 
ušt32_t
 
»que¡ed_pow”_mW
 = ((ušt32_t)
tÙ®_mW
 * 
rg‘_brighŠess
) / 256;

89 
ušt8_t
 
»comm’ded_brighŠess
 = 
rg‘_brighŠess
;

90 if(
»que¡ed_pow”_mW
 > 
max_pow”_mW
) {

91 
»comm’ded_brighŠess
 = (
ušt32_t
)((
ušt8_t
)(
rg‘_brighŠess
è* (ušt32_t)(
max_pow”_mW
)è/ ((ušt32_t)(
»que¡ed_pow”_mW
));

94  
»comm’ded_brighŠess
;

95 
	}
}

100 
ušt8_t
 
	$ÿlcuÏ‹_max_brighŠess_fÜ_pow”_mW
Ğ
ušt8_t
 
rg‘_brighŠess
, 
ušt32_t
 
max_pow”_mW
)

102 
ušt32_t
 
tÙ®_mW
 = 
gMCU_mW
;

104 
CLEDCÚŒŞËr
 *
pCur
 = CLEDCÚŒŞËr::
	`h—d
();

105 
pCur
) {

106 
tÙ®_mW
 +ğ
	`ÿlcuÏ‹_unsÿËd_pow”_mW
Ğ
pCur
->
	`Ëds
(),…Cur->
	`size
());

107 
pCur
 =…Cur->
	`Ãxt
();

110 #ià
POWER_DEBUG_PRINT
 == 1

111 
S”Ÿl
.
	`´št
("power demand‡t full brightness mW = ");

112 
S”Ÿl
.
	`´šn
Ğ
tÙ®_mW
);

115 
ušt32_t
 
»que¡ed_pow”_mW
 = ((ušt32_t)
tÙ®_mW
 * 
rg‘_brighŠess
) / 256;

116 #ià
POWER_DEBUG_PRINT
 == 1

117 ifĞ
rg‘_brighŠess
 != 255 ) {

118 
S”Ÿl
.
	`´št
("power demand‡t scaled brightness mW = ");

119 
S”Ÿl
.
	`´šn
Ğ
»que¡ed_pow”_mW
);

121 
S”Ÿl
.
	`´št
("power†imit mW = ");

122 
S”Ÿl
.
	`´šn
Ğ
max_pow”_mW
);

125 ifĞ
»que¡ed_pow”_mW
 < 
max_pow”_mW
) {

126 #ià
POWER_LED
 > 0

127 ifĞ
gMaxPow”IndiÿtÜLEDPšNumb”
 ) {

128 
	`Pš
(
gMaxPow”IndiÿtÜLEDPšNumb”
).
	`lo
();

131 #ià
POWER_DEBUG_PRINT
 == 1

132 
S”Ÿl
.
	`´št
("demand is underhe†imit");

134  
rg‘_brighŠess
;

137 
ušt8_t
 
»comm’ded_brighŠess
 = (
ušt32_t
)((ušt8_t)(
rg‘_brighŠess
è* (ušt32_t)(
max_pow”_mW
)è/ ((ušt32_t)(
»que¡ed_pow”_mW
));

138 #ià
POWER_DEBUG_PRINT
 == 1

139 
S”Ÿl
.
	`´št
("recommended brightness # = ");

140 
S”Ÿl
.
	`´šn
Ğ
»comm’ded_brighŠess
);

142 
ušt32_t
 
»suÉªt_pow”_mW
 = (
tÙ®_mW
 * 
»comm’ded_brighŠess
) / 256;

143 
S”Ÿl
.
	`´št
("resultant…ower demand mW = ");

144 
S”Ÿl
.
	`´šn
Ğ
»suÉªt_pow”_mW
);

146 
S”Ÿl
.
	`´šn
();

149 #ià
POWER_LED
 > 0

150 ifĞ
gMaxPow”IndiÿtÜLEDPšNumb”
 ) {

151 
	`Pš
(
gMaxPow”IndiÿtÜLEDPšNumb”
).
	`hi
();

155  
»comm’ded_brighŠess
;

156 
	}
}

159 
	$£t_max_pow”_šdiÿtÜ_LED
Ğ
ušt8_t
 
pšNumb”
)

161 
gMaxPow”IndiÿtÜLEDPšNumb”
 = 
pšNumb”
;

162 
	}
}

164 
	$£t_max_pow”_š_vŞts_ªd_mlŸmps
Ğ
ušt8_t
 
vŞts
, 
ušt32_t
 
mlŸmps
)

166 
Fa¡LED
.
	`£tMaxPow”InVŞtsAndMlŸmps
(
vŞts
, 
mlŸmps
);

167 
	}
}

169 
	$£t_max_pow”_š_mliw©ts
Ğ
ušt32_t
 
pow”InmW
)

171 
Fa¡LED
.
	`£tMaxPow”InMliW©ts
(
pow”InmW
);

172 
	}
}

174 
	$show_©_max_brighŠess_fÜ_pow”
()

177 
Fa¡LED
.
	`show
();

178 
	}
}

180 
	$d–ay_©_max_brighŠess_fÜ_pow”
Ğ
ušt16_t
 
ms
)

182 
Fa¡LED
.
	`d–ay
(
ms
);

183 
	}
}

185 
	gFASTLED_NAMESPACE_END


	@src/power_mgt.h

1 #iâdeà
POWER_MGT_H


2 
	#POWER_MGT_H


	)

4 
	~"Fa¡LED.h
"

6 
	~"pix–ty³s.h
"

8 
FASTLED_NAMESPACE_BEGIN


22 
£t_max_pow”_š_vŞts_ªd_mlŸmps
Ğ
ušt8_t
 
vŞts
, 
ušt32_t
 
mlŸmps
);

25 
£t_max_pow”_š_mliw©ts
Ğ
ušt32_t
 
pow”InmW
);

29 
£t_max_pow”_šdiÿtÜ_LED
Ğ
ušt8_t
 
pšNumb”
);

47 
show_©_max_brighŠess_fÜ_pow”
();

51 
d–ay_©_max_brighŠess_fÜ_pow”
Ğ
ušt16_t
 
ms
);

59 
ušt32_t
 
ÿlcuÏ‹_unsÿËd_pow”_mW
ĞcÚ¡ 
CRGB
* 
Ëdbufãr
, 
ušt16_t
 
numLeds
);

67 
ušt8_t
 
ÿlcuÏ‹_max_brighŠess_fÜ_pow”_mW
(cÚ¡ 
CRGB
* 
Ëdbufãr
, 
ušt16_t
 
numLeds
, ušt8_ˆ
rg‘_brighŠess
, 
ušt32_t
 
max_pow”_mW
);

75 
ušt8_t
 
ÿlcuÏ‹_max_brighŠess_fÜ_pow”_vmA
(cÚ¡ 
CRGB
* 
Ëdbufãr
, 
ušt16_t
 
numLeds
, ušt8_ˆ
rg‘_brighŠess
, 
ušt32_t
 
max_pow”_V
, ušt32_ˆ
max_pow”_mA
);

82 
ušt8_t
 
ÿlcuÏ‹_max_brighŠess_fÜ_pow”_mW
Ğušt8_ˆ
rg‘_brighŠess
, 
ušt32_t
 
max_pow”_mW
);

84 
	gFASTLED_NAMESPACE_END


	@src/wiring.cpp

1 
	#FASTLED_INTERNAL


	)

2 
	~"Fa¡LED.h
"

4 
	gFASTLED_USING_NAMESPACE


8 #ià
defšed
(
FASTLED_AVR
è&& !defšed(
TEENSYDUINO
è&& !defšed(
LIB8_ATTINY
)

12 
	#MICROSECONDS_PER_TIMER0_OVERFLOW
 (
	`şockCyşesToMiüo£cÚds
(64 * 256))

	)

14 uniÚ { 
_lÚg
; 
ušt8_t
 
¿w
[4]; } 
	ttBy‹sFÜLÚg
;

16 vŞ©
Fa¡LED_tim”0_ov”æow_couÁ
=0;

17 vŞ©
Fa¡LED_tim”0_mlis
 = 0;

19 
LIB8STATIC
 
__©Œibu‹__
((
®ways_šlše
)è
ç¡šc32
 (vŞ©
ušt32_t
 & 
_lÚg
) {

20 
ušt8_t
 
b
 = ++((
tBy‹sFÜLÚg
&)
_lÚg
).
¿w
[0];

21 if(!
b
) {

22 
b
 = ++((
tBy‹sFÜLÚg
&)
_lÚg
).
¿w
[1];

23 if(!
b
) {

24 
b
 = ++((
tBy‹sFÜLÚg
&)
_lÚg
).
¿w
[2];

25 if(!
b
) {

26 ++((
tBy‹sFÜLÚg
&)
_lÚg
).
¿w
[3];

32 #ià
defšed
(
__AVR_ATtšy24__
è|| defšed(
__AVR_ATtšy44__
è|| defšed(
__AVR_ATtšy84__
)

33 
ISR
(
TIM0_OVF_veù
)

35 
ISR
(
TIMER0_OVF_veù
)

38 
ç¡šc32
(
Fa¡LED_tim”0_ov”æow_couÁ
);

43 
mlis
()

45 
m
;

46 
ušt8_t
 
ŞdSREG
 = 
SREG
;

50 
şi
();

51 
m
 = 
Fa¡LED_tim”0_ov”æow_couÁ
;

52 
SREG
 = 
ŞdSREG
;

54  (
m
*(
MICROSECONDS_PER_TIMER0_OVERFLOW
/8))/(1000/8);

57 
miüos
() {

58 
m
;

59 
ušt8_t
 
ŞdSREG
 = 
SREG
, 
t
;

61 
şi
();

62 
m
 = 
Fa¡LED_tim”0_ov”æow_couÁ
;

63 #ià
defšed
(
TCNT0
)

64 
t
 = 
TCNT0
;

65 #–ià
defšed
(
TCNT0L
)

66 
t
 = 
TCNT0L
;

68 #”rÜ 
TIMER
 0 
nÙ
 
defšed


72 #ifdeà
TIFR0


73 ià((
TIFR0
 & 
_BV
(
TOV0
)è&& (
t
 < 255))

74 ++
m
;

76 ià((
TIFR
 & 
_BV
(
TOV0
)è&& (
t
 < 255))

77 ++
m
;

80 
SREG
 = 
ŞdSREG
;

82  ((
m
 << 8è+ 
t
è* (64 / 
şockCyşesP”Miüo£cÚd
());

85 
d–ay
(
ms
)

87 
ušt16_t
 
¡¬t
 = (ušt16_t)
miüos
();

89 
ms
 > 0) {

90 ià(((
ušt16_t
)
miüos
(è- 
¡¬t
) >= 1000) {

91 --
ms
;

92 
¡¬t
 += 1000;

97 
	#sbi
(
sä
, 
b™
è(
	`_SFR_BYTE
(säè|ğ
	`_BV
(b™))

	)

98 
š™
()

102 
£i
();

107 #ià
defšed
(
TCCR0A
è&& defšed(
WGM01
)

108 
sbi
(
TCCR0A
, 
WGM01
);

109 
sbi
(
TCCR0A
, 
WGM00
);

113 #ià
defšed
(
__AVR_ATmega128__
)

115 
sbi
(
TCCR0
, 
CS02
);

116 #–ià
defšed
(
TCCR0
è&& defšed(
CS01
è&& defšed(
CS00
)

118 
sbi
(
TCCR0
, 
CS01
);

119 
sbi
(
TCCR0
, 
CS00
);

120 #–ià
defšed
(
TCCR0B
è&& defšed(
CS01
è&& defšed(
CS00
)

122 
sbi
(
TCCR0B
, 
CS01
);

123 
sbi
(
TCCR0B
, 
CS00
);

124 #–ià
defšed
(
TCCR0A
è&& defšed(
CS01
è&& defšed(
CS00
)

126 
sbi
(
TCCR0A
, 
CS01
);

127 
sbi
(
TCCR0A
, 
CS00
);

129 #”rÜ 
Tim”
 0 
´esÿË
 
çùÜ
 64 
nÙ
 
£t
 
cÜ»ùly


133 #ià
defšed
(
TIMSK
è&& defšed(
TOIE0
)

134 
sbi
(
TIMSK
, 
TOIE0
);

135 #–ià
defšed
(
TIMSK0
è&& defšed(
TOIE0
)

136 
sbi
(
TIMSK0
, 
TOIE0
);

138 #”rÜ 
Tim”
 0 
ov”æow
 
š‹¼u±
 
nÙ
 
£t
 
cÜ»ùly


146 #ià
defšed
(
TCCR1B
è&& defšed(
CS11
è&& defšed(
CS10
)

147 
TCCR1B
 = 0;

150 
sbi
(
TCCR1B
, 
CS11
);

151 #ià
F_CPU
 >= 8000000L

152 
sbi
(
TCCR1B
, 
CS10
);

154 #–ià
defšed
(
TCCR1
è&& defšed(
CS11
è&& defšed(
CS10
)

155 
sbi
(
TCCR1
, 
CS11
);

156 #ià
F_CPU
 >= 8000000L

157 
sbi
(
TCCR1
, 
CS10
);

161 #ià
defšed
(
TCCR1A
è&& defšed(
WGM10
)

162 
sbi
(
TCCR1A
, 
WGM10
);

163 #–ià
defšed
(
TCCR1
)

164 #w¬nšg 
this
 
Ãeds
 
to
 
be
 
fšished


168 #ià
defšed
(
TCCR2
è&& defšed(
CS22
)

169 
sbi
(
TCCR2
, 
CS22
);

170 #–ià
defšed
(
TCCR2B
è&& defšed(
CS22
)

171 
sbi
(
TCCR2B
, 
CS22
);

173 #w¬nšg 
Tim”
 2 
nÙ
 
fšished
 (
may
‚Ù 
be
 
´e£Á
 
Ú
 
this
 
CPU
)

177 #ià
defšed
(
TCCR2
è&& defšed(
WGM20
)

178 
sbi
(
TCCR2
, 
WGM20
);

179 #–ià
defšed
(
TCCR2A
è&& defšed(
WGM20
)

180 
sbi
(
TCCR2A
, 
WGM20
);

182 #w¬nšg 
Tim”
 2 
nÙ
 
fšished
 (
may
‚Ù 
be
 
´e£Á
 
Ú
 
this
 
CPU
)

185 #ià
defšed
(
TCCR3B
è&& defšed(
CS31
è&& defšed(
WGM30
)

186 
sbi
(
TCCR3B
, 
CS31
);

187 
sbi
(
TCCR3B
, 
CS30
);

188 
sbi
(
TCCR3A
, 
WGM30
);

191 #ià
defšed
(
TCCR4A
è&& defšed(
TCCR4B
è&& defšed(
TCCR4D
)

192 
sbi
(
TCCR4B
, 
CS42
);

193 
sbi
(
TCCR4B
, 
CS41
);

194 
sbi
(
TCCR4B
, 
CS40
);

195 
sbi
(
TCCR4D
, 
WGM40
);

196 
sbi
(
TCCR4A
, 
PWM4A
);

197 
sbi
(
TCCR4C
, 
PWM4D
);

199 #ià
defšed
(
TCCR4B
è&& defšed(
CS41
è&& defšed(
WGM40
)

200 
sbi
(
TCCR4B
, 
CS41
);

201 
sbi
(
TCCR4B
, 
CS40
);

202 
sbi
(
TCCR4A
, 
WGM40
);

206 #ià
defšed
(
TCCR5B
è&& defšed(
CS51
è&& defšed(
WGM50
)

207 
sbi
(
TCCR5B
, 
CS51
);

208 
sbi
(
TCCR5B
, 
CS50
);

209 
sbi
(
TCCR5A
, 
WGM50
);

212 #ià
defšed
(
ADCSRA
)

217 
sbi
(
ADCSRA
, 
ADPS2
);

218 
sbi
(
ADCSRA
, 
ADPS1
);

219 
sbi
(
ADCSRA
, 
ADPS0
);

222 
sbi
(
ADCSRA
, 
ADEN
);

228 #ià
defšed
(
UCSRB
)

229 
UCSRB
 = 0;

230 #–ià
defšed
(
UCSR0B
)

231 
UCSR0B
 = 0;

	@/usr/include/math.h

23 #iâdef 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 #ià
defšed
 
log
 && defšed 
__GNUC__


30 #w¬nšg 
A
 
maüo
 
ÿÎed
 
log
 
was
 
®»ady
 
defšed
 
wh’
 <
m©h
.
h
> wa 
šşuded
.

31 #w¬nšg 
This
 
wl
 
ÿu£
 
comp©iÚ
 
´obËms
.

34 
	g__BEGIN_DECLS


37 
	~<b™s/ty³s.h
>

40 
	~<b™s/m©h-veùÜ.h
>

43 
	~<b™s/æßŠ.h
>

47 #ià
__GNUC_PREREQ
 (3, 3)

48 
	#HUGE_VAL
 (
	`__butš_huge_v®
 ())

	)

55 
	#HUGE_VAL
 1e10000

	)

57 #ifdeà
__USE_ISOC99


58 #ià
__GNUC_PREREQ
 (3, 3)

59 
	#HUGE_VALF
 (
	`__butš_huge_v®f
 ())

	)

60 
	#HUGE_VALL
 (
	`__butš_huge_v®l
 ())

	)

62 
	#HUGE_VALF
 1e10000f

	)

63 
	#HUGE_VALL
 1e10000L

	)

66 #ià
__HAVE_FLOAT16
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

67 
	#HUGE_VAL_F16
 (
	`__butš_huge_v®f16
 ())

	)

69 #ià
__HAVE_FLOAT32
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

70 
	#HUGE_VAL_F32
 (
	`__butš_huge_v®f32
 ())

	)

72 #ià
__HAVE_FLOAT64
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

73 
	#HUGE_VAL_F64
 (
	`__butš_huge_v®f64
 ())

	)

75 #ià
__HAVE_FLOAT128
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

76 
	#HUGE_VAL_F128
 (
	`__butš_huge_v®f128
 ())

	)

78 #ià
__HAVE_FLOAT32X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

79 
	#HUGE_VAL_F32X
 (
	`__butš_huge_v®f32x
 ())

	)

81 #ià
__HAVE_FLOAT64X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

82 
	#HUGE_VAL_F64X
 (
	`__butš_huge_v®f64x
 ())

	)

84 #ià
__HAVE_FLOAT128X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

85 
	#HUGE_VAL_F128X
 (
	`__butš_huge_v®f128x
 ())

	)

88 #ifdeà
__USE_ISOC99


90 #ià
__GNUC_PREREQ
 (3, 3)

91 
	#INFINITY
 (
	`__butš_šff
 ())

	)

93 
	#INFINITY
 
HUGE_VALF


	)

97 #ià
__GNUC_PREREQ
 (3, 3)

98 
	#NAN
 (
	`__butš_Çnf
 (""))

	)

103 
	#NAN
 (0.0à/ 0.0f)

	)

107 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

109 #ià
__GNUC_PREREQ
 (3, 3)

110 
	#SNANF
 (
	`__butš_Çnsf
 (""))

	)

111 
	#SNAN
 (
	`__butš_Çns
 (""))

	)

112 
	#SNANL
 (
	`__butš_Çn¦
 (""))

	)

115 #ià
__HAVE_FLOAT16
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

116 
	#SNANF16
 (
	`__butš_Çnsf16
 (""))

	)

118 #ià
__HAVE_FLOAT32
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

119 
	#SNANF32
 (
	`__butš_Çnsf32
 (""))

	)

121 #ià
__HAVE_FLOAT64
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

122 
	#SNANF64
 (
	`__butš_Çnsf64
 (""))

	)

124 #ià
__HAVE_FLOAT128
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

125 
	#SNANF128
 (
	`__butš_Çnsf128
 (""))

	)

127 #ià
__HAVE_FLOAT32X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

128 
	#SNANF32X
 (
	`__butš_Çnsf32x
 (""))

	)

130 #ià
__HAVE_FLOAT64X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

131 
	#SNANF64X
 (
	`__butš_Çnsf64x
 (""))

	)

133 #ià
__HAVE_FLOAT128X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
	#SNANF128X
 (
	`__butš_Çnsf128x
 (""))

	)

138 
	~<b™s/æt-ev®-m‘hod.h
>

140 #ifdeà
__USE_ISOC99


148 #ià
__GLIBC_FLT_EVAL_METHOD
 == 0 || __GLIBC_FLT_EVAL_METHOD == 16

149 
	tæßt_t
;

150 
	tdoubË_t
;

151 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 1

152 
	tæßt_t
;

153 
	tdoubË_t
;

154 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 2

155 
	tæßt_t
;

156 
	tdoubË_t
;

157 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 32

158 
_Flßt32
 
	tæßt_t
;

159 
	tdoubË_t
;

160 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 33

161 
_Flßt32x
 
	tæßt_t
;

162 
_Flßt32x
 
	tdoubË_t
;

163 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 64

164 
_Flßt64
 
	tæßt_t
;

165 
_Flßt64
 
	tdoubË_t
;

166 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 65

167 
_Flßt64x
 
	tæßt_t
;

168 
_Flßt64x
 
	tdoubË_t
;

169 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 128

170 
_Flßt128
 
	tæßt_t
;

171 
_Flßt128
 
	tdoubË_t
;

172 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 129

173 
_Flßt128x
 
	tæßt_t
;

174 
_Flßt128x
 
	tdoubË_t
;

190 
	~<b™s/å-logb.h
>

191 #ifdeà
__USE_ISOC99


192 #ià
__FP_LOGB0_IS_MIN


193 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

195 
	#FP_ILOGB0
 (-2147483647)

	)

197 #ià
__FP_LOGBNAN_IS_MIN


198 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

200 
	#FP_ILOGBNAN
 2147483647

	)

203 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

204 #ià
__WORDSIZE
 == 32

205 
	#__FP_LONG_MAX
 0x7fffffffL

	)

207 
	#__FP_LONG_MAX
 0x7fffffffffffffffL

	)

209 #ià
__FP_LOGB0_IS_MIN


210 
	#FP_LLOGB0
 (-
__FP_LONG_MAX
 - 1)

	)

212 
	#FP_LLOGB0
 (-
__FP_LONG_MAX
)

	)

214 #ià
__FP_LOGBNAN_IS_MIN


215 
	#FP_LLOGBNAN
 (-
__FP_LONG_MAX
 - 1)

	)

217 
	#FP_LLOGBNAN
 
__FP_LONG_MAX


	)

233 
	~<b™s/å-ç¡.h
>

235 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

239 
	mFP_INT_UPWARD
 =

240 
	#FP_INT_UPWARD
 0

	)

241 
FP_INT_UPWARD
,

242 
	mFP_INT_DOWNWARD
 =

243 
	#FP_INT_DOWNWARD
 1

	)

244 
FP_INT_DOWNWARD
,

245 
	mFP_INT_TOWARDZERO
 =

246 
	#FP_INT_TOWARDZERO
 2

	)

247 
FP_INT_TOWARDZERO
,

248 
	mFP_INT_TONEARESTFROMZERO
 =

249 
	#FP_INT_TONEARESTFROMZERO
 3

	)

250 
FP_INT_TONEARESTFROMZERO
,

251 
	mFP_INT_TONEAREST
 =

252 
	#FP_INT_TONEAREST
 4

	)

253 
FP_INT_TONEAREST
,

262 
	#__SIMD_DECL
(
funùiÚ
è
	`__CONCAT
 (
__DECL_SIMD_
, funùiÚ)

	)

264 
	#__MATHCALL_VEC
(
funùiÚ
, 
suffix
, 
¬gs
) \

265 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

266 
	`__MATHCALL
 (
funùiÚ
, 
suffix
, 
¬gs
)

	)

268 
	#__MATHDECL_VEC
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

269 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

270 
	`__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
)

	)

272 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

273 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

274 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

275 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

276 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

277 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

278 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

279 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

280 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

281 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

282 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

283 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

285 
	#_MdoubË_
 

	)

286 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

287 
	#__MATH_DECLARING_DOUBLE
 1

	)

288 
	#__MATH_DECLARING_FLOATN
 0

	)

289 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

290 
	~<b™s/m©hÿÎs.h
>

291 #undeà
_MdoubË_


292 #undeà
__MATH_PRECNAME


293 #undeà
__MATH_DECLARING_DOUBLE


294 #undeà
__MATH_DECLARING_FLOATN


296 #ifdeà
__USE_ISOC99


302 
	#_MdoubË_
 

	)

303 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

304 
	#__MATH_DECLARING_DOUBLE
 0

	)

305 
	#__MATH_DECLARING_FLOATN
 0

	)

306 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

307 
	~<b™s/m©hÿÎs.h
>

308 #undeà
_MdoubË_


309 #undeà
__MATH_PRECNAME


310 #undeà
__MATH_DECLARING_DOUBLE


311 #undeà
__MATH_DECLARING_FLOATN


313 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

314 || 
defšed
 
__LDBL_COMPAT
 \

315 || 
defšed
 
_LIBC_TEST


316 #ifdeà
__LDBL_COMPAT


318 #ifdeà
__USE_ISOC99


319 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

320 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

321 #ifdeà
__REDIRECT_NTH


322 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

323 
__Ædbl_Ãx‰ow¬df
)

324 
	`__©Œibu‹__
 ((
__cÚ¡__
));

325 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

326 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

327 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

328 (
__x
, 
__y
),

329 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

333 #undeà
__MATHDECL_1


334 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

335 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

336 
¬gs
, 
®Ÿs
)

	)

337 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

338 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

344 
	#_MdoubË_
 

	)

345 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

346 
	#__MATH_DECLARING_DOUBLE
 0

	)

347 
	#__MATH_DECLARING_FLOATN
 0

	)

348 
	#__MATH_DECLARE_LDOUBLE
 1

	)

349 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

350 
	~<b™s/m©hÿÎs.h
>

351 #undeà
_MdoubË_


352 #undeà
__MATH_PRECNAME


353 #undeà
__MATH_DECLARING_DOUBLE


354 #undeà
__MATH_DECLARING_FLOATN


363 #ià
__HAVE_DISTINCT_FLOAT16
 || (
__HAVE_FLOAT16
 && !
defšed
 
_LIBC
)

364 
	#_MdoubË_
 
_Flßt16


	)

365 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f16
##
	)
r

366 
	#__MATH_DECLARING_DOUBLE
 0

	)

367 
	#__MATH_DECLARING_FLOATN
 1

	)

368 #ià
__HAVE_DISTINCT_FLOAT16


369 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

371 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

372 
	~<b™s/m©hÿÎs.h
>

374 #undeà
_MdoubË_


375 #undeà
__MATH_PRECNAME


376 #undeà
__MATH_DECLARING_DOUBLE


377 #undeà
__MATH_DECLARING_FLOATN


380 #ià
__HAVE_DISTINCT_FLOAT32
 || (
__HAVE_FLOAT32
 && !
defšed
 
_LIBC
)

381 
	#_MdoubË_
 
_Flßt32


	)

382 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f32
##
	)
r

383 
	#__MATH_DECLARING_DOUBLE
 0

	)

384 
	#__MATH_DECLARING_FLOATN
 1

	)

385 #ià
__HAVE_DISTINCT_FLOAT32


386 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

388 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

389 
	~<b™s/m©hÿÎs.h
>

391 #undeà
_MdoubË_


392 #undeà
__MATH_PRECNAME


393 #undeà
__MATH_DECLARING_DOUBLE


394 #undeà
__MATH_DECLARING_FLOATN


397 #ià
__HAVE_DISTINCT_FLOAT64
 || (
__HAVE_FLOAT64
 && !
defšed
 
_LIBC
)

398 
	#_MdoubË_
 
_Flßt64


	)

399 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f64
##
	)
r

400 
	#__MATH_DECLARING_DOUBLE
 0

	)

401 
	#__MATH_DECLARING_FLOATN
 1

	)

402 #ià
__HAVE_DISTINCT_FLOAT64


403 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

405 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

406 
	~<b™s/m©hÿÎs.h
>

408 #undeà
_MdoubË_


409 #undeà
__MATH_PRECNAME


410 #undeà
__MATH_DECLARING_DOUBLE


411 #undeà
__MATH_DECLARING_FLOATN


414 #ià
__HAVE_DISTINCT_FLOAT128
 || (
__HAVE_FLOAT128
 && !
defšed
 
_LIBC
)

415 
	#_MdoubË_
 
_Flßt128


	)

416 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f128
##
	)
r

417 
	#__MATH_DECLARING_DOUBLE
 0

	)

418 
	#__MATH_DECLARING_FLOATN
 1

	)

419 #ià
__HAVE_DISTINCT_FLOAT128


420 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

422 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

423 
	~<b™s/m©hÿÎs.h
>

425 #undeà
_MdoubË_


426 #undeà
__MATH_PRECNAME


427 #undeà
__MATH_DECLARING_DOUBLE


428 #undeà
__MATH_DECLARING_FLOATN


431 #ià
__HAVE_DISTINCT_FLOAT32X
 || (
__HAVE_FLOAT32X
 && !
defšed
 
_LIBC
)

432 
	#_MdoubË_
 
_Flßt32x


	)

433 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f32x
##
	)
r

434 
	#__MATH_DECLARING_DOUBLE
 0

	)

435 
	#__MATH_DECLARING_FLOATN
 1

	)

436 #ià
__HAVE_DISTINCT_FLOAT32X


437 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

439 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

440 
	~<b™s/m©hÿÎs.h
>

442 #undeà
_MdoubË_


443 #undeà
__MATH_PRECNAME


444 #undeà
__MATH_DECLARING_DOUBLE


445 #undeà
__MATH_DECLARING_FLOATN


448 #ià
__HAVE_DISTINCT_FLOAT64X
 || (
__HAVE_FLOAT64X
 && !
defšed
 
_LIBC
)

449 
	#_MdoubË_
 
_Flßt64x


	)

450 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f64x
##
	)
r

451 
	#__MATH_DECLARING_DOUBLE
 0

	)

452 
	#__MATH_DECLARING_FLOATN
 1

	)

453 #ià
__HAVE_DISTINCT_FLOAT64X


454 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

456 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

457 
	~<b™s/m©hÿÎs.h
>

459 #undeà
_MdoubË_


460 #undeà
__MATH_PRECNAME


461 #undeà
__MATH_DECLARING_DOUBLE


462 #undeà
__MATH_DECLARING_FLOATN


465 #ià
__HAVE_DISTINCT_FLOAT128X
 || (
__HAVE_FLOAT128X
 && !
defšed
 
_LIBC
)

466 
	#_MdoubË_
 
_Flßt128x


	)

467 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f128x
##
	)
r

468 
	#__MATH_DECLARING_DOUBLE
 0

	)

469 
	#__MATH_DECLARING_FLOATN
 1

	)

470 #ià
__HAVE_DISTINCT_FLOAT128X


471 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

473 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

474 
	~<b™s/m©hÿÎs.h
>

476 #undeà
_MdoubË_


477 #undeà
__MATH_PRECNAME


478 #undeà
__MATH_DECLARING_DOUBLE


479 #undeà
__MATH_DECLARING_FLOATN


482 #undeà
__MATHDECL_1


483 #undeà
__MATHDECL


484 #undeà
__MATHCALL


487 
	#__MATHCALL_NARROW_ARGS_1
 (
_M¬g_
 
__x
)

	)

488 
	#__MATHCALL_NARROW_ARGS_2
 (
_M¬g_
 
__x
, _M¬g_ 
__y
)

	)

489 
	#__MATHCALL_NARROW_ARGS_3
 (
_M¬g_
 
__x
, _M¬g_ 
__y
, _M¬g_ 
__z
)

	)

490 
	#__MATHCALL_NARROW_NORMAL
(
func
, 
Çrgs
) \

491 
_M»t_
 
func
 
__MATHCALL_NARROW_ARGS_
 ## 
Çrgs
 
__THROW


	)

492 
	#__MATHCALL_NARROW_REDIR
(
func
, 
»dœ
, 
Çrgs
) \

493 
_M»t_
 
	`__REDIRECT_NTH
 (
func
, 
__MATHCALL_NARROW_ARGS_
 ## 
Çrgs
, \

494 
»dœ
)

	)

495 
	#__MATHCALL_NARROW
(
func
, 
»dœ
, 
Çrgs
) \

496 
	`__MATHCALL_NARROW_NORMAL
 (
func
, 
Çrgs
)

	)

498 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

500 
	#_M»t_
 

	)

501 
	#_M¬g_
 

	)

502 
	#__MATHCALL_NAME
(
Çme
è
f
 ## 
	)
name

503 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

504 #undeà
_M»t_


505 #undeà
_M¬g_


506 #undeà
__MATHCALL_NAME


508 
	#_M»t_
 

	)

509 
	#_M¬g_
 

	)

510 
	#__MATHCALL_NAME
(
Çme
è
f
 ##‚am## 
l


	)

511 #ifdeà
__LDBL_COMPAT


512 
	#__MATHCALL_REDIR_NAME
(
Çme
è
f
 ## 
	)
name

513 #undeà
__MATHCALL_NARROW


514 
	#__MATHCALL_NARROW
(
func
, 
»dœ
, 
Çrgs
) \

515 
	`__MATHCALL_NARROW_REDIR
 (
func
, 
»dœ
, 
Çrgs
)

	)

517 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

518 #undeà
_M»t_


519 #undeà
_M¬g_


520 #undeà
__MATHCALL_NAME


521 #ifdeà
__LDBL_COMPAT


522 #undeà
__MATHCALL_REDIR_NAME


523 #undeà
__MATHCALL_NARROW


524 
	#__MATHCALL_NARROW
(
func
, 
»dœ
, 
Çrgs
) \

525 
	`__MATHCALL_NARROW_NORMAL
 (
func
, 
Çrgs
)

	)

528 
	#_M»t_
 

	)

529 
	#_M¬g_
 

	)

530 
	#__MATHCALL_NAME
(
Çme
è
d
 ##‚am## 
l


	)

531 #ifdeà
__LDBL_COMPAT


532 
	#__MATHCALL_REDIR_NAME
(
Çme
è
__Ædbl_d
 ##‚am## 
l


	)

533 #undeà
__MATHCALL_NARROW


534 
	#__MATHCALL_NARROW
(
func
, 
»dœ
, 
Çrgs
) \

535 
	`__MATHCALL_NARROW_REDIR
 (
func
, 
»dœ
, 
Çrgs
)

	)

537 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

538 #undeà
_M»t_


539 #undeà
_M¬g_


540 #undeà
__MATHCALL_NAME


541 #ifdeà
__LDBL_COMPAT


542 #undeà
__MATHCALL_REDIR_NAME


543 #undeà
__MATHCALL_NARROW


544 
	#__MATHCALL_NARROW
(
func
, 
»dœ
, 
Çrgs
) \

545 
	`__MATHCALL_NARROW_NORMAL
 (
func
, 
Çrgs
)

	)

550 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

552 #ià
__HAVE_FLOAT16
 && 
__HAVE_FLOAT32


553 
	#_M»t_
 
_Flßt16


	)

554 
	#_M¬g_
 
_Flßt32


	)

555 
	#__MATHCALL_NAME
(
Çme
è
f16
 ##‚am## 
f32


	)

556 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

557 #undeà
_M»t_


558 #undeà
_M¬g_


559 #undeà
__MATHCALL_NAME


562 #ià
__HAVE_FLOAT16
 && 
__HAVE_FLOAT32X


563 
	#_M»t_
 
_Flßt16


	)

564 
	#_M¬g_
 
_Flßt32x


	)

565 
	#__MATHCALL_NAME
(
Çme
è
f16
 ##‚am## 
f32x


	)

566 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

567 #undeà
_M»t_


568 #undeà
_M¬g_


569 #undeà
__MATHCALL_NAME


572 #ià
__HAVE_FLOAT16
 && 
__HAVE_FLOAT64


573 
	#_M»t_
 
_Flßt16


	)

574 
	#_M¬g_
 
_Flßt64


	)

575 
	#__MATHCALL_NAME
(
Çme
è
f16
 ##‚am## 
f64


	)

576 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

577 #undeà
_M»t_


578 #undeà
_M¬g_


579 #undeà
__MATHCALL_NAME


582 #ià
__HAVE_FLOAT16
 && 
__HAVE_FLOAT64X


583 
	#_M»t_
 
_Flßt16


	)

584 
	#_M¬g_
 
_Flßt64x


	)

585 
	#__MATHCALL_NAME
(
Çme
è
f16
 ##‚am## 
f64x


	)

586 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

587 #undeà
_M»t_


588 #undeà
_M¬g_


589 #undeà
__MATHCALL_NAME


592 #ià
__HAVE_FLOAT16
 && 
__HAVE_FLOAT128


593 
	#_M»t_
 
_Flßt16


	)

594 
	#_M¬g_
 
_Flßt128


	)

595 
	#__MATHCALL_NAME
(
Çme
è
f16
 ##‚am## 
f128


	)

596 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

597 #undeà
_M»t_


598 #undeà
_M¬g_


599 #undeà
__MATHCALL_NAME


602 #ià
__HAVE_FLOAT16
 && 
__HAVE_FLOAT128X


603 
	#_M»t_
 
_Flßt16


	)

604 
	#_M¬g_
 
_Flßt128x


	)

605 
	#__MATHCALL_NAME
(
Çme
è
f16
 ##‚am## 
f128x


	)

606 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

607 #undeà
_M»t_


608 #undeà
_M¬g_


609 #undeà
__MATHCALL_NAME


612 #ià
__HAVE_FLOAT32
 && 
__HAVE_FLOAT32X


613 
	#_M»t_
 
_Flßt32


	)

614 
	#_M¬g_
 
_Flßt32x


	)

615 
	#__MATHCALL_NAME
(
Çme
è
f32
 ##‚am## 
f32x


	)

616 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

617 #undeà
_M»t_


618 #undeà
_M¬g_


619 #undeà
__MATHCALL_NAME


622 #ià
__HAVE_FLOAT32
 && 
__HAVE_FLOAT64


623 
	#_M»t_
 
_Flßt32


	)

624 
	#_M¬g_
 
_Flßt64


	)

625 
	#__MATHCALL_NAME
(
Çme
è
f32
 ##‚am## 
f64


	)

626 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

627 #undeà
_M»t_


628 #undeà
_M¬g_


629 #undeà
__MATHCALL_NAME


632 #ià
__HAVE_FLOAT32
 && 
__HAVE_FLOAT64X


633 
	#_M»t_
 
_Flßt32


	)

634 
	#_M¬g_
 
_Flßt64x


	)

635 
	#__MATHCALL_NAME
(
Çme
è
f32
 ##‚am## 
f64x


	)

636 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

637 #undeà
_M»t_


638 #undeà
_M¬g_


639 #undeà
__MATHCALL_NAME


642 #ià
__HAVE_FLOAT32
 && 
__HAVE_FLOAT128


643 
	#_M»t_
 
_Flßt32


	)

644 
	#_M¬g_
 
_Flßt128


	)

645 
	#__MATHCALL_NAME
(
Çme
è
f32
 ##‚am## 
f128


	)

646 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

647 #undeà
_M»t_


648 #undeà
_M¬g_


649 #undeà
__MATHCALL_NAME


652 #ià
__HAVE_FLOAT32
 && 
__HAVE_FLOAT128X


653 
	#_M»t_
 
_Flßt32


	)

654 
	#_M¬g_
 
_Flßt128x


	)

655 
	#__MATHCALL_NAME
(
Çme
è
f32
 ##‚am## 
f128x


	)

656 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

657 #undeà
_M»t_


658 #undeà
_M¬g_


659 #undeà
__MATHCALL_NAME


662 #ià
__HAVE_FLOAT32X
 && 
__HAVE_FLOAT64


663 
	#_M»t_
 
_Flßt32x


	)

664 
	#_M¬g_
 
_Flßt64


	)

665 
	#__MATHCALL_NAME
(
Çme
è
f32x
 ##‚am## 
f64


	)

666 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

667 #undeà
_M»t_


668 #undeà
_M¬g_


669 #undeà
__MATHCALL_NAME


672 #ià
__HAVE_FLOAT32X
 && 
__HAVE_FLOAT64X


673 
	#_M»t_
 
_Flßt32x


	)

674 
	#_M¬g_
 
_Flßt64x


	)

675 
	#__MATHCALL_NAME
(
Çme
è
f32x
 ##‚am## 
f64x


	)

676 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

677 #undeà
_M»t_


678 #undeà
_M¬g_


679 #undeà
__MATHCALL_NAME


682 #ià
__HAVE_FLOAT32X
 && 
__HAVE_FLOAT128


683 
	#_M»t_
 
_Flßt32x


	)

684 
	#_M¬g_
 
_Flßt128


	)

685 
	#__MATHCALL_NAME
(
Çme
è
f32x
 ##‚am## 
f128


	)

686 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

687 #undeà
_M»t_


688 #undeà
_M¬g_


689 #undeà
__MATHCALL_NAME


692 #ià
__HAVE_FLOAT32X
 && 
__HAVE_FLOAT128X


693 
	#_M»t_
 
_Flßt32x


	)

694 
	#_M¬g_
 
_Flßt128x


	)

695 
	#__MATHCALL_NAME
(
Çme
è
f32x
 ##‚am## 
f128x


	)

696 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

697 #undeà
_M»t_


698 #undeà
_M¬g_


699 #undeà
__MATHCALL_NAME


702 #ià
__HAVE_FLOAT64
 && 
__HAVE_FLOAT64X


703 
	#_M»t_
 
_Flßt64


	)

704 
	#_M¬g_
 
_Flßt64x


	)

705 
	#__MATHCALL_NAME
(
Çme
è
f64
 ##‚am## 
f64x


	)

706 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

707 #undeà
_M»t_


708 #undeà
_M¬g_


709 #undeà
__MATHCALL_NAME


712 #ià
__HAVE_FLOAT64
 && 
__HAVE_FLOAT128


713 
	#_M»t_
 
_Flßt64


	)

714 
	#_M¬g_
 
_Flßt128


	)

715 
	#__MATHCALL_NAME
(
Çme
è
f64
 ##‚am## 
f128


	)

716 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

717 #undeà
_M»t_


718 #undeà
_M¬g_


719 #undeà
__MATHCALL_NAME


722 #ià
__HAVE_FLOAT64
 && 
__HAVE_FLOAT128X


723 
	#_M»t_
 
_Flßt64


	)

724 
	#_M¬g_
 
_Flßt128x


	)

725 
	#__MATHCALL_NAME
(
Çme
è
f64
 ##‚am## 
f128x


	)

726 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

727 #undeà
_M»t_


728 #undeà
_M¬g_


729 #undeà
__MATHCALL_NAME


732 #ià
__HAVE_FLOAT64X
 && 
__HAVE_FLOAT128


733 
	#_M»t_
 
_Flßt64x


	)

734 
	#_M¬g_
 
_Flßt128


	)

735 
	#__MATHCALL_NAME
(
Çme
è
f64x
 ##‚am## 
f128


	)

736 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

737 #undeà
_M»t_


738 #undeà
_M¬g_


739 #undeà
__MATHCALL_NAME


742 #ià
__HAVE_FLOAT64X
 && 
__HAVE_FLOAT128X


743 
	#_M»t_
 
_Flßt64x


	)

744 
	#_M¬g_
 
_Flßt128x


	)

745 
	#__MATHCALL_NAME
(
Çme
è
f64x
 ##‚am## 
f128x


	)

746 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

747 #undeà
_M»t_


748 #undeà
_M¬g_


749 #undeà
__MATHCALL_NAME


752 #ià
__HAVE_FLOAT128
 && 
__HAVE_FLOAT128X


753 
	#_M»t_
 
_Flßt128


	)

754 
	#_M¬g_
 
_Flßt128x


	)

755 
	#__MATHCALL_NAME
(
Çme
è
f128
 ##‚am## 
f128x


	)

756 
	~<b™s/m©hÿÎs-Ç¼ow.h
>

757 #undeà
_M»t_


758 #undeà
_M¬g_


759 #undeà
__MATHCALL_NAME


764 #undeà
__MATHCALL_NARROW_ARGS_1


765 #undeà
__MATHCALL_NARROW_ARGS_2


766 #undeà
__MATHCALL_NARROW_ARGS_3


767 #undeà
__MATHCALL_NARROW_NORMAL


768 #undeà
__MATHCALL_NARROW_REDIR


769 #undeà
__MATHCALL_NARROW


771 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


773 
signgam
;

776 #ià(
__HAVE_DISTINCT_FLOAT16
 \

777 || 
__HAVE_DISTINCT_FLOAT32
 \

778 || 
__HAVE_DISTINCT_FLOAT64
 \

779 || 
__HAVE_DISTINCT_FLOAT32X
 \

780 || 
__HAVE_DISTINCT_FLOAT64X
 \

781 || 
__HAVE_DISTINCT_FLOAT128X
)

794 #ifdeà
__NO_LONG_DOUBLE_MATH


795 #ià
__HAVE_DISTINCT_FLOAT128


798 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

799 ( (
TG_ARG
è=ğ (è? 
FUNC
 ## 
f
 
ARGS
 : FUNC ARGS)

	)

800 #–ià
__HAVE_DISTINCT_FLOAT128


801 #ià
__HAVE_GENERIC_SELECTION


802 #ià
__HAVE_FLOATN_NOT_TYPEDEF
 && 
__HAVE_FLOAT32


803 
	#__MATH_TG_F32
(
FUNC
, 
ARGS
è
_Flßt32
: FUNC ## 
f
 ARGS,

	)

805 
	#__MATH_TG_F32
(
FUNC
, 
ARGS
)

	)

807 #ià
__HAVE_FLOATN_NOT_TYPEDEF
 && 
__HAVE_FLOAT64X


808 #ià
__HAVE_FLOAT64X_LONG_DOUBLE


809 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
è
_Flßt64x
: FUNC ## 
l
 ARGS,

	)

811 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
è
_Flßt64x
: FUNC ## 
f128
 ARGS,

	)

814 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
)

	)

816 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

817 
	`_G’”ic
 ((
TG_ARG
), \

818 : 
FUNC
 ## 
f
 
ARGS
, \

819 
	`__MATH_TG_F32
 (
FUNC
, 
ARGS
) \

820 : 
FUNC
 
ARGS
, \

821 : 
FUNC
 ## 
l
 
ARGS
, \

822 
	`__MATH_TG_F64X
 (
FUNC
, 
ARGS
) \

823 
_Flßt128
: 
FUNC
 ## 
f128
 
ARGS
)

	)

825 #ià
__HAVE_FLOATN_NOT_TYPEDEF


828 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

829 
__butš_choo£_ex´
 \

830 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

831 
FUNC
 ## 
f
 
ARGS
, \

832 
__butš_choo£_ex´
 \

833 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

834 
FUNC
 
ARGS
, \

835 
__butš_choo£_ex´
 \

836 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

837 
FUNC
 ## 
l
 
ARGS
, \

838 
FUNC
 ## 
f128
 
ARGS
)))

	)

841 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

842 ( (
TG_ARG
) ==  () \

843 ? 
FUNC
 ## 
f
 
ARGS
 \

844 :  (
TG_ARG
) ==  () \

845 ? 
FUNC
 
ARGS
 \

846 : 
FUNC
 ## 
l
 
ARGS
)

	)

850 #ifdeà
__USE_ISOC99


855 
FP_NAN
 =

856 
	#FP_NAN
 0

	)

857 
FP_NAN
,

858 
FP_INFINITE
 =

859 
	#FP_INFINITE
 1

	)

860 
FP_INFINITE
,

861 
FP_ZERO
 =

862 
	#FP_ZERO
 2

	)

863 
FP_ZERO
,

864 
FP_SUBNORMAL
 =

865 
	#FP_SUBNORMAL
 3

	)

866 
FP_SUBNORMAL
,

867 
FP_NORMAL
 =

868 
	#FP_NORMAL
 4

	)

869 
FP_NORMAL


877 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__
 \

878 && (!
defšed
 
__OPTIMIZE_SIZE__
 || defšed 
__ılu¥lus
)

885 
	#åşassify
(
x
è
	`__butš_åşassify
 (
FP_NAN
, 
FP_INFINITE
, \

886 
FP_NORMAL
, 
FP_SUBNORMAL
, 
FP_ZERO
, 
x
)

	)

888 
	#åşassify
(
x
è
	`__MATH_TG
 ((x), 
__åşassify
, (x))

	)

892 #ià
	`__GNUC_PREREQ
 (6,0)

893 
	#signb™
(
x
è
	`__butš_signb™
 (x)

	)

894 #–ià
defšed
 
__ılu¥lus


902 
	#signb™
(
x
è
	`__butš_signb™l
 (x)

	)

903 #–ià
	`__GNUC_PREREQ
 (4,0)

904 
	#signb™
(
x
è
	`__MATH_TG
 ((x), 
__butš_signb™
, (x))

	)

906 
	#signb™
(
x
è
	`__MATH_TG
 ((x), 
__signb™
, (x))

	)

910 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


911 
	#isfš™e
(
x
è
	`__butš_isfš™e
 (x)

	)

913 
	#isfš™e
(
x
è
	`__MATH_TG
 ((x), 
__fš™e
, (x))

	)

917 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


918 
	#i¢Üm®
(
x
è
	`__butš_i¢Üm®
 (x)

	)

920 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

925 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


926 
	#i¢ª
(
x
è
	`__butš_i¢ª
 (x)

	)

928 
	#i¢ª
(
x
è
	`__MATH_TG
 ((x), 
__i¢ª
, (x))

	)

932 #ià
__HAVE_DISTINCT_FLOAT128
 && !
	`__GNUC_PREREQ
 (7,0) \

933 && !
defšed
 
__SUPPORT_SNAN__
 && !defšed 
__ılu¥lus


939 
	#isšf
(
x
) \

940 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
x
), 
_Flßt128
) \

941 ? 
	`__isšff128
 (
x
è: 
	`__butš_isšf_sign
 (x))

	)

942 #–ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


943 
	#isšf
(
x
è
	`__butš_isšf_sign
 (x)

	)

945 
	#isšf
(
x
è
	`__MATH_TG
 ((x), 
__isšf
, (x))

	)

949 
	#MATH_ERRNO
 1

	)

950 
	#MATH_ERREXCEPT
 2

	)

957 #ifdeà
__FAST_MATH__


958 
	#m©h_”rhªdlšg
 0

	)

959 #–ià
defšed
 
__NO_MATH_ERRNO__


960 
	#m©h_”rhªdlšg
 (
MATH_ERREXCEPT
)

	)

962 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

967 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

968 
	~<b™s/isÿnÚiÿl.h
>

971 #iâdeà
__ılu¥lus


972 
	#issigÇlšg
(
x
è
	`__MATH_TG
 ((x), 
__issigÇlšg
, (x))

	)

981 
šlše
 
	`issigÇlšg
 (
__v®
è{  
	`__issigÇlšgf
 (__val); }

982 
šlše
 
	`issigÇlšg
 (
__v®
è{  
	`__issigÇlšg
 (__val); }

983 
šlše
 

984 
	`issigÇlšg
 (
__v®
)

986 #ifdeà
__NO_LONG_DOUBLE_MATH


987  
	`__issigÇlšg
 (
__v®
);

989  
	`__issigÇlšgl
 (
__v®
);

992 #ià
__HAVE_FLOAT128_UNLIKE_LDBL


995 
šlše
 
	`issigÇlšg
 (
_Flßt128
 
__v®
è{  
	`__issigÇlšgf128
 (__val); }

997 
	}
}

1001 
	#issubnÜm®
(
x
è(
	`åşassify
 (xè=ğ
FP_SUBNORMAL
)

	)

1004 #iâdeà
__ılu¥lus


1005 #ifdeà
__SUPPORT_SNAN__


1006 
	#isz”o
(
x
è(
	`åşassify
 (xè=ğ
FP_ZERO
)

	)

1008 
	#isz”o
(
x
è(((
	`__ty³of
 (x)è(x)è=ğ0)

	)

1012 #ifdeà
__SUPPORT_SNAN__


1013 
šlše
 

1014 
isz”o
 (
__v®
)

1016  
__åşassifyf
 (
__v®
è=ğ
FP_ZERO
;

1018 
šlše
 

1019 
isz”o
 (
__v®
)

1021  
__åşassify
 (
__v®
è=ğ
FP_ZERO
;

1023 
šlše
 

1024 
isz”o
 (
__v®
)

1026 #ifdeà
__NO_LONG_DOUBLE_MATH


1027  
__åşassify
 (
__v®
è=ğ
FP_ZERO
;

1029  
__åşassifyl
 (
__v®
è=ğ
FP_ZERO
;

1032 #ià
__HAVE_FLOAT128_UNLIKE_LDBL


1035 
šlše
 

1036 
isz”o
 (
_Flßt128
 
__v®
)

1038  
__åşassifyf128
 (
__v®
è=ğ
FP_ZERO
;

1042 
‹m¶©e
 <
şass
 
__T
> 
šlše
 
boŞ


1043 
isz”o
 (
__T
 
__v®
)

1045  
__v®
 == 0;

1052 #ifdeà
__USE_XOPEN


1054 
	#MAXFLOAT
 3.40282347e+38F

	)

1059 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


1060 
	#M_E
 2.7182818284590452354

	)

1061 
	#M_LOG2E
 1.4426950408889634074

	)

1062 
	#M_LOG10E
 0.43429448190325182765

	)

1063 
	#M_LN2
 0.69314718055994530942

	)

1064 
	#M_LN10
 2.30258509299404568402

	)

1065 
	#M_PI
 3.14159265358979323846

	)

1066 
	#M_PI_2
 1.57079632679489661923

	)

1067 
	#M_PI_4
 0.78539816339744830962

	)

1068 
	#M_1_PI
 0.31830988618379067154

	)

1069 
	#M_2_PI
 0.63661977236758134308

	)

1070 
	#M_2_SQRTPI
 1.12837916709551257390

	)

1071 
	#M_SQRT2
 1.41421356237309504880

	)

1072 
	#M_SQRT1_2
 0.70710678118654752440

	)

1078 #ifdeà
__USE_GNU


1079 
	#M_El
 2.718281828459045235360287471352662498L

	)

1080 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

1081 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

1082 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

1083 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

1084 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

1085 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

1086 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

1087 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

1088 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

1089 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

1090 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

1091 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

1094 #ià
__HAVE_FLOAT16
 && 
defšed
 
__USE_GNU


1095 
	#M_Ef16
 
	`__f16
 (2.718281828459045235360287471352662498è

	)

1096 
	#M_LOG2Ef16
 
	`__f16
 (1.442695040888963407359924681001892137è

	)

1097 
	#M_LOG10Ef16
 
	`__f16
 (0.434294481903251827651128918916605082è

	)

1098 
	#M_LN2f16
 
	`__f16
 (0.693147180559945309417232121458176568è

	)

1099 
	#M_LN10f16
 
	`__f16
 (2.302585092994045684017991454684364208è

	)

1100 
	#M_PIf16
 
	`__f16
 (3.141592653589793238462643383279502884è

	)

1101 
	#M_PI_2f16
 
	`__f16
 (1.570796326794896619231321691639751442è

	)

1102 
	#M_PI_4f16
 
	`__f16
 (0.785398163397448309615660845819875721è

	)

1103 
	#M_1_PIf16
 
	`__f16
 (0.318309886183790671537767526745028724è

	)

1104 
	#M_2_PIf16
 
	`__f16
 (0.636619772367581343075535053490057448è

	)

1105 
	#M_2_SQRTPIf16
 
	`__f16
 (1.128379167095512573896158903121545172è

	)

1106 
	#M_SQRT2f16
 
	`__f16
 (1.414213562373095048801688724209698079è

	)

1107 
	#M_SQRT1_2f16
 
	`__f16
 (0.707106781186547524400844362104849039è

	)

1110 #ià
__HAVE_FLOAT32
 && 
defšed
 
__USE_GNU


1111 
	#M_Ef32
 
	`__f32
 (2.718281828459045235360287471352662498è

	)

1112 
	#M_LOG2Ef32
 
	`__f32
 (1.442695040888963407359924681001892137è

	)

1113 
	#M_LOG10Ef32
 
	`__f32
 (0.434294481903251827651128918916605082è

	)

1114 
	#M_LN2f32
 
	`__f32
 (0.693147180559945309417232121458176568è

	)

1115 
	#M_LN10f32
 
	`__f32
 (2.302585092994045684017991454684364208è

	)

1116 
	#M_PIf32
 
	`__f32
 (3.141592653589793238462643383279502884è

	)

1117 
	#M_PI_2f32
 
	`__f32
 (1.570796326794896619231321691639751442è

	)

1118 
	#M_PI_4f32
 
	`__f32
 (0.785398163397448309615660845819875721è

	)

1119 
	#M_1_PIf32
 
	`__f32
 (0.318309886183790671537767526745028724è

	)

1120 
	#M_2_PIf32
 
	`__f32
 (0.636619772367581343075535053490057448è

	)

1121 
	#M_2_SQRTPIf32
 
	`__f32
 (1.128379167095512573896158903121545172è

	)

1122 
	#M_SQRT2f32
 
	`__f32
 (1.414213562373095048801688724209698079è

	)

1123 
	#M_SQRT1_2f32
 
	`__f32
 (0.707106781186547524400844362104849039è

	)

1126 #ià
__HAVE_FLOAT64
 && 
defšed
 
__USE_GNU


1127 
	#M_Ef64
 
	`__f64
 (2.718281828459045235360287471352662498è

	)

1128 
	#M_LOG2Ef64
 
	`__f64
 (1.442695040888963407359924681001892137è

	)

1129 
	#M_LOG10Ef64
 
	`__f64
 (0.434294481903251827651128918916605082è

	)

1130 
	#M_LN2f64
 
	`__f64
 (0.693147180559945309417232121458176568è

	)

1131 
	#M_LN10f64
 
	`__f64
 (2.302585092994045684017991454684364208è

	)

1132 
	#M_PIf64
 
	`__f64
 (3.141592653589793238462643383279502884è

	)

1133 
	#M_PI_2f64
 
	`__f64
 (1.570796326794896619231321691639751442è

	)

1134 
	#M_PI_4f64
 
	`__f64
 (0.785398163397448309615660845819875721è

	)

1135 
	#M_1_PIf64
 
	`__f64
 (0.318309886183790671537767526745028724è

	)

1136 
	#M_2_PIf64
 
	`__f64
 (0.636619772367581343075535053490057448è

	)

1137 
	#M_2_SQRTPIf64
 
	`__f64
 (1.128379167095512573896158903121545172è

	)

1138 
	#M_SQRT2f64
 
	`__f64
 (1.414213562373095048801688724209698079è

	)

1139 
	#M_SQRT1_2f64
 
	`__f64
 (0.707106781186547524400844362104849039è

	)

1142 #ià
__HAVE_FLOAT128
 && 
defšed
 
__USE_GNU


1143 
	#M_Ef128
 
	`__f128
 (2.718281828459045235360287471352662498è

	)

1144 
	#M_LOG2Ef128
 
	`__f128
 (1.442695040888963407359924681001892137è

	)

1145 
	#M_LOG10Ef128
 
	`__f128
 (0.434294481903251827651128918916605082è

	)

1146 
	#M_LN2f128
 
	`__f128
 (0.693147180559945309417232121458176568è

	)

1147 
	#M_LN10f128
 
	`__f128
 (2.302585092994045684017991454684364208è

	)

1148 
	#M_PIf128
 
	`__f128
 (3.141592653589793238462643383279502884è

	)

1149 
	#M_PI_2f128
 
	`__f128
 (1.570796326794896619231321691639751442è

	)

1150 
	#M_PI_4f128
 
	`__f128
 (0.785398163397448309615660845819875721è

	)

1151 
	#M_1_PIf128
 
	`__f128
 (0.318309886183790671537767526745028724è

	)

1152 
	#M_2_PIf128
 
	`__f128
 (0.636619772367581343075535053490057448è

	)

1153 
	#M_2_SQRTPIf128
 
	`__f128
 (1.128379167095512573896158903121545172è

	)

1154 
	#M_SQRT2f128
 
	`__f128
 (1.414213562373095048801688724209698079è

	)

1155 
	#M_SQRT1_2f128
 
	`__f128
 (0.707106781186547524400844362104849039è

	)

1158 #ià
__HAVE_FLOAT32X
 && 
defšed
 
__USE_GNU


1159 
	#M_Ef32x
 
	`__f32x
 (2.718281828459045235360287471352662498è

	)

1160 
	#M_LOG2Ef32x
 
	`__f32x
 (1.442695040888963407359924681001892137è

	)

1161 
	#M_LOG10Ef32x
 
	`__f32x
 (0.434294481903251827651128918916605082è

	)

1162 
	#M_LN2f32x
 
	`__f32x
 (0.693147180559945309417232121458176568è

	)

1163 
	#M_LN10f32x
 
	`__f32x
 (2.302585092994045684017991454684364208è

	)

1164 
	#M_PIf32x
 
	`__f32x
 (3.141592653589793238462643383279502884è

	)

1165 
	#M_PI_2f32x
 
	`__f32x
 (1.570796326794896619231321691639751442è

	)

1166 
	#M_PI_4f32x
 
	`__f32x
 (0.785398163397448309615660845819875721è

	)

1167 
	#M_1_PIf32x
 
	`__f32x
 (0.318309886183790671537767526745028724è

	)

1168 
	#M_2_PIf32x
 
	`__f32x
 (0.636619772367581343075535053490057448è

	)

1169 
	#M_2_SQRTPIf32x
 
	`__f32x
 (1.128379167095512573896158903121545172è

	)

1170 
	#M_SQRT2f32x
 
	`__f32x
 (1.414213562373095048801688724209698079è

	)

1171 
	#M_SQRT1_2f32x
 
	`__f32x
 (0.707106781186547524400844362104849039è

	)

1174 #ià
__HAVE_FLOAT64X
 && 
defšed
 
__USE_GNU


1175 
	#M_Ef64x
 
	`__f64x
 (2.718281828459045235360287471352662498è

	)

1176 
	#M_LOG2Ef64x
 
	`__f64x
 (1.442695040888963407359924681001892137è

	)

1177 
	#M_LOG10Ef64x
 
	`__f64x
 (0.434294481903251827651128918916605082è

	)

1178 
	#M_LN2f64x
 
	`__f64x
 (0.693147180559945309417232121458176568è

	)

1179 
	#M_LN10f64x
 
	`__f64x
 (2.302585092994045684017991454684364208è

	)

1180 
	#M_PIf64x
 
	`__f64x
 (3.141592653589793238462643383279502884è

	)

1181 
	#M_PI_2f64x
 
	`__f64x
 (1.570796326794896619231321691639751442è

	)

1182 
	#M_PI_4f64x
 
	`__f64x
 (0.785398163397448309615660845819875721è

	)

1183 
	#M_1_PIf64x
 
	`__f64x
 (0.318309886183790671537767526745028724è

	)

1184 
	#M_2_PIf64x
 
	`__f64x
 (0.636619772367581343075535053490057448è

	)

1185 
	#M_2_SQRTPIf64x
 
	`__f64x
 (1.128379167095512573896158903121545172è

	)

1186 
	#M_SQRT2f64x
 
	`__f64x
 (1.414213562373095048801688724209698079è

	)

1187 
	#M_SQRT1_2f64x
 
	`__f64x
 (0.707106781186547524400844362104849039è

	)

1190 #ià
__HAVE_FLOAT128X
 && 
defšed
 
__USE_GNU


1197 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


1198 
	#__NO_MATH_INLINES
 1

	)

1201 #ifdeà
__USE_ISOC99


1202 #ià
__GNUC_PREREQ
 (3, 1)

1209 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

1210 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

1211 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

1212 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

1213 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

1214 
	#isunÜd”ed
(
x
, 
y
è
	`__butš_isunÜd”ed
(x, y)

	)

1216 
	#isg»©”
(
x
, 
y
) \

1217 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

1218 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; }))

	)

1219 
	#isg»©”equ®
(
x
, 
y
) \

1220 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

1221 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

1222 
	#i¦ess
(
x
, 
y
) \

1223 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

1224 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

1225 
	#i¦es£qu®
(
x
, 
y
) \

1226 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

1227 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

1228 
	#i¦essg»©”
(
x
, 
y
) \

1229 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

1230 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x !ğ__y; }))

	)

1232 
	#isunÜd”ed
(
x
, 
y
) \

1233 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__u
 = (x); __ty³of__ (
y
è
__v
 = (y); \

1234 
__u
 !ğ
__v
 && (__u !ğ__u || __v !ğ__v); }))

	)

1239 #ifdeà
__USE_EXTERN_INLINES


1240 
	~<b™s/m©hšlše.h
>

1245 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

1248 
	#_MdoubË_
 

	)

1249 
	#__MATH_DECLARING_DOUBLE
 1

	)

1250 
	#__MATH_DECLARING_FLOATN
 0

	)

1251 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1252 
funùiÚ
 ## 
»’Œªt


	)

1253 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1254 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1255 
	~<b™s/m©h-fš™e.h
>

1256 #undeà
_MdoubË_


1257 #undeà
__MATH_DECLARING_DOUBLE


1258 #undeà
__MATH_DECLARING_FLOATN


1259 #undeà
__REDIRFROM_X


1260 #undeà
__REDIRTO_X


1264 #ifdeà
__USE_ISOC99


1267 
	#_MdoubË_
 

	)

1268 
	#__MATH_DECLARING_DOUBLE
 0

	)

1269 
	#__MATH_DECLARING_FLOATN
 0

	)

1270 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1271 
funùiÚ
 ## 
f
 ## 
»’Œªt


	)

1272 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1273 
__
 ## 
funùiÚ
 ## 
f
 ## 
»’Œªt
 ## 
_fš™e


	)

1274 
	~<b™s/m©h-fš™e.h
>

1275 #undeà
_MdoubË_


1276 #undeà
__MATH_DECLARING_DOUBLE


1277 #undeà
__MATH_DECLARING_FLOATN


1278 #undeà
__REDIRFROM_X


1279 #undeà
__REDIRTO_X


1282 #ifdeà
__MATH_DECLARE_LDOUBLE


1283 
	#_MdoubË_
 

	)

1284 
	#__MATH_DECLARING_DOUBLE
 0

	)

1285 
	#__MATH_DECLARING_FLOATN
 0

	)

1286 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1287 
funùiÚ
 ## 
l
 ## 
»’Œªt


	)

1288 #ifdeà
__NO_LONG_DOUBLE_MATH


1289 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1290 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1292 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1293 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1295 
	~<b™s/m©h-fš™e.h
>

1296 #undeà
_MdoubË_


1297 #undeà
__MATH_DECLARING_DOUBLE


1298 #undeà
__MATH_DECLARING_FLOATN


1299 #undeà
__REDIRFROM_X


1300 #undeà
__REDIRTO_X


1307 #ià(
__HAVE_DISTINCT_FLOAT16
 || (
__HAVE_FLOAT16
 && !
defšed
 
_LIBC
)) \

1308 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1309 
	#_MdoubË_
 
_Flßt16


	)

1310 
	#__MATH_DECLARING_DOUBLE
 0

	)

1311 
	#__MATH_DECLARING_FLOATN
 1

	)

1312 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1313 
funùiÚ
 ## 
f16
 ## 
»’Œªt


	)

1314 #ià
__HAVE_DISTINCT_FLOAT16


1315 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1316 
__
 ## 
funùiÚ
 ## 
f16
 ## 
»’Œªt
 ## 
_fš™e


	)

1320 
	~<b™s/m©h-fš™e.h
>

1321 #undeà
_MdoubË_


1322 #undeà
__MATH_DECLARING_DOUBLE


1323 #undeà
__MATH_DECLARING_FLOATN


1324 #undeà
__REDIRFROM_X


1325 #undeà
__REDIRTO_X


1328 #ià(
__HAVE_DISTINCT_FLOAT32
 || (
__HAVE_FLOAT32
 && !
defšed
 
_LIBC
)) \

1329 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1330 
	#_MdoubË_
 
_Flßt32


	)

1331 
	#__MATH_DECLARING_DOUBLE
 0

	)

1332 
	#__MATH_DECLARING_FLOATN
 1

	)

1333 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1334 
funùiÚ
 ## 
f32
 ## 
»’Œªt


	)

1335 #ià
__HAVE_DISTINCT_FLOAT32


1336 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1337 
__
 ## 
funùiÚ
 ## 
f32
 ## 
»’Œªt
 ## 
_fš™e


	)

1339 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1340 
__
 ## 
funùiÚ
 ## 
f
 ## 
»’Œªt
 ## 
_fš™e


	)

1342 
	~<b™s/m©h-fš™e.h
>

1343 #undeà
_MdoubË_


1344 #undeà
__MATH_DECLARING_DOUBLE


1345 #undeà
__MATH_DECLARING_FLOATN


1346 #undeà
__REDIRFROM_X


1347 #undeà
__REDIRTO_X


1350 #ià(
__HAVE_DISTINCT_FLOAT64
 || (
__HAVE_FLOAT64
 && !
defšed
 
_LIBC
)) \

1351 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1352 
	#_MdoubË_
 
_Flßt64


	)

1353 
	#__MATH_DECLARING_DOUBLE
 0

	)

1354 
	#__MATH_DECLARING_FLOATN
 1

	)

1355 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1356 
funùiÚ
 ## 
f64
 ## 
»’Œªt


	)

1357 #ià
__HAVE_DISTINCT_FLOAT64


1358 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1359 
__
 ## 
funùiÚ
 ## 
f64
 ## 
»’Œªt
 ## 
_fš™e


	)

1361 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1362 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1364 
	~<b™s/m©h-fš™e.h
>

1365 #undeà
_MdoubË_


1366 #undeà
__MATH_DECLARING_DOUBLE


1367 #undeà
__MATH_DECLARING_FLOATN


1368 #undeà
__REDIRFROM_X


1369 #undeà
__REDIRTO_X


1372 #ià(
__HAVE_DISTINCT_FLOAT128
 || (
__HAVE_FLOAT128
 && !
defšed
 
_LIBC
)) \

1373 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1374 
	#_MdoubË_
 
_Flßt128


	)

1375 
	#__MATH_DECLARING_DOUBLE
 0

	)

1376 
	#__MATH_DECLARING_FLOATN
 1

	)

1377 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1378 
funùiÚ
 ## 
f128
 ## 
»’Œªt


	)

1379 #ià
__HAVE_DISTINCT_FLOAT128


1380 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1381 
__
 ## 
funùiÚ
 ## 
f128
 ## 
»’Œªt
 ## 
_fš™e


	)

1383 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1384 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1386 
	~<b™s/m©h-fš™e.h
>

1387 #undeà
_MdoubË_


1388 #undeà
__MATH_DECLARING_DOUBLE


1389 #undeà
__MATH_DECLARING_FLOATN


1390 #undeà
__REDIRFROM_X


1391 #undeà
__REDIRTO_X


1394 #ià(
__HAVE_DISTINCT_FLOAT32X
 || (
__HAVE_FLOAT32X
 && !
defšed
 
_LIBC
)) \

1395 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1396 
	#_MdoubË_
 
_Flßt32x


	)

1397 
	#__MATH_DECLARING_DOUBLE
 0

	)

1398 
	#__MATH_DECLARING_FLOATN
 1

	)

1399 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1400 
funùiÚ
 ## 
f32x
 ## 
»’Œªt


	)

1401 #ià
__HAVE_DISTINCT_FLOAT32X


1402 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1403 
__
 ## 
funùiÚ
 ## 
f32x
 ## 
»’Œªt
 ## 
_fš™e


	)

1405 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1406 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1408 
	~<b™s/m©h-fš™e.h
>

1409 #undeà
_MdoubË_


1410 #undeà
__MATH_DECLARING_DOUBLE


1411 #undeà
__MATH_DECLARING_FLOATN


1412 #undeà
__REDIRFROM_X


1413 #undeà
__REDIRTO_X


1416 #ià(
__HAVE_DISTINCT_FLOAT64X
 || (
__HAVE_FLOAT64X
 && !
defšed
 
_LIBC
)) \

1417 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1418 
	#_MdoubË_
 
_Flßt64x


	)

1419 
	#__MATH_DECLARING_DOUBLE
 0

	)

1420 
	#__MATH_DECLARING_FLOATN
 1

	)

1421 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1422 
funùiÚ
 ## 
f64x
 ## 
»’Œªt


	)

1423 #ià
__HAVE_DISTINCT_FLOAT64X


1424 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1425 
__
 ## 
funùiÚ
 ## 
f64x
 ## 
»’Œªt
 ## 
_fš™e


	)

1426 #–ià
__HAVE_FLOAT64X_LONG_DOUBLE


1427 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1428 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1430 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1431 
__
 ## 
funùiÚ
 ## 
f128
 ## 
»’Œªt
 ## 
_fš™e


	)

1433 
	~<b™s/m©h-fš™e.h
>

1434 #undeà
_MdoubË_


1435 #undeà
__MATH_DECLARING_DOUBLE


1436 #undeà
__MATH_DECLARING_FLOATN


1437 #undeà
__REDIRFROM_X


1438 #undeà
__REDIRTO_X


1441 #ià(
__HAVE_DISTINCT_FLOAT128X
 || (
__HAVE_FLOAT128X
 && !
defšed
 
_LIBC
)) \

1442 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1443 
	#_MdoubË_
 
_Flßt128x


	)

1444 
	#__MATH_DECLARING_DOUBLE
 0

	)

1445 
	#__MATH_DECLARING_FLOATN
 1

	)

1446 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1447 
funùiÚ
 ## 
f128x
 ## 
»’Œªt


	)

1448 #ià
__HAVE_DISTINCT_FLOAT128X


1449 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1450 
__
 ## 
funùiÚ
 ## 
f128x
 ## 
»’Œªt
 ## 
_fš™e


	)

1454 
	~<b™s/m©h-fš™e.h
>

1455 #undeà
_MdoubË_


1456 #undeà
__MATH_DECLARING_DOUBLE


1457 #undeà
__MATH_DECLARING_FLOATN


1458 #undeà
__REDIRFROM_X


1459 #undeà
__REDIRTO_X


1464 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

1467 #ià
__FLT_EVAL_METHOD__
 == 2 || __FLT_EVAL_METHOD__ > 64

1468 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0L)

	)

1469 #–ià
__FLT_EVAL_METHOD__
 == 1 || __FLT_EVAL_METHOD__ > 32

1470 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0)

	)

1471 #–ià
__FLT_EVAL_METHOD__
 == 0 || __FLT_EVAL_METHOD__ == 32

1472 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0f)

	)

1474 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (y))

	)

1479 #ià!
defšed
 
__ılu¥lus
 || (__ılu¥lu < 201103L && !defšed 
__GNUC__
)

1480 
	#i£qsig
(
x
, 
y
) \

1481 
	`__MATH_TG
 (
	`__MATH_EVAL_FMT2
 (
x
, 
y
), 
__i£qsig
, ((x), (y)))

	)

1494 
‹m¶©e
<
ty³Çme
> 
__i£qsig_ty³
;

1496 
‹m¶©e
<> 
__i£qsig_ty³
<>

1498 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1500  
	`__i£qsigf
 (
__x
, 
__y
);

1504 
‹m¶©e
<> 
__i£qsig_ty³
<>

1506 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1508  
	`__i£qsig
 (
__x
, 
__y
);

1512 
‹m¶©e
<> 
__i£qsig_ty³
<>

1514 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1516 #iâdeà
__NO_LONG_DOUBLE_MATH


1517  
	`__i£qsigl
 (
__x
, 
__y
);

1519  
	`__i£qsig
 (
__x
, 
__y
);

1524 #ià
__HAVE_FLOAT128_UNLIKE_LDBL


1527 
‹m¶©e
<> 
__i£qsig_ty³
<
_Flßt128
>

1529 
	`__ÿÎ
 (
_Flßt128
 
__x
, _Flßt128 
__y
è
	`throw
 ()

1531  
	`__i£qsigf128
 (
__x
, 
__y
);

1536 
‹m¶©e
<
ty³Çme
 
_T1
,y³Çm
_T2
>

1537 
šlše
 

1538 
	`i£qsig
 (
_T1
 
__x
, 
_T2
 
__y
è
	`throw
 ()

1540 #ià
__ılu¥lus
 >= 201103L

1541 
	`deşty³
 (
	t__MATH_EVAL_FMT2
 (
	t__x
, 
	t__y
)è
	t_T3
;

1543 
	`__ty³of
 (
	t__MATH_EVAL_FMT2
 (
	t__x
, 
	t__y
)è
	t_T3
;

1545  
__i£qsig_ty³
<
_T3
>::
	`__ÿÎ
 (
__x
, 
__y
);

1548 
	}
}

1553 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wch¬.h
>

29 
	~<b™s/wÜdsize.h
>

34 
	~<b™s/¡dšt-šŠ.h
>

37 
	~<b™s/¡dšt-ušŠ.h
>

43 
__št_Ëa¡8_t
 
	tšt_Ëa¡8_t
;

44 
__št_Ëa¡16_t
 
	tšt_Ëa¡16_t
;

45 
__št_Ëa¡32_t
 
	tšt_Ëa¡32_t
;

46 
__št_Ëa¡64_t
 
	tšt_Ëa¡64_t
;

49 
__ušt_Ëa¡8_t
 
	tušt_Ëa¡8_t
;

50 
__ušt_Ëa¡16_t
 
	tušt_Ëa¡16_t
;

51 
__ušt_Ëa¡32_t
 
	tušt_Ëa¡32_t
;

52 
__ušt_Ëa¡64_t
 
	tušt_Ëa¡64_t
;

58 sigÃd 
	tšt_ç¡8_t
;

59 #ià
__WORDSIZE
 == 64

60 
	tšt_ç¡16_t
;

61 
	tšt_ç¡32_t
;

62 
	tšt_ç¡64_t
;

64 
	tšt_ç¡16_t
;

65 
	tšt_ç¡32_t
;

66 
__ex‹nsiÚ__


67 
	tšt_ç¡64_t
;

71 
	tušt_ç¡8_t
;

72 #ià
__WORDSIZE
 == 64

73 
	tušt_ç¡16_t
;

74 
	tušt_ç¡32_t
;

75 
	tušt_ç¡64_t
;

77 
	tušt_ç¡16_t
;

78 
	tušt_ç¡32_t
;

79 
__ex‹nsiÚ__


80 
	tušt_ç¡64_t
;

85 #ià
__WORDSIZE
 == 64

86 #iâdeà
__šŒ_t_defšed


87 
	tšŒ_t
;

88 
	#__šŒ_t_defšed


	)

90 
	tušŒ_t
;

92 #iâdeà
__šŒ_t_defšed


93 
	tšŒ_t
;

94 
	#__šŒ_t_defšed


	)

96 
	tušŒ_t
;

101 
__štmax_t
 
	tštmax_t
;

102 
__uštmax_t
 
	tuštmax_t
;

105 #ià
__WORDSIZE
 == 64

106 
	#__INT64_C
(
c
èø## 
L


	)

107 
	#__UINT64_C
(
c
èø## 
UL


	)

109 
	#__INT64_C
(
c
èø## 
LL


	)

110 
	#__UINT64_C
(
c
èø## 
ULL


	)

116 
	#INT8_MIN
 (-128)

	)

117 
	#INT16_MIN
 (-32767-1)

	)

118 
	#INT32_MIN
 (-2147483647-1)

	)

119 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

121 
	#INT8_MAX
 (127)

	)

122 
	#INT16_MAX
 (32767)

	)

123 
	#INT32_MAX
 (2147483647)

	)

124 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

127 
	#UINT8_MAX
 (255)

	)

128 
	#UINT16_MAX
 (65535)

	)

129 
	#UINT32_MAX
 (4294967295U)

	)

130 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

134 
	#INT_LEAST8_MIN
 (-128)

	)

135 
	#INT_LEAST16_MIN
 (-32767-1)

	)

136 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

137 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

139 
	#INT_LEAST8_MAX
 (127)

	)

140 
	#INT_LEAST16_MAX
 (32767)

	)

141 
	#INT_LEAST32_MAX
 (2147483647)

	)

142 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

145 
	#UINT_LEAST8_MAX
 (255)

	)

146 
	#UINT_LEAST16_MAX
 (65535)

	)

147 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

148 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

152 
	#INT_FAST8_MIN
 (-128)

	)

153 #ià
__WORDSIZE
 == 64

154 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

155 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

157 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

158 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

160 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

162 
	#INT_FAST8_MAX
 (127)

	)

163 #ià
__WORDSIZE
 == 64

164 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

165 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

167 
	#INT_FAST16_MAX
 (2147483647)

	)

168 
	#INT_FAST32_MAX
 (2147483647)

	)

170 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

173 
	#UINT_FAST8_MAX
 (255)

	)

174 #ià
__WORDSIZE
 == 64

175 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

176 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

178 
	#UINT_FAST16_MAX
 (4294967295U)

	)

179 
	#UINT_FAST32_MAX
 (4294967295U)

	)

181 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

185 #ià
__WORDSIZE
 == 64

186 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

187 
	#INTPTR_MAX
 (9223372036854775807L)

	)

188 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

190 
	#INTPTR_MIN
 (-2147483647-1)

	)

191 
	#INTPTR_MAX
 (2147483647)

	)

192 
	#UINTPTR_MAX
 (4294967295U)

	)

197 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

199 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

202 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

208 #ià
__WORDSIZE
 == 64

209 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

210 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

212 #ià
__WORDSIZE32_PTRDIFF_LONG


213 
	#PTRDIFF_MIN
 (-2147483647L-1)

	)

214 
	#PTRDIFF_MAX
 (2147483647L)

	)

216 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

217 
	#PTRDIFF_MAX
 (2147483647)

	)

222 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

223 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

226 #ià
__WORDSIZE
 == 64

227 
	#SIZE_MAX
 (18446744073709551615UL)

	)

229 #ià
__WORDSIZE32_SIZE_ULONG


230 
	#SIZE_MAX
 (4294967295UL)

	)

232 
	#SIZE_MAX
 (4294967295U)

	)

237 #iâdeà
WCHAR_MIN


239 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

240 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

244 
	#WINT_MIN
 (0u)

	)

245 
	#WINT_MAX
 (4294967295u)

	)

248 
	#INT8_C
(
c
è
	)
c

249 
	#INT16_C
(
c
è
	)
c

250 
	#INT32_C
(
c
è
	)
c

251 #ià
__WORDSIZE
 == 64

252 
	#INT64_C
(
c
èø## 
L


	)

254 
	#INT64_C
(
c
èø## 
LL


	)

258 
	#UINT8_C
(
c
è
	)
c

259 
	#UINT16_C
(
c
è
	)
c

260 
	#UINT32_C
(
c
èø## 
U


	)

261 #ià
__WORDSIZE
 == 64

262 
	#UINT64_C
(
c
èø## 
UL


	)

264 
	#UINT64_C
(
c
èø## 
ULL


	)

268 #ià
__WORDSIZE
 == 64

269 
	#INTMAX_C
(
c
èø## 
L


	)

270 
	#UINTMAX_C
(
c
èø## 
UL


	)

272 
	#INTMAX_C
(
c
èø## 
LL


	)

273 
	#UINTMAX_C
(
c
èø## 
ULL


	)

276 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

278 
	#INT8_WIDTH
 8

	)

279 
	#UINT8_WIDTH
 8

	)

280 
	#INT16_WIDTH
 16

	)

281 
	#UINT16_WIDTH
 16

	)

282 
	#INT32_WIDTH
 32

	)

283 
	#UINT32_WIDTH
 32

	)

284 
	#INT64_WIDTH
 64

	)

285 
	#UINT64_WIDTH
 64

	)

287 
	#INT_LEAST8_WIDTH
 8

	)

288 
	#UINT_LEAST8_WIDTH
 8

	)

289 
	#INT_LEAST16_WIDTH
 16

	)

290 
	#UINT_LEAST16_WIDTH
 16

	)

291 
	#INT_LEAST32_WIDTH
 32

	)

292 
	#UINT_LEAST32_WIDTH
 32

	)

293 
	#INT_LEAST64_WIDTH
 64

	)

294 
	#UINT_LEAST64_WIDTH
 64

	)

296 
	#INT_FAST8_WIDTH
 8

	)

297 
	#UINT_FAST8_WIDTH
 8

	)

298 
	#INT_FAST16_WIDTH
 
__WORDSIZE


	)

299 
	#UINT_FAST16_WIDTH
 
__WORDSIZE


	)

300 
	#INT_FAST32_WIDTH
 
__WORDSIZE


	)

301 
	#UINT_FAST32_WIDTH
 
__WORDSIZE


	)

302 
	#INT_FAST64_WIDTH
 64

	)

303 
	#UINT_FAST64_WIDTH
 64

	)

305 
	#INTPTR_WIDTH
 
__WORDSIZE


	)

306 
	#UINTPTR_WIDTH
 
__WORDSIZE


	)

308 
	#INTMAX_WIDTH
 64

	)

309 
	#UINTMAX_WIDTH
 64

	)

311 
	#PTRDIFF_WIDTH
 
__WORDSIZE


	)

312 
	#SIG_ATOMIC_WIDTH
 32

	)

313 
	#SIZE_WIDTH
 
__WORDSIZE


	)

314 
	#WCHAR_WIDTH
 32

	)

315 
	#WINT_WIDTH
 32

	)

	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

25 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	#__Ãed_size_t


	)

29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

31 
	~<¡ddef.h
>

33 
	g__BEGIN_DECLS


35 
	#_STDLIB_H
 1

	)

37 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


39 
	~<b™s/wa™æags.h
>

40 
	~<b™s/wa™¡©us.h
>

43 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (¡©us)

	)

44 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (¡©us)

	)

45 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (¡©us)

	)

46 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (¡©us)

	)

47 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (¡©us)

	)

48 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (¡©us)

	)

49 #ifdeà
__WIFCONTINUED


50 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (¡©us)

	)

55 
	~<b™s/æßŠ.h
>

60 
	mquÙ
;

61 
	m»m
;

62 } 
	tdiv_t
;

65 #iâdeà
__ldiv_t_defšed


68 
	mquÙ
;

69 
	m»m
;

70 } 
	tldiv_t
;

71 
	#__ldiv_t_defšed
 1

	)

74 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


76 
__ex‹nsiÚ__
 struct

78 
	mquÙ
;

79 
	m»m
;

80 } 
	tÎdiv_t
;

81 
	#__Îdiv_t_defšed
 1

	)

86 
	#RAND_MAX
 2147483647

	)

91 
	#EXIT_FAILURE
 1

	)

92 
	#EXIT_SUCCESS
 0

	)

96 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

97 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

101 
	$©of
 (cÚ¡ *
__ÅŒ
)

102 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

104 
	$©oi
 (cÚ¡ *
__ÅŒ
)

105 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

107 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

108 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

110 #ifdeà
__USE_ISOC99


112 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

113 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

117 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

118 **
__»¡riù
 
__’d±r
)

119 
__THROW
 
	`__nÚnuÎ
 ((1));

121 #ifdef 
__USE_ISOC99


123 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

124 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

126 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

127 **
__»¡riù
 
__’d±r
)

128 
__THROW
 
	`__nÚnuÎ
 ((1));

133 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
_Flßt16
 
	$¡¹of16
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

135 **
__»¡riù
 
__’d±r
)

136 
__THROW
 
	`__nÚnuÎ
 ((1));

139 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

140 
_Flßt32
 
	$¡¹of32
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

141 **
__»¡riù
 
__’d±r
)

142 
__THROW
 
	`__nÚnuÎ
 ((1));

145 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

146 
_Flßt64
 
	$¡¹of64
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

147 **
__»¡riù
 
__’d±r
)

148 
__THROW
 
	`__nÚnuÎ
 ((1));

151 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

152 
_Flßt128
 
	$¡¹of128
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

153 **
__»¡riù
 
__’d±r
)

154 
__THROW
 
	`__nÚnuÎ
 ((1));

157 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

158 
_Flßt32x
 
	$¡¹of32x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

159 **
__»¡riù
 
__’d±r
)

160 
__THROW
 
	`__nÚnuÎ
 ((1));

163 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

164 
_Flßt64x
 
	$¡¹of64x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

169 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

170 
_Flßt128x
 
	$¡¹of128x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

171 **
__»¡riù
 
__’d±r
)

172 
__THROW
 
	`__nÚnuÎ
 ((1));

176 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

177 **
__»¡riù
 
__’d±r
, 
__ba£
)

178 
__THROW
 
	`__nÚnuÎ
 ((1));

180 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

181 **
__»¡riù
 
__’d±r
, 
__ba£
)

182 
__THROW
 
	`__nÚnuÎ
 ((1));

184 #ifdeà
__USE_MISC


186 
__ex‹nsiÚ__


187 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

191 
__ex‹nsiÚ__


192 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

193 **
__»¡riù
 
__’d±r
, 
__ba£
)

194 
__THROW
 
	`__nÚnuÎ
 ((1));

197 #ifdeà
__USE_ISOC99


199 
__ex‹nsiÚ__


200 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

204 
__ex‹nsiÚ__


205 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

206 **
__»¡riù
 
__’d±r
, 
__ba£
)

207 
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

212 
	$¡räomd
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

213 
__f
)

214 
__THROW
 
	`__nÚnuÎ
 ((3));

216 
	$¡räomf
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

217 
__f
)

218 
__THROW
 
	`__nÚnuÎ
 ((3));

220 
	$¡räoml
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

221 
__f
)

222 
__THROW
 
	`__nÚnuÎ
 ((3));

225 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

226 
	$¡räomf16
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

227 
_Flßt16
 
__f
)

228 
__THROW
 
	`__nÚnuÎ
 ((3));

231 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

232 
	$¡räomf32
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

233 
_Flßt32
 
__f
)

234 
__THROW
 
	`__nÚnuÎ
 ((3));

237 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

238 
	$¡räomf64
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

239 
_Flßt64
 
__f
)

240 
__THROW
 
	`__nÚnuÎ
 ((3));

243 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

244 
	$¡räomf128
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

245 
_Flßt128
 
__f
)

246 
__THROW
 
	`__nÚnuÎ
 ((3));

249 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

250 
	$¡räomf32x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

251 
_Flßt32x
 
__f
)

252 
__THROW
 
	`__nÚnuÎ
 ((3));

255 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

256 
	$¡räomf64x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

257 
_Flßt64x
 
__f
)

258 
__THROW
 
	`__nÚnuÎ
 ((3));

261 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

262 
	$¡räomf128x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

263 
_Flßt128x
 
__f
)

264 
__THROW
 
	`__nÚnuÎ
 ((3));

268 #ifdeà
__USE_GNU


272 
	~<b™s/ty³s/loÿË_t.h
>

274 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

275 **
__»¡riù
 
__’d±r
, 
__ba£
,

276 
loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

278 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

279 **
__»¡riù
 
__’d±r
,

280 
__ba£
, 
loÿË_t
 
__loc
)

281 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

283 
__ex‹nsiÚ__


284 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

285 **
__»¡riù
 
__’d±r
, 
__ba£
,

286 
loÿË_t
 
__loc
)

287 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

289 
__ex‹nsiÚ__


290 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

291 **
__»¡riù
 
__’d±r
,

292 
__ba£
, 
loÿË_t
 
__loc
)

293 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

295 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

296 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

297 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

299 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

300 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

301 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

303 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

304 **
__»¡riù
 
__’d±r
,

305 
loÿË_t
 
__loc
)

306 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

308 #ià
__HAVE_FLOAT16


309 
_Flßt16
 
	$¡¹of16_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

310 **
__»¡riù
 
__’d±r
,

311 
loÿË_t
 
__loc
)

312 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

315 #ià
__HAVE_FLOAT32


316 
_Flßt32
 
	$¡¹of32_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

317 **
__»¡riù
 
__’d±r
,

318 
loÿË_t
 
__loc
)

319 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

322 #ià
__HAVE_FLOAT64


323 
_Flßt64
 
	$¡¹of64_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

324 **
__»¡riù
 
__’d±r
,

325 
loÿË_t
 
__loc
)

326 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

329 #ià
__HAVE_FLOAT128


330 
_Flßt128
 
	$¡¹of128_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 **
__»¡riù
 
__’d±r
,

332 
loÿË_t
 
__loc
)

333 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

336 #ià
__HAVE_FLOAT32X


337 
_Flßt32x
 
	$¡¹of32x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

338 **
__»¡riù
 
__’d±r
,

339 
loÿË_t
 
__loc
)

340 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

343 #ià
__HAVE_FLOAT64X


344 
_Flßt64x
 
	$¡¹of64x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

345 **
__»¡riù
 
__’d±r
,

346 
loÿË_t
 
__loc
)

347 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

350 #ià
__HAVE_FLOAT128X


351 
_Flßt128x
 
	$¡¹of128x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

352 **
__»¡riù
 
__’d±r
,

353 
loÿË_t
 
__loc
)

354 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

359 #ifdeà
__USE_EXTERN_INLINES


360 
__ex‹º_šlše
 

361 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

363  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

364 
	}
}

365 
__ex‹º_šlše
 

366 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

368  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

369 
	}
}

371 #ifdeà
__USE_ISOC99


372 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

373 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

375  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

376 
	}
}

381 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


385 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

388 
	$a64l
 (cÚ¡ *
__s
)

389 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

393 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


394 
	~<sys/ty³s.h
>

401 
	$¿ndom
 (è
__THROW
;

404 
	$¤ªdom
 (
__£ed
è
__THROW
;

410 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

411 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

415 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

418 #ifdeà
__USE_MISC


423 
	s¿ndom_d©a


425 
št32_t
 *
åŒ
;

426 
št32_t
 *
½Œ
;

427 
št32_t
 *
¡©e
;

428 
¿nd_ty³
;

429 
¿nd_deg
;

430 
¿nd_£p
;

431 
št32_t
 *
’d_±r
;

434 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

435 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

437 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

438 
__THROW
 
	`__nÚnuÎ
 ((2));

440 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

441 
size_t
 
__¡©–’
,

442 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

443 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

445 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

446 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

447 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$¿nd
 (è
__THROW
;

455 
	$¤ªd
 (
__£ed
è
__THROW
;

457 #ifdeà
__USE_POSIX199506


459 
	$¿nd_r
 (*
__£ed
è
__THROW
;

463 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


467 
	$d¿nd48
 (è
__THROW
;

468 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

471 
	$Ìªd48
 (è
__THROW
;

472 
	$Äªd48
 (
__xsubi
[3])

473 
__THROW
 
	`__nÚnuÎ
 ((1));

476 
	$m¿nd48
 (è
__THROW
;

477 
	$j¿nd48
 (
__xsubi
[3])

478 
__THROW
 
	`__nÚnuÎ
 ((1));

481 
	$¤ªd48
 (
__£edv®
è
__THROW
;

482 *
	$£ed48
 (
__£ed16v
[3])

483 
__THROW
 
	`__nÚnuÎ
 ((1));

484 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

486 #ifdeà
__USE_MISC


490 
	sd¿nd48_d©a


492 
__x
[3];

493 
__Şd_x
[3];

494 
__c
;

495 
__š™
;

496 
__ex‹nsiÚ__
 
__a
;

501 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

502 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

503 
	$”ªd48_r
 (
__xsubi
[3],

504 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

505 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

508 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

509 *
__»¡riù
 
__»suÉ
)

510 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

511 
	$Äªd48_r
 (
__xsubi
[3],

512 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

513 *
__»¡riù
 
__»suÉ
)

514 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

517 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

518 *
__»¡riù
 
__»suÉ
)

519 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

520 
	$j¿nd48_r
 (
__xsubi
[3],

521 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

522 *
__»¡riù
 
__»suÉ
)

523 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

526 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

527 
__THROW
 
	`__nÚnuÎ
 ((2));

529 
	$£ed48_r
 (
__£ed16v
[3],

530 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

532 
	$lcÚg48_r
 (
__·¿m
[7],

533 
d¿nd48_d©a
 *
__bufãr
)

534 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

539 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

541 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

542 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

549 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

550 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

552 #ifdeà
__USE_GNU


558 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

559 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

563 
	$ä“
 (*
__±r
è
__THROW
;

565 #ifdeà
__USE_MISC


566 
	~<®loÿ.h
>

569 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

570 || 
defšed
 
__USE_MISC


572 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

575 #ifdeà
__USE_XOPEN2K


577 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

578 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

581 #ifdeà
__USE_ISOC11


583 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

584 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

588 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

592 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

594 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


596 #ifdeà
__ılu¥lus


597 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

598 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

600 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

604 #ifdef 
__USE_MISC


607 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

608 
__THROW
 
	`__nÚnuÎ
 ((1));

614 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

616 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


620 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

623 #ifdeà
__USE_ISOC99


626 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

631 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_GNU


636 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

637 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

640 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


644 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

647 #ifdeà
__USE_XOPEN2K


650 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

651 
__THROW
 
	`__nÚnuÎ
 ((2));

654 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

657 #ifdef 
__USE_MISC


661 
	$ş—»nv
 (è
__THROW
;

665 #ià
defšed
 
__USE_MISC
 \

666 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

672 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

675 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


684 #iâdeà
__USE_FILE_OFFSET64


685 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

687 #ifdeà
__REDIRECT


688 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

689 
	`__nÚnuÎ
 ((1)è
__wur
;

691 
	#mk¡emp
 
mk¡emp64


	)

694 #ifdeà
__USE_LARGEFILE64


695 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

699 #ifdeà
__USE_MISC


706 #iâdeà
__USE_FILE_OFFSET64


707 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

711 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

713 
	#mk¡emps
 
mk¡emps64


	)

716 #ifdeà
__USE_LARGEFILE64


717 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

718 
	`__nÚnuÎ
 ((1)è
__wur
;

722 #ifdeà
__USE_XOPEN2K8


728 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

731 #ifdeà
__USE_GNU


738 #iâdeà
__USE_FILE_OFFSET64


739 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

741 #ifdeà
__REDIRECT


742 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

743 
	`__nÚnuÎ
 ((1)è
__wur
;

745 
	#mko¡emp
 
mko¡emp64


	)

748 #ifdeà
__USE_LARGEFILE64


749 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

758 #iâdeà
__USE_FILE_OFFSET64


759 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

760 
	`__nÚnuÎ
 ((1)è
__wur
;

762 #ifdeà
__REDIRECT


763 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

764 
__æags
), 
mko¡emps64
)

765 
	`__nÚnuÎ
 ((1)è
__wur
;

767 
	#mko¡emps
 
mko¡emps64


	)

770 #ifdeà
__USE_LARGEFILE64


771 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

772 
	`__nÚnuÎ
 ((1)è
__wur
;

781 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

784 #ifdef 
__USE_GNU


787 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

788 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

791 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


797 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

798 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

803 #iâdeà
__COMPAR_FN_T


804 
	#__COMPAR_FN_T


	)

805 (*
	t__com·r_â_t
) (const *, const *);

807 #ifdef 
__USE_GNU


808 
__com·r_â_t
 
	tcom·risÚ_â_t
;

811 #ifdeà
__USE_GNU


812 (*
	t__com·r_d_â_t
) (const *, const *, *);

817 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

818 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

819 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

821 #ifdeà
__USE_EXTERN_INLINES


822 
	~<b™s/¡dlib-b£¬ch.h
>

827 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

828 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

829 #ifdeà
__USE_GNU


830 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

831 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

832 
	`__nÚnuÎ
 ((1, 4));

837 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

838 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

840 #ifdeà
__USE_ISOC99


841 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

842 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

849 
div_t
 
	$div
 (
__num”
, 
__d’om
)

850 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

851 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

852 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

854 #ifdeà
__USE_ISOC99


855 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

856 
__d’om
)

857 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

861 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

862 || 
defšed
 
__USE_MISC


869 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

870 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

875 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

876 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

881 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

882 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

885 #ifdeà
__USE_MISC


887 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

888 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

889 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

890 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

891 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

892 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

893 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

894 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

899 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

900 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

901 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

902 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

903 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

904 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

906 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

907 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

908 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

909 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

910 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

911 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

912 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

913 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

919 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

922 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

923 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

926 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

930 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

931 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

933 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

934 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

935 
__THROW
;

938 #ifdeà
__USE_MISC


943 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

947 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


954 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

955 *cÚ¡ *
__»¡riù
 
__tok’s
,

956 **
__»¡riù
 
__v®u•
)

957 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

963 #ifdeà
__USE_XOPEN2KXSI


965 
	$posix_İ’±
 (
__oæag
è
__wur
;

968 #ifdeà
__USE_XOPEN_EXTENDED


973 
	$g¿Á±
 (
__fd
è
__THROW
;

977 
	$uÆock±
 (
__fd
è
__THROW
;

982 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

985 #ifdeà
__USE_GNU


989 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

990 
__THROW
 
	`__nÚnuÎ
 ((2));

993 
	`g‘±
 ();

996 #ifdeà
__USE_MISC


1000 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

1001 
__THROW
 
	`__nÚnuÎ
 ((1));

1004 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K


1007 
	$‰y¦Ù
 (è
__THROW
;

1010 
	~<b™s/¡dlib-æßt.h
>

1013 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1014 
	~<b™s/¡dlib.h
>

1016 #ifdeà
__LDBL_COMPAT


1017 
	~<b™s/¡dlib-ldbl.h
>

1020 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

36 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

37 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

52 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


53 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

54 
__c
, 
size_t
 
__n
)

55 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

63 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

64 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

67 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


70 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

71 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

72 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

75 #ifdeà
__OPTIMIZE__


76 
__ex‹º_®ways_šlše
 *

77 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


79  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

82 
__ex‹º_®ways_šlše
 const *

83 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


85  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

88 
	}
}

90 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

91 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

94 #ifdeà
__USE_GNU


97 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


98 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

99 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

100 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

101 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

108 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


109 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

110 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

112 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

121 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

122 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

124 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

125 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

129 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

132 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

133 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

137 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

139 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

140 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

146 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

147 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

148 
__THROW
 
	`__nÚnuÎ
 ((2));

150 #ifdeà
__USE_XOPEN2K8


152 
	~<b™s/ty³s/loÿË_t.h
>

155 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__l
)

156 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

159 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

160 
loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

163 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8
 \

164 || 
	$__GLIBC_USE
 (
LIB_EXT2
))

166 *
	$¡rdup
 (cÚ¡ *
__s
)

167 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

173 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

174 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

175 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

178 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


180 
	#¡rdu·
(
s
) \

181 (
__ex‹nsiÚ__
 \

183 cÚ¡ *
__Şd
 = (
s
); \

184 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

185 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

186 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

187 
	}
}))

	)

190 
	#¡ºdu·
(
s
, 
n
) \

191 (
__ex‹nsiÚ__
 \

193 cÚ¡ *
__Şd
 = (
s
); \

194 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

195 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

196 
__Ãw
[
__Ën
] = '\0'; \

197 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

198 }))

	)

202 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


205 *
¡rchr
 (*
__s
, 
__c
)

206 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

207 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

208 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

210 #ifdeà
__OPTIMIZE__


211 
__ex‹º_®ways_šlše
 *

212 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


214  
__butš_¡rchr
 (
__s
, 
__c
);

217 
__ex‹º_®ways_šlše
 const *

218 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


220  
__butš_¡rchr
 (
__s
, 
__c
);

225 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

226 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

229 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


232 *
	`¡¼chr
 (*
__s
, 
__c
)

233 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

234 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

235 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

237 #ifdeà
__OPTIMIZE__


238 
__ex‹º_®ways_šlše
 *

239 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


241  
	`__butš_¡¼chr
 (
__s
, 
__c
);

244 
__ex‹º_®ways_šlše
 const *

245 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


247  
	`__butš_¡¼chr
 (
__s
, 
__c
);

250 
	}
}

252 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

253 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

256 #ifdeà
__USE_GNU


259 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


260 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

261 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

262 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

263 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

265 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

266 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

272 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

273 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

276 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

277 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

279 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


282 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

283 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

284 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

285 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

287 #ifdeà
__OPTIMIZE__


288 
__ex‹º_®ways_šlše
 *

289 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


291  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

294 
__ex‹º_®ways_šlše
 const *

295 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


297  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

300 
	}
}

302 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

303 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

306 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


309 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

310 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

311 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

312 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

314 #ifdeà
__OPTIMIZE__


315 
__ex‹º_®ways_šlše
 *

316 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


318  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

321 
__ex‹º_®ways_šlše
 const *

322 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


324  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

327 
	}
}

329 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

330 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

336 
__THROW
 
	`__nÚnuÎ
 ((2));

340 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

341 cÚ¡ *
__»¡riù
 
__d–im
,

342 **
__»¡riù
 
__§ve_±r
)

343 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

344 #ifdeà
__USE_POSIX


345 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

346 **
__»¡riù
 
__§ve_±r
)

347 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

350 #ifdeà
__USE_GNU


352 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


353 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

354 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

355 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

356 cÚ¡ *
__ÃedË
)

357 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

359 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

360 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

364 #ifdeà
__USE_GNU


368 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

369 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

370 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

374 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

375 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

376 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

377 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

378 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

379 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

384 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

385 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

387 #ifdef 
__USE_XOPEN2K8


390 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

391 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

396 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

397 #ifdeà
__USE_XOPEN2K


405 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


408 #ifdeà
__REDIRECT_NTH


409 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

410 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

411 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

413 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

414 
__THROW
 
	`__nÚnuÎ
 ((2));

415 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

420 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

421 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

425 #ifdeà
__USE_XOPEN2K8


427 *
	$¡»¼Ü_l
 (
__”ºum
, 
loÿË_t
 
__l
è
__THROW
;

430 #ifdeà
__USE_MISC


431 
	~<¡ršgs.h
>

435 
	$ex¶ic™_bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

439 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

440 cÚ¡ *
__»¡riù
 
__d–im
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

444 #ifdef 
__USE_XOPEN2K8


446 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

449 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

450 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

451 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

452 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

456 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

457 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

458 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

460 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

461 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

464 #ifdef 
__USE_GNU


466 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

467 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

470 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

473 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

475 #iâdeà
ba£Çme


480 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


481 "C++" *
	$ba£Çme
 (*
__f’ame
)

482 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

483 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

484 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

486 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

491 #ià
	`__GNUC_PREREQ
 (3,4)

492 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


494 
	~<b™s/¡ršg_fÜtif›d.h
>

498 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/strings.h

18 #iâdef 
_STRINGS_H


19 
	#_STRINGS_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	#__Ãed_size_t


	)

23 
	~<¡ddef.h
>

26 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

27 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

30 
	g__BEGIN_DECLS


32 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


34 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

35 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

38 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

39 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

42 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

45 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


48 *
	`šdex
 (*
__s
, 
__c
)

49 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

50 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

51 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

53 #ià
defšed
 
__OPTIMIZE__


54 
__ex‹º_®ways_šlše
 *

55 
	`šdex
 (*
__s
, 
__c
è
__THROW


57  
	`__butš_šdex
 (
__s
, 
__c
);

60 
__ex‹º_®ways_šlše
 const *

61 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


63  
	`__butš_šdex
 (
__s
, 
__c
);

66 
	}
}

68 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

69 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

73 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


76 *
	`ršdex
 (*
__s
, 
__c
)

77 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

78 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

79 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ià
defšed
 
__OPTIMIZE__


82 
__ex‹º_®ways_šlše
 *

83 
	`ršdex
 (*
__s
, 
__c
è
__THROW


85  
	`__butš_ršdex
 (
__s
, 
__c
);

88 
__ex‹º_®ways_šlše
 const *

89 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


91  
	`__butš_ršdex
 (
__s
, 
__c
);

94 
	}
}

96 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

97 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

101 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8
 || defšed 
__USE_XOPEN2K8XSI


104 
	$ffs
 (
__i
è
__THROW
 
__©Œibu‹_cÚ¡__
;

109 #ifdef 
__USE_MISC


110 
	$ff¦
 (
__l
è
__THROW
 
__©Œibu‹_cÚ¡__
;

111 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

112 
__THROW
 
__©Œibu‹_cÚ¡__
;

116 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

117 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

120 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

121 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

123 #ifdef 
__USE_XOPEN2K8


125 
	~<b™s/ty³s/loÿË_t.h
>

128 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__loc
)

129 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

133 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

134 
size_t
 
__n
, 
loÿË_t
 
__loc
)

135 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

138 
__END_DECLS


140 #ià
	`__GNUC_PREREQ
 (3,4è&& 
__USE_FORTIFY_LEVEL
 > 0 \

141 && 
defšed
 
__fÜtify_funùiÚ


143 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


144 
	~<b™s/¡ršgs_fÜtif›d.h
>

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

119 #undeà
__USE_ISOC11


120 #undeà
__USE_ISOC99


121 #undeà
__USE_ISOC95


122 #undeà
__USE_ISOCXX11


123 #undeà
__USE_POSIX


124 #undeà
__USE_POSIX2


125 #undeà
__USE_POSIX199309


126 #undeà
__USE_POSIX199506


127 #undeà
__USE_XOPEN


128 #undeà
__USE_XOPEN_EXTENDED


129 #undeà
__USE_UNIX98


130 #undeà
__USE_XOPEN2K


131 #undeà
__USE_XOPEN2KXSI


132 #undeà
__USE_XOPEN2K8


133 #undeà
__USE_XOPEN2K8XSI


134 #undeà
__USE_LARGEFILE


135 #undeà
__USE_LARGEFILE64


136 #undeà
__USE_FILE_OFFSET64


137 #undeà
__USE_MISC


138 #undeà
__USE_ATFILE


139 #undeà
__USE_GNU


140 #undeà
__USE_FORTIFY_LEVEL


141 #undeà
__KERNEL_STRICT_NAMES


142 #undeà
__GLIBC_USE_DEPRECATED_GETS


146 #iâdeà
_LOOSE_KERNEL_NAMES


147 
	#__KERNEL_STRICT_NAMES


	)

157 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


158 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

159 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

161 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

168 #ià
defšed
 
__şªg_majÜ__
 && defšed 
__şªg_mšÜ__


169 
	#__glibc_şªg_´”eq
(
maj
, 
mš
) \

170 ((
__şªg_majÜ__
 << 16è+ 
__şªg_mšÜ__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

172 
	#__glibc_şªg_´”eq
(
maj
, 
mš
è0

	)

176 
	#__GLIBC_USE
(
F
è
__GLIBC_USE_
 ## 
	)
F

182 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

183 && !
defšed
 
	g_DEFAULT_SOURCE


185 #undeà
_DEFAULT_SOURCE


186 
	#_DEFAULT_SOURCE
 1

	)

190 #ifdeà
_GNU_SOURCE


191 #undeà
_ISOC95_SOURCE


192 
	#_ISOC95_SOURCE
 1

	)

193 #undeà
_ISOC99_SOURCE


194 
	#_ISOC99_SOURCE
 1

	)

195 #undeà
_ISOC11_SOURCE


196 
	#_ISOC11_SOURCE
 1

	)

197 #undeà
_POSIX_SOURCE


198 
	#_POSIX_SOURCE
 1

	)

199 #undeà
_POSIX_C_SOURCE


200 
	#_POSIX_C_SOURCE
 200809L

	)

201 #undeà
_XOPEN_SOURCE


202 
	#_XOPEN_SOURCE
 700

	)

203 #undeà
_XOPEN_SOURCE_EXTENDED


204 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

205 #undeà
_LARGEFILE64_SOURCE


206 
	#_LARGEFILE64_SOURCE
 1

	)

207 #undeà
_DEFAULT_SOURCE


208 
	#_DEFAULT_SOURCE
 1

	)

209 #undeà
_ATFILE_SOURCE


210 
	#_ATFILE_SOURCE
 1

	)

215 #ià(
defšed
 
_DEFAULT_SOURCE
 \

216 || (!
defšed
 
	g__STRICT_ANSI__
 \

217 && !
defšed
 
	g_ISOC99_SOURCE
 && !defšed 
	g_ISOC11_SOURCE
 \

218 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

219 && !
defšed
 
	g_XOPEN_SOURCE
))

220 #undeà
_DEFAULT_SOURCE


221 
	#_DEFAULT_SOURCE
 1

	)

225 #ià(
defšed
 
_ISOC11_SOURCE
 \

226 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

227 
	#__USE_ISOC11
 1

	)

231 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

232 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

233 
	#__USE_ISOC99
 1

	)

237 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

238 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

239 
	#__USE_ISOC95
 1

	)

242 #ifdeà
__ılu¥lus


244 #ià
__ılu¥lus
 >= 201703L

245 
	#__USE_ISOC11
 1

	)

249 #ià
__ılu¥lus
 >ğ201103L || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__


250 
	#__USE_ISOCXX11
 1

	)

251 
	#__USE_ISOC99
 1

	)

258 #ifdeà
_DEFAULT_SOURCE


259 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


260 
	#__USE_POSIX_IMPLICITLY
 1

	)

262 #undeà
_POSIX_SOURCE


263 
	#_POSIX_SOURCE
 1

	)

264 #undeà
_POSIX_C_SOURCE


265 
	#_POSIX_C_SOURCE
 200809L

	)

268 #ià((!
defšed
 
__STRICT_ANSI__
 \

269 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

270 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

271 
	#_POSIX_SOURCE
 1

	)

272 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

273 
	#_POSIX_C_SOURCE
 2

	)

274 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

275 
	#_POSIX_C_SOURCE
 199506L

	)

276 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

277 
	#_POSIX_C_SOURCE
 200112L

	)

279 
	#_POSIX_C_SOURCE
 200809L

	)

281 
	#__USE_POSIX_IMPLICITLY
 1

	)

290 #ià((!
defšed
 
_POSIX_C_SOURCE
 || (_POSIX_C_SOURCE - 0) < 199506L) \

291 && (
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE
))

292 
	#_POSIX_SOURCE
 1

	)

293 #undeà
_POSIX_C_SOURCE


294 
	#_POSIX_C_SOURCE
 199506L

	)

297 #ià(
defšed
 
_POSIX_SOURCE
 \

298 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

299 || 
defšed
 
_XOPEN_SOURCE
)

300 
	#__USE_POSIX
 1

	)

303 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


304 
	#__USE_POSIX2
 1

	)

307 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

308 
	#__USE_POSIX199309
 1

	)

311 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

312 
	#__USE_POSIX199506
 1

	)

315 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

316 
	#__USE_XOPEN2K
 1

	)

317 #undeà
__USE_ISOC95


318 
	#__USE_ISOC95
 1

	)

319 #undeà
__USE_ISOC99


320 
	#__USE_ISOC99
 1

	)

323 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

324 
	#__USE_XOPEN2K8
 1

	)

325 #undeà
_ATFILE_SOURCE


326 
	#_ATFILE_SOURCE
 1

	)

329 #ifdef 
_XOPEN_SOURCE


330 
	#__USE_XOPEN
 1

	)

331 #ià(
_XOPEN_SOURCE
 - 0) >= 500

332 
	#__USE_XOPEN_EXTENDED
 1

	)

333 
	#__USE_UNIX98
 1

	)

334 #undeà
_LARGEFILE_SOURCE


335 
	#_LARGEFILE_SOURCE
 1

	)

336 #ià(
_XOPEN_SOURCE
 - 0) >= 600

337 #ià(
_XOPEN_SOURCE
 - 0) >= 700

338 
	#__USE_XOPEN2K8
 1

	)

339 
	#__USE_XOPEN2K8XSI
 1

	)

341 
	#__USE_XOPEN2K
 1

	)

342 
	#__USE_XOPEN2KXSI
 1

	)

343 #undeà
__USE_ISOC95


344 
	#__USE_ISOC95
 1

	)

345 #undeà
__USE_ISOC99


346 
	#__USE_ISOC99
 1

	)

349 #ifdeà
_XOPEN_SOURCE_EXTENDED


350 
	#__USE_XOPEN_EXTENDED
 1

	)

355 #ifdeà
_LARGEFILE_SOURCE


356 
	#__USE_LARGEFILE
 1

	)

359 #ifdeà
_LARGEFILE64_SOURCE


360 
	#__USE_LARGEFILE64
 1

	)

363 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

364 
	#__USE_FILE_OFFSET64
 1

	)

367 #ià
defšed
 
_DEFAULT_SOURCE


368 
	#__USE_MISC
 1

	)

371 #ifdef 
_ATFILE_SOURCE


372 
	#__USE_ATFILE
 1

	)

375 #ifdef 
_GNU_SOURCE


376 
	#__USE_GNU
 1

	)

379 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

380 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

381 #ià
_FORTIFY_SOURCE
 > 1

382 
	#__USE_FORTIFY_LEVEL
 2

	)

384 
	#__USE_FORTIFY_LEVEL
 1

	)

387 
	#__USE_FORTIFY_LEVEL
 0

	)

394 #ià
defšed
 
__ılu¥lus
 ? __ılu¥lu >ğ201402L : defšed 
__USE_ISOC11


395 
	#__GLIBC_USE_DEPRECATED_GETS
 0

	)

397 
	#__GLIBC_USE_DEPRECATED_GETS
 1

	)

402 
	~<¡dc-´edef.h
>

410 #undeà
__GNU_LIBRARY__


411 
	#__GNU_LIBRARY__
 6

	)

415 
	#__GLIBC__
 2

	)

416 
	#__GLIBC_MINOR__
 28

	)

418 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

419 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

422 #iâdeà
__ASSEMBLER__


423 #iâdeà
_SYS_CDEFS_H


424 
	~<sys/cdefs.h
>

429 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


430 
	#__USE_LARGEFILE
 1

	)

431 
	#__USE_LARGEFILE64
 1

	)

437 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

438 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

439 && 
defšed
 
	g__ex‹º_šlše


440 
	#__USE_EXTERN_INLINES
 1

	)

448 
	~<gnu/¡ubs.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

58 
	#__STDC_ISO_10646__
 201706L

	)

	@
1
.
1
/usr/include
129
4330
src/FastLED.cpp
src/FastLED.h
src/bitswap.cpp
src/bitswap.h
src/chipsets.h
src/color.h
src/colorpalettes.cpp
src/colorpalettes.h
src/colorutils.cpp
src/colorutils.h
src/controller.h
src/cpp_compat.h
src/dmx.h
src/fastled_config.h
src/fastled_delay.h
src/fastled_progmem.h
src/fastpin.h
src/fastspi.h
src/fastspi_bitbang.h
src/fastspi_dma.h
src/fastspi_nop.h
src/fastspi_ref.h
src/fastspi_types.h
src/hsv2rgb.cpp
src/hsv2rgb.h
src/led_sysdefs.h
src/lib8tion.cpp
src/lib8tion.h
src/lib8tion/math8.h
src/lib8tion/random8.h
src/lib8tion/scale8.h
src/lib8tion/trig8.h
src/noise.cpp
src/noise.h
src/pixelset.h
src/pixeltypes.h
src/platforms.cpp
src/platforms.h
src/platforms/apollo3/clockless_apollo3.h
src/platforms/apollo3/fastled_apollo3.h
src/platforms/apollo3/fastpin_apollo3.h
src/platforms/apollo3/fastspi_apollo3.h
src/platforms/apollo3/led_sysdefs_apollo3.h
src/platforms/arm/common/m0clockless.h
src/platforms/arm/d21/clockless_arm_d21.h
src/platforms/arm/d21/fastled_arm_d21.h
src/platforms/arm/d21/fastpin_arm_d21.h
src/platforms/arm/d21/led_sysdefs_arm_d21.h
src/platforms/arm/d51/clockless_arm_d51.h
src/platforms/arm/d51/fastled_arm_d51.h
src/platforms/arm/d51/fastpin_arm_d51.h
src/platforms/arm/d51/led_sysdefs_arm_d51.h
src/platforms/arm/k20/clockless_arm_k20.h
src/platforms/arm/k20/clockless_block_arm_k20.h
src/platforms/arm/k20/fastled_arm_k20.h
src/platforms/arm/k20/fastpin_arm_k20.h
src/platforms/arm/k20/fastspi_arm_k20.h
src/platforms/arm/k20/led_sysdefs_arm_k20.h
src/platforms/arm/k20/octows2811_controller.h
src/platforms/arm/k20/smartmatrix_t3.h
src/platforms/arm/k20/ws2812serial_controller.h
src/platforms/arm/k66/clockless_arm_k66.h
src/platforms/arm/k66/clockless_block_arm_k66.h
src/platforms/arm/k66/fastled_arm_k66.h
src/platforms/arm/k66/fastpin_arm_k66.h
src/platforms/arm/k66/fastspi_arm_k66.h
src/platforms/arm/k66/led_sysdefs_arm_k66.h
src/platforms/arm/kl26/clockless_arm_kl26.h
src/platforms/arm/kl26/fastled_arm_kl26.h
src/platforms/arm/kl26/fastpin_arm_kl26.h
src/platforms/arm/kl26/fastspi_arm_kl26.h
src/platforms/arm/kl26/led_sysdefs_arm_kl26.h
src/platforms/arm/mxrt1062/block_clockless_arm_mxrt1062.h
src/platforms/arm/mxrt1062/clockless_arm_mxrt1062.h
src/platforms/arm/mxrt1062/fastled_arm_mxrt1062.h
src/platforms/arm/mxrt1062/fastpin_arm_mxrt1062.h
src/platforms/arm/mxrt1062/fastspi_arm_mxrt1062.h
src/platforms/arm/mxrt1062/led_sysdefs_arm_mxrt1062.h
src/platforms/arm/nrf51/clockless_arm_nrf51.h
src/platforms/arm/nrf51/fastled_arm_nrf51.h
src/platforms/arm/nrf51/fastpin_arm_nrf51.h
src/platforms/arm/nrf51/fastspi_arm_nrf51.h
src/platforms/arm/nrf51/led_sysdefs_arm_nrf51.h
src/platforms/arm/nrf52/arbiter_nrf52.h
src/platforms/arm/nrf52/clockless_arm_nrf52.h
src/platforms/arm/nrf52/fastled_arm_nrf52.h
src/platforms/arm/nrf52/fastpin_arm_nrf52.h
src/platforms/arm/nrf52/fastpin_arm_nrf52_variants.h
src/platforms/arm/nrf52/fastspi_arm_nrf52.h
src/platforms/arm/nrf52/led_sysdefs_arm_nrf52.h
src/platforms/arm/sam/clockless_arm_sam.h
src/platforms/arm/sam/clockless_block_arm_sam.h
src/platforms/arm/sam/fastled_arm_sam.h
src/platforms/arm/sam/fastpin_arm_sam.h
src/platforms/arm/sam/fastspi_arm_sam.h
src/platforms/arm/sam/led_sysdefs_arm_sam.h
src/platforms/arm/stm32/clockless_arm_stm32.h
src/platforms/arm/stm32/cm3_regs.h
src/platforms/arm/stm32/fastled_arm_stm32.h
src/platforms/arm/stm32/fastpin_arm_stm32.h
src/platforms/arm/stm32/led_sysdefs_arm_stm32.h
src/platforms/avr/clockless_trinket.h
src/platforms/avr/fastled_avr.h
src/platforms/avr/fastpin_avr.h
src/platforms/avr/fastspi_avr.h
src/platforms/avr/led_sysdefs_avr.h
src/platforms/esp/32/clockless_block_esp32.h
src/platforms/esp/32/clockless_i2s_esp32.h
src/platforms/esp/32/clockless_rmt_esp32.cpp
src/platforms/esp/32/clockless_rmt_esp32.h
src/platforms/esp/32/fastled_esp32.h
src/platforms/esp/32/fastpin_esp32.h
src/platforms/esp/32/led_sysdefs_esp32.h
src/platforms/esp/8266/clockless_block_esp8266.h
src/platforms/esp/8266/clockless_esp8266.h
src/platforms/esp/8266/fastled_esp8266.h
src/platforms/esp/8266/fastpin_esp8266.h
src/platforms/esp/8266/led_sysdefs_esp8266.h
src/power_mgt.cpp
src/power_mgt.h
src/wiring.cpp
/usr/include/math.h
/usr/include/stdint.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/alloca.h
/usr/include/strings.h
/usr/include/features.h
/usr/include/stdc-predef.h
